// Subsurface 4.7 Gebruikershandleiding
// ==========================
// :author: Manual authors: Jacco van Koll, Dirk Hohndel, Reinout Hoornweg,
// Linus Torvalds, Miika Turkia, Amit Chaudhuri, Jan Schubert, Willem
// Ferguson, Salvador Cuñat, Pedro Neves, Stefan Fuchs
// :revnumber: 4.7
// :revdate: October 2017
:icons:
:toc2:
:toc-placement: manual
:numbered:
// :website: https://subsurface-divelog.org

image::images/Subsurface4Banner.jpg["Banner",align="center"]

[big]#GEBRUIKERSHANDLEIDING#

*Auteurs van de handleiding*: Willem Ferguson, Jacco van Koll, Dirk Hohndel,
Reinout Hoornweg,Linus Torvalds, Miika Turkia, Amit Chaudhuri, Jan Schubert,
Salvador Cuñat, Pedro Neves, Stefan Fuchs

[blue]#_Versie 4.7, oktober 2017_#

Welkom als gebruiker van _Subsurface_, een geavanceerd duiklogboek programma
met een breed scala aan functionaliteiten om je duiken vast te leggen, organiseren,
interpreteren, printen en plannen van duiken van welke aard dan ook. _Subsurface_
biedt vele voordelen ten opzichte van vergelijkbare programmatuur:

 - Heb je behoefte aan een flexibele manier van vastleggen van de recreatieve
   duiken zelfs zonder gebruik van een duikcomputer?
 - Wil je naadloos locaties van duikplekken vastleggen voor je duiken?
 - Gebruik je twee verschillende merken duikcomputers, ieder met zijn eigen,
   te bepekte en gesloten, programmatuur om je duiken in je digitale logboek te stoppen?
   Duik je met rebreathers en ook misschien wel met een recreatieve configuratie?
   Gebruik je een Reefnet Sensus tijd-diepte logger tezamen met een volwaardige
   duikcomputer? _Subsurface_ biedt een standaard platform om je duiken te laden,
   organiseren en analyseren vanuit al deze apparatuur op een gelijke wijze.
 - Gebruik je meer dan één besturingssysteem? _Subsurface_ werkt volledig op
   zowel Windows, Linux als Mac's. Met _Subsurface_ kan je je duiklogboek
   bewerken op alle platforms.
 - Gebruik je Linux of een Mac, maar jouw duikcomputer heeft alleen Windows
   gebaseerde programmatuur (bijvoorbeeld Mares of Scubapro). _Subsurface_ maakt het
   mogelijk ook op Linux of Mac te werken.
 - Wil je een intuïtieve grafische planner die geïntegreerd is met, en rekening
   houdt met de al gelogde duiken?
 - Wil je opslag of back-up van je duiken op internet, waar je bij je duiken kan
   bekijken met een normale webbrowser.
 - Wil je duiken bekijken en bewerken op een mobiele telefoon?

_Subsurface_ is beschikbaar voor Windows PC's (Windows 7 of nieuwer vanaf
versie 4.6 van _Subsurface_), Intel gebaseerde Mac's (OS/X) en vele
Linux distributies. _Subsurface_ kan gecompileerd worden voor vele hardware
platforms waar Qt en libdivecomputer beschikbaar zijn.

Deze handleiding legt het gebruik van _Subsurface_ uit. Hoe je het programma
moet installeren staat uitgelegd op _Downloaden_ page on the
https://subsurface-divelog.org/[_Subsurface_ website]. Vragen over of problemen met
het programma kunnen bij de ontwikkelaars gemeld worden via email op
mailto:subsurface@subsurface-divelog.org[onze mailinglijst]. Fouten kunnen
ook gemeld worden op https://github.com/Subsurface-divelog/subsurface/issues[onze bugtracker].
Instructies hoe _Subsurface_ zelf te compileren vanuit de broncode staan ook op
onze website en in het INSTALL bestand in de broncode.

*Doelgroep*: Recreatieve duikers, Tec duikers, Apneu duikers,
Professionele duikers.

toc::[]


Gebruik van deze handleiding
----------------------------
Wanneer geopend vanuit _Subsurface_ biedt deze handleiding geen paginering of
bladeren door pagina's. De volgende zoek mogelijkheden zijn echter wel beschikbaar:

- De _SEARCH_ functie wordt geactiveerd door ctrl-F of cmd-F op het toesenbord.
  Een invoerveld verschijnt aan de rechter onderkant (zie figuur hieronder). Bijvoorbeeld,
  het woord "_gewichten_" ingevoerd zoekt naar dat woord door de gehele handleiding.
  Met de twee pijlen zoek je naar het vorige of volgende voorkomen van het woord.

image::images/UserManualSearch.jpg["gebruikershandleiding functies",align="center"]

- _VORIGE/VOLGENDE LINK_. Verplaats tussen links (onderstreepte woorden in de tekst
  die wijzen naar andere delen in de handleiding) door rechts in de tekst te klikken.
  Er verschijnt dan een context menu met een _VORIGE_ knop om terug te keren
  naar de plek van de link. Teruggekeerd kan het context menu opnieuw gevraagd
  worden; er is nu ook een _VOLGENDE_ link om terug te keren naar de plek voordat op
  _VORIGE_ werd geklikt. Vergelijkbaar met een webbrowser derhalve. De _Reload_ knop
  herlaadt de handleiding.

image::images/UserManualLinksBack.jpg["gebruikershandleiding functies",align="center"]


[[S_UserSurvey]]
Het gebruikersonderzoek
-----------------------
Om _Subsurface_ te ontwikkelen in een richting die nuttig is voor de gebruikers
is het belangrijk om gebruikersonderzoek te doen. Na ongeveer een week gebruik
verschijnt bij opstarten van _Subsurface_ een één pagina grote pop-up met een
aantal vragen. Het invullen hiervan is volledig vrijwillig en je bent geheel
vrij informatie wel of niet te delen met het _Subsurface_ team. Alle
informatie is nuttig, en wordt uitsluitend gebruikt om richting te geven aan
verdere ontwikkeling van de programmatuur. Als je het onderzoek hebt ingevuld of
hebt gekozen om het niet meer te vragen, krijg je nooit meer een
gebruikersonderzoek pop-up. Echter, als je ooit opnieuw een onderzoek in wilt
vullen, bijvoorbeeld omdat je duiken of _Subsurface_ gebruik daar aanleiding toe
geven, kan je _Subsurface_ opstarten met de _--survey_ optie tijdens het opstarten.


[[S_StartUsing]]
Het programma voor het eerst gebruiken
--------------------------------------

Normaal gesproken is het Subsurface_ scherm verdeeld in 4 panelen, met een
*hoofdmenu* (Bestand Bewerken Importeren Logboek Toon Deel Help) bovenaan het
programmascherm (op Windows en Linux) of bovenaan het beeldscherm (
op Mac en Ubuntu Unity). De vier panelen zijn:

1. De *Duiklijst* linksonder toont alle duiken uit het (geopende) duiklogboek
van de gebruiker. Een duik kan geselecteerd worden door erop te klikken. Veelal
kunnen de pijl omhoog/omlaag gebruikt worden om te bladeren door de duiken. De
*Duiklijst* is het centrale hulpmiddel om het logboek te bewerken.

2. De *Duikkaart* rechtsonder toont de bezochte duikplekken op een kaart
en is gecentreerd op de laatst geselecteerde duik in de *Duiklijst*. De schaal
van de kaart kan aangepast worden.

3. Het *Informatie* paneel linksboven toont de details van de geselecteerde
duik, inclusief enige statistieken van de geselecteerde duik of meerdere
duiken als deze geselecteerd zijn in de duiklijst.

4. het *Duikprofiel* rechtsboven toon een grafisch duikprofiel van de geselecteerde
duik. In- en uit-zoomen in het profiel is mogelijk.

De scheidslijnen tussen de panelen kunnen worden versleept naar wens, en deze
instelling blijft behouden bij een nieuwe opstart van het programma.

Als er één duik is geselecteerd worden tegelijkertijd de duikkaart, informatiepaneel,
en het duikprofiel getoond van deze duik. Als er meerdere duiken zijn geselecteerd
wordt de informatie van de laatst (enkel) geselecteerde duik getoond. Echter, het
*Statistieken* tabblad toont geaggregeerde data voor alle geselecteerde duiken.

[[S_ViewPanels]]

image::images/main_window_f22.jpg["Het hoofdscherm",align="center"]

De gebruiker beslist welke panelen zichtbaar zijn met de opties in het *Toon*
menu. De volgende keuzes zijn mogelijk:

*Alle*: Toon de vier panelen zoals hierboven getoond.

*Duiklijst*: Toon allen de Duiklijst.

*Profiel*: Toon alleen het profiel van de geselecteerde duik.

*Info*: Toon alleen het informatie paneel van de geselecteerde duik, en
de statistieken van alle geselecteerde duiken.

*Wereldbol*: Toon alleen de kaart, gecentreerd op de laatst geselecteerde duik.

Zoals andere functies die uit het hoofdmenu kunnen worden geselecteerd, kunnen
deze ook met behulp van sneltoetsen geselecteerd worden. Een deel van de gebruikte
toetscombinaties staan in de menu's (ctrl/cmd combinaties). Een ander deel van de
sneltoetsen zijn bereikbaar door de Alt-toets in te drukken. Er verschijnt
dan een streepje onder de in te typen letter.

Als het programma voor het eerst wordt opgestart, en de duiklijst nog geheel leeg is,
wordt er een vrijwel leeg scherm getoond. In de volgende paragraaf wordt uitgelegd
hoe een nieuw logboek aan te maken.

[[S_NewLogbook]]
Een nieuw logboek maken
-----------------------
Selecteer _Bestand ->  Nieuw logboek_ uit het hoofdmenu. Alle bestaande duiken in
de duiklijst worden gesloten, en je krijgt een vraag of het oude logboek moet
worden bewaard als er openstaande wijzigingen zijn.

[[S_GetInformation]]
== Informatie opslaan in het logboek
Nu er een nieuw logboek is gemaakt is het eenvoudig een nieuwe duik toe
te voegen. _Subsurface_ kent een aantal manieren.

1) Als je een handgeschreven, spreadsheet of een andere handmatig bijgehouden
  logboek hebt, kan data op de volgende manieren worden toegevoegd:

 - Voeg de data handmatig toe. Dit is zinvol als de duiker geen duikcomputer heeft
 gebruikt en de duiken handmatig zijn bijgehouden. Zie
 xref:S_EnterData[Duiken handmatig toevoegen]

 - Importeer duiken die als spreadsheet of als CSV bestand zijn bijgehouden. Zie
 xref:S_Appendix_D[Bijlage D: Exporteer een spreadsheet naar CSV formaat] en
 xref:S_ImportingCSVDives[Importeer duiken in CSV formaat].

2) Als een duik is vastgelegd in een duikcomputer kan het diepteprofiel en
vele andere vastgelegde data opgeslagen worden in het logboek. De duiken kunnen
geïmporteerd worden van:
 - De duikcomputer zelf. Zie:
 xref:S_ImportDiveComputer[Importeer nieuwe duiken uit een duikcomputer];
 - Duikcomputer specifieke programmatuur die bij de duikcomputer is geleverd. Zie:
 xref:S_ImportingAlienDiveLogs[Importeer duik informatie van andere bronnen of andere formaten].
 - Spreadsheet of CSV bestanden die duik data bevatten. Zie:
 xref:S_ImportingCSVDives[Importeer duiken in CSV formaat uit duikcomputers of andere programmatuur]


[[S_EnterData]]
=== Duiken handmatig toevoegen
Dit is de gebruikelijke manier voor duikers zonder duikcomputer. Het basis gegeven
in _Subsurface_ is de duik. De belangrijkste informatie dat een eenvoudig
duiklogboek meestal bevat is duiktype, datum, tijd, duikduur, diepte, namen
buddy's, duikleider of gids, en wat vrije opmerkingen over de duik.
_Subsurface_ kan veel meer informatie opslaan van een duik.
Om een duik toe te voegen, selecteer _Logboek -> Duik toevoegen_ uit het hoofdmenu.

Het programma laat dan drie panelen zien om informatie op toe te voegen:
twee tabbladen in het *Info* paneel (*Notities* en *Uitrusting*) en daarnaast
het *Duikprofiel* paneel welke de duikgrafiek toont.
Deze panelen zijn respectievelijk gemarkeerd met [red]#A#, [red]#B# en
[red]#C# in het figuur hieronder. De drie panelen zullen nu verder worden beschreven
voor wat betreft data invoer.

image::images/AddDive1_f22.jpg["Figuur: Duik toevoegen",align="center"]
Op moment dat je een veld van een duik bewerkt gaat _Subsurface_ in
*Bewerken Mode*, hetgeen wordt aangegeven met de blauwe rechthoek in de
bovenzijde van het *Notities* paneel (zie de figuur hieronder).

image::images/BlueEditBar_f22.jpg["Blauwe bewerk mode",align="center"]

De _Wijzigingen Toepassen_ knop wordt normaal gesproken pas geselecteerd als
de gehele invoer compleet is. Merk op dat de _Wijzigingen Toepassen_ knop de informatie
in het geheugen opslaat, maar niet op de harde schijf. Op het moment van verlaten
het programma volgt de vraag of je het gehele logboek wilt opslaan, aangenomen dat
je iets hebt gewijzigd tijdens het gebruik van _Subsurface_.

[[S_CreateProfile]]
==== Een duikprofiel maken

Het *Duikprofiel* (een grafische representatie van de diepte van de duik als
een functie van de tijd) wordt rechtsboven op het scherm getoond. Als een duik
handmatig toegevoegd is, verschijnt er een standaard profiel dat handmatig
aangepast kan worden om de duik beter te representeren:

image::images/DiveProfile1_f20.jpg["Figuur: Initiële duikprofiel",align="center"]

_Het duikprofiel wijzigen_: Op moment dat de cursor over het profiel wordt
bewogen, tonen 2 rode lijnen de positie van de cursor zoals getoond in bovenstaand
figuur. De tijd en diepte staan in het grijze informatie scherm (@ en D). De
eenheden (metrisch/imperiaal) worden gedefinieerd in de *Voorkeuren* instelling.

Het duikprofiel zelf bestaat uit een aantal lijnsegmenten tussen routepunten
(witte punten in het profiel). De standaard diepte is 15m. Als de duikdiepte
bijvoorbeeld 20m was, versleep je benodigde punten naar beneden. Met dubbelklikken
op een lijnsegment voeg je een routepunt toe. Met de rechter muisknop op een route
punt, krijg je een context menu waarmee je "verwijder dit punt" kan doen.
Ook kan een punt verplaats worden voor het te selecteren en met de pijltjes
toetsen in 1m of 1s stappen te verplaatsen.

Versleep de punten zodanig dat een accuraat beeld van de duik wordt geschetst.
Hieronder staat bijvoorbeeld een duik naar 20 meter voor 30 minuten, met
een veiligheidsstop van 5 minuten.

image::images/DiveProfile2_f20.jpg["Figuur: Bewerkt duikprofiel",align="center"]

_De gassamenstelling specificeren:_ Het gebruikte gas wordt getoond langs
de lijnen van het profiel. Standaard wordt het eerste gas gebruikt zoals weergegeven
in het *Uitrusting* tabblad, en dat was lucht in het hierboven getoonde profiel.
Gas keuze kan gemaakt worden op een routepunt door rechts te klikken voor het context
menu en daar het gewenste gas te kiezen. Een gaswissel heeft effect _rechts_ van
het punt waarop deze wordt gedaan. Er kan alleen uit gassen worden gekozen die
zijn gedefinieerd in het *Uitrusting* tabblad (zie figuur hieronder).

image::images/DiveProfile3_f20.jpg["Figuur: Gaswissel context menu",align="center"]

Met het nu gedefinieerde profiel kan er meer data toegevoegd worden om een
completer beeld te geven van de duik. Hiertoe kunnen de *Notities* en
*Uitrusting* tabbladen gebruikt worden.
Klik op
xref:S_Notes_dc[*hier*] voor meer instructies hoe deze tabbladen te gebruiken.

[[S_ImportDiveComputer]]
=== Importeer nieuwe duiken uit een duikcomputer

==== Aansluiten van en importeren uit een duikcomputer.

Het gebruik van een duikcomputer maakt het verzamelen van veel data tijdens
een duik mogelijk, zoals een gedetailleerd diepteprofiel, duikduur, opstijg- en
afdaal-snelheid, en partitiele gasdrukken. _Subsurface_ kan deze informatie uit een
breed scala van duikcomputers lezen. De meest recente lijst van ondersteunde
duikcomputers staat op:
link:https://subsurface-divelog.org/nl/documentation/supported-dive-computers/[
Ondersteunde duikcomputers].

[icon="images/icons/warning2.png"]
[WARNING]
Verschillende duikcomputers verbruiken meer stroom als ze in PC communicatie
mode staan. **Dit kan de batterij van de duikcomputer uitputten**. Aangeraden wordt
om vooraf de toestand van de batterij te beoordelen alvorens deze op de USB
poort aan te sluiten. Diverse computers van bijvoorbeeld Suunto en Mares laden
niet op via de USB aansluiting. De handleiding van de duikcomputer kan hierover
uitsluitsel geven.

Om duik informatie van de duikcomputer naar een (desktop) computer te sturen moeten
de twee stukken apparatuur met elkaar communiceren. Hiertoe dient de communicatie
poort van de desktop PC (welke gebruikt gaat worden om met de duikcomputer te
communiceren) geselecteerd te worden in _Subsurface_.
xref:_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer[Bijlage A]
geeft technische details voor de ondersteunde besturingssystemen van _Subsurface_, en
xref:_appendix_b_dive_computer_specific_information_for_importing_dive_information[Bijlage B]
bevat specifieke duikcomputer details.

Hierna kan de duikcomputer aangesloten worden op de desktop PC op de volgende wijze:

1. De interface kabel moet worden aangesloten op een vrije USB poort (of een
  Bluetooth of infrarood verbinding moet worden gedefinieerd zoals later in deze
  handleiding beschreven).

2. De duikcomputer moet in PC communicatie mode worden gezet (zie de handleiding van
  de duikcomputer).

3. Selecteer uit het hoofdmenu _Importeer ->  Importeer uit duikcomputer_.
   Scherm *A* zoals hieronder getoond verschijnt:

image::images/DC_import_f20.jpg["Figuur: Download scherm 1",align="center"]

Duikcomputers hebben vaak een bepaald aantal duiken in het geheugen, zelfs
als deze eerder met _Subsurface_ zijn geïmporteerd. Daarom download Subsurface_
standaard alleen duiken die nog niet eerder gedownload zijn. Hierdoor is de
download sneller en kost dus minder batterijcapaciteit van de duikcomputer
(in ieder geval voor computers die niet opladen via de USB poort).

 - Het scherm heeft twee keuzelijsten *Merk* en *Duikcomputer*. De *Merk* lijst
   bevat de fabrikanten van de ondersteunde duikcomputers (bijvoorbeeld Mares,
   Suunto), en *Duikcomputer* het specifieke type (bijvoorbeeld D4 (Suunto), Puck (Mares)).

 - De *Device of mountpoint* keuzelijst bevat de USB of Bluetooth poort die
  _Subsurface_ dient te gebruiken om met de duikcomputer te communiceren.
   De juiste poort dient geselecteerd te worden. Raadpleeg
   xref:_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer[Bijlage A]
   and
   xref:_appendix_b_dive_computer_specific_information_for_importing_dive_information[Bijlage B]
   voor nadere technische details hoe de juste poort te bepalen, voor een specifieke
   duikcomputer, en in sommige gevallen, specifieke instellingen op de desktop PC
   waarop _Subsurface_ wordt gebruikt.

 - Als alle duiken uit de duikcomputer gedownload moten worden, selecteer
   dan het keuzevakje _Forceer download van alle duiken_. Normaal gesproken,
   download _Subsurface_ alleen duiken die nieuwer zijn dan de nieuwste in
   de *Duiklijst*. Als, bij vergissing, één of meer duiken uit de *Duiklijst*
   zijn verwijderd, of als er nog oudere duiken in de duikcomputer aanwezig zijn,
   is dit keuzevakje de handigste manier. Sommige duikcomputers (bijvoorbeeld
   de Mares Puck) bevatten geen inhoudsopgave van de duiken zoals deze
   op de duikcomputer staan, zodat niet bepaald kan worden welke duiken nieuw
   genoeg zijn om te laden. _Subsurface_ laadt dan altijd alle duiken, ongeacht
   de instelling van dit keuzevakje.

 - Als het keuzevakje _Altijd gedownloade duiken gebruiken_ is geselecteerd, worden
   duiken met identieke tijd-datum, welke op de duikcomputer staan, overschreven
   in de *Duiklijst* met deze duiken uit de duikcomputer

 - Als het keuzevakje _Ophalen als een nieuwe trip_ is geselecteerd, worden
   de gedownloade duiken gegroepeerd als een nieuwe trip in de *Duiklijst*.

 - Gebruik de keuzevakjes _Libdivecomputer logbestand opslaan_ en
   _Libdivecomputer dump opslaan_ niet. Deze worden alleen gebruikt om problemen
  met downloaden te kunnen oplossen door de ontwikkelaars.

 - Selecteer dan de downloaden knop. Als de verbinding tot stand is gekomen, is
 te zien dat er data verkeer plaatsvindt. Afhankelijk van het type duikcomputer en het
 aantal te downloaden duiken kan het wel even duren. Heb geduld derhalve. Het
 scherm toont onderaan een balk die de voortgang weergeeft, maar deze is niet altijd
 betrouwbaar. _Subsurface_ weet niet altijd vooraf hoeveel data ontvangen gaat worden.
 Als de download klaar is, verschijnen de duiken in tabelvorm aan rechter zijde
 van het scherm (zie figuur *B* hierboven). Iedere rij in de tabel is één duik, en
 toont de diepte en duikduur en het moment waarop de duik was. Hiervoor staat
 een keuzevakje, dat aangeeft welke duiken naar de *Duiklijst* verplaatst moeten
 worden. In het voorbeeld hierboven, worden de 6 nieuwste duiken naar de
 *Duiklijst* verplaatst. Klik dan OK onder aan het scherm. De *Duiklijst*
 wordt getoond inclusief de zojuist geïmporteerde duiken. Ontkoppel je duikcomputer
 en zet hem uit om de batterij te sparen.

 - Als er een probleem is in de communicatie met de duikcomputer wordt er meestal
   een foutmelding getoond die lijkt op: "Unable to open /dev/ttyUSB0 Mares
  (Puck Pro)". Kijk hieronder verder.


****
*PROBLEMEN MET DE DATA DOWNLOAD VANAF EEN DUIKCOMPUTER?*
[icon="images/icons/important.png"]
[IMPORTANT]
Controleer het volgende:

 - Is de duikcomputer nog steeds in PC communicatie mode of Upload mode?

 - Is de batterij van de duikcomputer’s vol genoeg? Laad hem op of vervang hem.

 - Geeft de aansluitkabel problemen? Doet de kabel het wel met andere programmatuur?
 Heeft het eerder gewerkt, of is dit de eerste keer dat deze kabel wordt gebruikt?
 Zijn de contacten van de duikcomputer en de kabel schoon?

 - Controleer
   xref:_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer[Bijlage A]
   om er zeker van te zijn dat het correcte device of mountpoint wordt gebruikt (zie hierboven).

 - Controleer of de gebruiker schrijf-rechten heeft op de USB poort op Unix-acchtige systemen. Zo niet, raadpleeg
  xref:_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer[Bijlage A]

Als _Subsurface_ de USB adapter niet kan vinden, bestaat de mogelijkheid dat de kabel
of de adapter niet werkt. Een defecte kabel, naast vuile contacten, is de meest
voorkomende reden dat de communicatie tussen duikcomputer en _Subsurface_ niet werkt.

Het kan ook voorkomen dat _Subsurface_ de ontvangen data niet kan interpreteren.
Laad nieuw data van de duikcomputer, nu met de twee bijzondere keuzevakjes
zoals hierboven beschreven geselecteerd:

	Libdivecomputer logbestand opslaan
	Libdivecomputer dump opslaan

*Belangrijk*: Deze twee keuzevakjes uitsluitend gebruiken bij problemen bij het
downloaden van duiken (en in het bijzonder het falen van de interpretatie van de data).
Bij normaal gebruik deze vakjes niet selecteren.

Als deze vakjes wel geselecteerd zijn, komt, bij het downloaden, de vraag
om een folder te selecteren. Standaard staat deze ingesteld op de folder
waar de _Subsurface_ duiklogboeken staan opgeslagen.

*Belangrijk:* _Na de download met de 2 genoemde vakjes geselecteerd, worden er
geen duiken aan de *Duiklijst* toegevoegd, maar zijn er wel twee bestanden aangemaakt
in de ingestelde folder:

	subsurface.log
	subsurface.bin

Deze bestanden kunnen naar de _Subsurface_ mailinglijst worden gestuurd:
_subsurface@subsurface-divelog.org_ met het verzoek tot onderzoek ervan.
Geef zoveel mogelijk (extra) informatie, zoals merk en type van de duikcomputer,
alsmede informatie over de duiken die niet gedownload konden worden.
****

[[S_Bluetooth]]
==== _Subsurface_ verbinden met een duikcomputer met Bluetooth
[icon="images/icons/bluetooth.jpg"]

Bluetooth wordt een steeds normalere manier om met een duikcomputer te communiceren.
_Subsurface_ biedt een grotendeels besturingssysteem onafhankelijke wijze van
koppeling met duikcomputers met Bluetooth. Een toenemend aantal duikcomputers
gebruikt Bluetooth Low Energy (BTLE) als manier van communiceren. Helaas is BTLE
geen gestandaardiseerd protocol, en bij gevolg moeten voor ieder type duikcomputer
specifieke aanpassingen worden gedaan. Zie de
link:https://subsurface-divelog.org/documentation/supported-dive-computers/[lijst van ondersteunde duikcomputers].

Bluetooth communicatie is vaak meer betrouwbaar na het opnieuw koppelen met de
_Subsurface_ host computer. Bluetooth en BTLE interfaces worden actief ontwikkeld,
inclusief het toevoegen van nieuwe modellen.

De volgende vier stappen zijn nodig om Bluetooth communicatie op te zetten:

- Controleer dat Bluetooth aan staat op de host computer met _Subsurface_.
- Controleer dat _Subsurface_ de Bluetooth adapter ziet.
- Zet de duikcomputer als Bluetooth vindbaar en in upload mode.
- Controleer dat _Subsurface_ gekoppeld is met Bluetooth duikcomputer.

Selecteer uit het hoofdmenu _Importeer -> Importeer uit duikcomputer_. Bij selecteren
van het keuzevakje _"Kies Bluetooth download mode"_, verschijnt het volgende
scherm.

===== Op Linux of OS/X:

image::images/DC_import_Bluetooth.jpg["Figuur: Download Bluetooth",align="center"]

Hoewel de _Subsurface_ Bluetooth interface bedoeld is te werken zonder eerst
op niveau van het besturingssysteem de pairing uit te voeren, is het verstandig
dit toch te doen. Verwijder eerst de bestaande pairing, en pair opnieuw. De kans
groot dat het laden over Bluetooth van duikdata dan goed verloopt.

Op Linux en OS/X verschijnt rechts op het scherm staat de naam van de _Subsurface_
computer, het Bluetooth adres (van de Bluetooth controller), een melding of Bluetooth
aan of uit staat, en een knop om aan en uit te zetten. Aan de linkerzijde
verschijnt een keuzelijst met alle eerder gevonden Bluetooth apparatuur, en hier
selecteer je de gewenste duikcomputer.

Als het Bluetooth adres niet is ingevuld, ziet _Subsurface_ de Bluetooth interface
van de computer niet. Verifieer dat de juiste Bluetooth drivers zijn geïnstalleerd
op de (desktop) computer bijvoorbeeld met andere Bluetooth programmatuur zoals
_bluetoothctl_ of _bluemoon_. Dit completeert de eerste 2 stappen.

Zet de duikcomputer in PC communicatie/upload mode en zorg dat hij vindbaar is
voor andere Bluetooth apparatuur. Zie de handleiding van de duikcomputer
hoe dit te doen. Stap 3 is nu ook doorlopen.

Selecteer de _Scan_ knop en in de keuzelijst dient nu ook de duikcomputer
te verschijnen, naast alle andere Bluetooth apparatuur die binnen bereik is
(en vindbaar is). Als dit niet werkt, kies _Wissen_ en scan opnieuw.
Een label van de gevonden duikcomputer bevat de naam van de computer, zijn adres, en zijn
koppeling status. Adressen van BTLE apparatuur beginnen met "LE".
Als hij in rood wordt getoond, is de duikcomputer nog niet
gekoppeld. Met de rechter muisknop kan met het context menu een verzoek tot koppeling
worden gedaan, en wacht op afronding van dit proces. Mogelijk komt er een vraag
een PIN code of Pass Code. Meestal is deze 0000, maar raadpleeg de handleiding van je
duikcomputer om dit zeker te weten.

****
[icon="images/icons/important.png"]
[IMPORTANT]
Op dit moment ondersteund _Subsurface_ geen koppeling van Bluetooth met niet-standaard
PIN code. Hieronder staan een aantal suggesties om met behulp van hulpmiddelen uit
het besturingssysteem wel een succesvolle koppeling uit te voeren.

Een manier is het gebruik van +bluetoothctl+:

	$ bluetoothctl
	[bluetooth]# agent KeyboardOnly
	Agent registered
	[bluetooth]# default-agent
	Default agent request successful
	[bluetooth]# pair 00:80:25:49:6C:E3
	Attempting to pair with 00:80:25:49:6C:E3
	[CHG] Device 00:80:25:49:6C:E3 Connected: yes
	Request PIN code
	[agent] Enter PIN code: 0000
****

Nadat de duikcomputer gekoppeld is, kies de _Save_ knop. Dit sluit de instelling
van de Bluetooth verbinding, en je keert terug naar het _Downloaden uit duikcomputer_
scherm. De gedownloade duiken verschijnen aan de rechter zijde van het scherm.

===== Op Windows:
image::images/DC_import_Bluetooth_Windows.png["Figuur: Download Bluetooth op Windows",align="center"]

Op _Windows_ platforms worden de lokale Bluetooth controller
details aan de rechterzijde van het scherm niet getoond zoals op de Linux/Mac
systemen. Controleer of de Bluetooth interface aan staat door op _Scan_ te drukken.
De duikcomputer dient natuurlijk vindbaar te zijn op dat moment, en zal dan
achtereenvolgens verschijnen in de keuzelijst (zie figuur hierboven). Als de computer
voor het eerst gekoppeld wordt, wordt mogelijk om een PIN of Pass code gevraagd.
Voer het, nummer in zoals beschreven in de handleiding van de duikcomputer. Vaak
is 0000 de standaard instelling.

De koppeling wordt automatisch gecontroleerd tijdens de download. Als de duikcomputer
nog niet eerder gekoppeld is, verschijnt er aan de rechterzijde een bericht
_Apparaat toevoegen, Klik om je duikcomputer toe te voegen_. Sta deze koppeling toe.
Nadat de gevonden duikcomputer is geselecteerd, klik _Bewaren_. Je keert nu terug
in het _Download uit duikcomputer scherm_, waar je _Download_ kiest om de werkelijke
download te starten.

[icon="images/icons/important.png"]
[IMPORTANT]
Op dit moment ondersteund _Subsurface_ alleen lokale Bluetooth
adapters die gebruik maken van de Microsoft Bluetooth Stack.
Lokale conrollers die _Widcomm_,  _Stonestreet One Bluetopia Bluetooth_ of _BlueSoleil_ drivers
gebruiken, zal het niet werken.
Echter, Bluetooth hardware/dongles van deze leveranciers
(bijvoorbeeld iSonic) die de Microsoft Bluetooth Stack gebruiken werken wel.

Een log melding linksonder op het _Extern Bluetooth toestel selecteren_
scherm toont detail van de huidige status van de Bluetooth agent. Om een andere
computer te downloaden, met dit scherm, selecteer de 3-punten knop van de
_"Kies Bluetooth download mode"_ optie.

[icon="images/icons/important.png"]
[IMPORTANT]

*IN GEVAL VAN PROBLEMEN*:  Als de Bluetooth adapter van de _Subsurface_ computer
blokkeert en het _Download_ proces herhaaldelijk faalt, verbreek dan de koppeling en
herhaal de stappen hierboven. Als dit niet leidt tot succes, raadpleeg dan
xref:S_HowFindBluetoothDeviceName[_Appendix A_] welke informatie bevat
voor het handmatig opzetten en controleren van de Bluetooth verbinding met
_Subsurface_.

[[S_DeviceNames]]
==== De naam van de duikcomputer wijzigen

Soms is het nodig om onderscheid te maken tussen verschillende duikcomputers die
gebruikt worden in combinatie met dezelfde desktop PC. Bijvoorbeeld als jij en
je buddy hetzelfde merk en type duikcomputer hebben, dan wil je ze misschien
hernoemen tot "Alice's Suunto D4" en "Bob's Suunto D4". Of een technische duiker
die duikt met twee gelijke duikcomputers. Je zou ze in dit geval bijvoorbeeld
"Suunto D4 (1)" en  "Suunto D4 (2)" kunnen noemen.

Dit kan eenvoudig in  _Subsurface_. Vanuit het hoofdmenu, kies _Logboek -> Namen duikcomputers wijzigen_.
Er opent een scherm met model, toestel ID, en apparaatnaam van alle gebruikte
duikcomputers. Stel de apparaatnaam in zoals gewenst, en in het vervolg wordt deze
gebruikt in plaats van de model naam, waardoor het onderscheid eenvoudig wordt.

[[S_MultipleDiveComputers]]
==== Meer dan één duikcomputer tijdens één duik gebruiken.

Sommige duikers, zoals bijvoorbeeld technische duikers, gebruiken soms meer dan
één duikcomputer tijdens één duik. De gegevens van meerdere duikcomputers kunnen
door _Subsurface_ worden geladen, en de gegevens kunnen individueel worden bekeken.
Gedurende het downloaden worden de duiken automatisch samengevoegd. De verschillende
profielen worden aangegeven in het *Profiel* paneel linksonder, met de naam
van de getoonde duikcomputer. *Met de betreffende duik geselecteerd in de *Duiklijst*, kan
je wisselen tussen de verschillende profielen met de links/rechts toetsten op het
toetsenbord of met het hoofdmenu _View -> Vorige DC_ of _View -> Volgende DC_.
De gegevens in het _Notities_ paneel zijn onafhankelijk van de keuze van de
specifieke duikcomputer.

[[S_EditDiveInfo]]
==== Bewerken van geïmporteerde duiken uit de duikcomputer.

Met het vullen van de *Duiklijst* via import uit de duikcomputer, is de informatie
van de duik niet volledig, en toevoegen van data is zinvol om een goed naslagwerk
te hebben. De *Notities* en *Uitrusting* panelen zijn de aangewezen plek hiervoor.

[[S_Notes_dc]]
===== Notities

Om het logboek een goed naslagwerk te laten zijn, dient er handmatig informatie
toegevoegd te worden. Zelfs de meest geavanceerde duikcomputers bevatten geen informatie
over bijvoorbeeld buddy's of type duik. De hieronder beschreven procedure is
vrijwel identiek voor duiken die volledig handmatig worden ingevoerd, als duiken
die geïmporteerd worden uit een duikcomputer.

In enkele gevallen dien je datum/tijd van de duik in te vullen, bijvoorbeeld bij
handmatig ingevoerde duiken of bij duikcomputers die geen klok hebben. Normaal
gesproken worden echter velden als tijdstip van de duik, duiktijd, diepte, watertemperatuur,
type ademgas (lucht, nitrox, trimix) geleverd door de duikcomputer, naast natuurlijk
het duikprofiel.

Als er iets veranderd wordt in het *Notities* paneel, verschijnt er een blauwe rechthoek
die aangeeft dat de duik wordt bewerkt.

Het *Notities* paneel bevat de volgende velden (linker figuur hieronder):

image::images/AddDive3_f22.jpg["Figuur: Het Notities paneel",align="center"]

Het rechter figuur hierboven toont een *Notities* paneel ingevuld met duik data.
De *Datum* en *Tijd* geven het moment van de duik weer. Door op de datum te
klikken verschijnt er een kalender, die met ESC, of ergens buiten de kalender klikken
gesloten kan worden. De tijdwaarde kan ook met behulp van het toetsenbord worden bewerkt.

*Lucht/water temperaturen*: Lucht- en watertemperatuur velden staan achter het tijd veld.
Veel duikcomputers leveren informatie over de watertemperatuur, dus dit veld
is waarschijnlijk al gevuld.

Als luchttemperatuur niet door de duikcomputer wordt geleverd, is vaak de eerste
temperatuur meting in het profiel een goede benadering. Als bewerken gewenst is, is
alleen het invoeren van de waarde nodig. De eenheid is gedefinieerd in de
_Voorkeuren_ (metrisch of imperiaal).

[[S_locations]]
*Locatie*:
[icon="images/icons/warning2.png"]
[WARNING]
Duik locaties worden bewerkt in een *apart* deel van het programma.
De *Notities* en *Uitrusting* panelen kunnen daarom niet tegelijkertijd
bewerkt worden als de locatie gegevens. Bewaar alle wijzigingen in de
*Notities* en *Uitrusting* panelen (met de "Wijzigingen toepassen" knop VOORDAT
de locatie bewerkt gaat worden. Een bestaande locatie kiezen kan overigens wel
tegelijkertijd toegevoegd worden.

*Bestaande locaties gebruiken:* Tik de naam in van de locatie, bijvoorbeeld "Tihany, Lake Balaton, Hungary".
Als er meerdere duiken op dezelfde locatie worden gemaakt, wordt de locatie
informatie van de eerste duik hergebruikt.
Als een locatie eerder is gebruikt verschijnt bij intikken van de eerste letters
een lijst met mogelijke locaties. Kies de gewenste, en deze locatie is dan van
toepassing op de duik die wordt bewerkt. Klik dan _Wijzigingen toepassen_ (figuur beneden)
om de informatie op te slaan.

image::images/Location1.jpg["FIGURE:Locatie keuze panel",align="center"]

*Nieuwe locatie invoeren:* Wanneer er op een nieuwe locatie is gedoken, dient deze
te worden ingevoerd voor deze duik en later gebruik. Voer de naam in (figuur A
hieronder)

image::images/Globe_image1.jpg["FIGURE:Locatie creatie panel",align="center"]

Klik op het plus (+) symbool rechts (of dubbelklik) in de blauwe balk om de
nieuwe locatie vast te leggen. Bewaar de duik om de nieuwe locatie verder te bewerken.
Bewerken kan door op het globe icoon te klikken (image B hierboven), achtereenvolgens
verschijnt dan figuur A (zie hieronder)

image::images/Globe_image2.jpg["FIGURE:Locatie creatie panel",align="center"]

Er zijn drie manieren om coördinaten in te voeren:

*(1):* Voer de coördinaten met de hand in, volgens één van de volgende vier
formaten (latitude gevolgd door longitude):

	ISO 6709 Annex D formaat: 30°13'28.9"N 30°49'1.5"E
	Graden en decimale minuten:  N30° 13.49760' , E30° 49.30788'
	Graden minuten seconden: N30° 13' 29.8" , E30° 49' 1.5"
	Decimale graden: 30.22496 , 30.821798

Latitudes op het zuidelijk halfrond worden weergegeven met S*, zoals in S30°, of
met een negatieve waarde, zoals -30.22496. Op vergelijkbare wijze met westelijke
longitudes met *W*, zoals in W07°, negatieve waarde, als in 7.34323. Sommige
toetsenborden hebben geen graden (°) symbool. Een *d* zoals in N30d, W20d kan
ook worden gebruikt.

Voer verdere informatie over de duikplek in onder de Beschrijving en Notities
velden, en kies _Wijzigingen toepassen_ om alles op te slaan. De duikplek kan
later bewerkt worden door het wereldbol icoon te klikken, rechts naast de naam
van de duikplek in het *Notities* tabblad.

*(2):* Gebruik de kaart om coördinaten in te voeren. De kaart toont alle bestaande
locaties in grijs, en een extra marker in rood (figuur B hierboven). Versleep
de rode marker naar de gewenste locatie. De kaart kan in- en uitgezoomd worden met
het wieltje van de muis. De coördinaten van de rode marker worden automatisch in
het juiste veld opgeslagen (figuur A hieronder).

Voer verdere informatie over de duikplek in onder de Beschrijving en Notities
velden, en kies _Wijzigingen toepassen_ om alles op te slaan. De duikplek kan
later bewerkt worden door het wereldbol icoon te klikken, rechts naast de naam
van de duikplek in het *Notities* tabblad.

image::images/Globe_image3.jpg["FIGURE:Locatie aanmaak panel",align="center"]

Op moment dat de duikplek is opgeslagen verschijnt het globe symbool in de duiklijst
(voor de duiken op deze duikplek).

*(3):* Gebruik de _Subsurface-mobile App_ or the _Subsurface_ Companion App_ op een
Android of iPhone op de duiklocatie om met de GPS van de telefoon de locatie op
te slaan. Importeer ze achtereenvolgens in _Subsurface_
xref:S_Companion[Klik hier voor meer informatie over de Companion app]

*Belangrijk*: GPS coördinaten van duik locaties zijn gekoppeld
aan de locatie naam. Daarom levert het problemen op als er een
locatie wordt aangemaakt zonder naam en met locatie. (Subsurface denkt dan
dat al deze duiken dezelfde locatie hebben en probeert de GPS coördinaat gelijk
te houden).

*Locatie naam opzoeken*: Op moment dat er een geldige coördiaat is ingevoerd,
kan er een automatische, Internet gebaseerde, zoekactie gestart worden om een
naam van de locatie te vinden. Dit is niet per definitie de naam van de duikplek.
Als er een naam wordt gevonden, wordt deze ingevuld in de zogenaamde locatie labels/tags.

De box getiteld _Duikstekken op dezelfde positie_ bevat de namen van duikplekken in de buurt.

Geef in de velden _beschrijving_ en _notities_ de overige gewenste informatie
over de duikplek, en selecteer _Wijzigingen toepassen_ om de duikplek op te slaan.
De duikplek kan altijd later bewerkt worden voor op het groene globe icoon te klikken,
vanuit het *Notities* paneel.

*Duik mode*: Deze keuzelijst maakt het mogelijk het type duik in te voeren. Opties
zijn OC (Open Circuit SCUBA, de standaard instelling, van toepassing op de meeste recreatieve duiken),
Apneu (vrij duiken zonder ademappatuur), CCR (Closed-circuit
rebreather) en pSCR (Passive semi-closed rebreather).


*Duikleider*: Hier kan de naam van de duikleider of gids worden ingevoerd. Op
basis van de reeds ingetikte letters van de naam, worden voorstellen gedaan, die
overeenkomen met eerder gebruik van dit veld.

*Buddy*: Hier kan de naam van de buddy (meerdere te scheiden met komma's) worden
ingevoerd. Op  basis van de reeds ingetikte letters van de naam, worden
voorstellen gedaan, die overeenkomen met eerder gebruik van dit veld.

*Pak*: Hier kan het gebruikte pak worden ingevoerd. Sommige droogpak gebruikers
geven hier de combinatie van pak en gebruikte onderkleding weer.

*Waardering*: Een subjectieve waardering van de kwaliteit van de duik op een schaal
van 1 tot 5 sterren.

*Zicht*: Een subjectieve waardering van het zicht tijdens van de duik op een schaal
van 1 tot 5 sterren.

*Trefwoorden*: Hier kunnen (meerdere geschieden door komma's) trefwoorden
betreffende de duik worden weergegeven. Voorbeelden, boat, drift, training,
cave, etc. _Subsurface_ heeft vele ingebouwde trefwoorden. Op  basis van de reeds
ingetikte letters een trefwoord worden voorstellen gedaan, die overeenkomen reeds
aanwezige trefwoorden.

*Notities*: Alle andere vrij tekst kan hier worden ingevoerd.

De _Wijzigingen toepassen_ en _Wijzigingen verwijderen_ knoppen worden gebruikt om
alle informatie die is toegevoegd of aangepast op te slaan (of niet).

Figuur xref:S_Notes_dc[in het begin van dit hoofdstuk] toont een voorbeeld van
een *Notities* tabblad na invullen van alle informatie.

===== Uitrusting

Het Uitrusting tabblad bestaan ruwweg uit twee delen. De cilinders/flessen met
het gebruikte gas, begin- en einddruk, en andere gas eigenschappen. Daarnaast
is er ruimte om gebruikte gewichten in te voeren. Het blauwe bericht aan de bovenzijde
van het scherm

image::images/BlueEditBar_f22.jpg["Figuur: Blauwe edit balk",align="center"]

geeft aan of apparatuur is gewijzigd. Dit is een sterk interactief deel van
_Subsurface_, want het bepaalt de gassen die in het *Duikprofiel* rechtsboven
een rol spelen.

[[cylinder_definitions]]
*Cilinders*: De cilinder informatie wordt met onderstaand scherm ingevoerd:

image::images/DC_gas-dialogue1_f20.jpg["Figuur: Initiële cilinder dialoog",align="center"]

Bij handmatig ingevoerde duiken, dient de cilinder informatie zelf te worden ingevoerd.
Veel duikcomputer leveren echter vaak het gebruikte (ingestelde) gas inclusief samenstelling
(% oxygen of % helium). Het + symbool staat het toevoegen van meer cilinders toe.
De vuilnisbak links symboliseert het verwijderen van een cilinder. Merk op dat een
gebruikte cilinder niet kan worden verwijderd. Een cilinder kan ook impliciet (zonder
dat er een gaswissel naar de cilinder is ingevoerd) worden gebruikt.

Begin met het selecteren van een cilinder type. Dit kan door in het type vakje te
klikken en het keuzemenu te openen:

image::images/DC_gas-dialogue2_f20.jpg["Figuur: De cilinder drop-down list button",align="center"]

Het keuzemenu kan gebruikt worden om de gewenste cilinder uit te kiezen, of begin
met typen in dit veld om een voorstel te krijgen.

De *Grootte* en *Werkdruk* velden worden automatisch gevuld.

Vervolg met het invoeren van begin- en einddruk. De eenheid wordt
ingesteld in de voorkeuren (metrisch of imperiaal), maar het is ook
mogelijk bar of psi achter de waarde in te typen, en het wordt automatisch
omgerekend.

Voer tot slot de gassamenstelling in. Als er lucht is gebruikt, volstaat het invullen
van 21% of het leeg laten van de O2 kolom. Voor nitrox of trimix dienen de O~2~% en He%
kolommen te worden ingevoerd. Niet van toepassing zijnde gassen worden leeg gelaten.
Hier is een voorbeeld van twee cilinders (lucht en EAN50):

image::images/CylinderDataEntry3_f20.jpg["Figuur: een volledig ingevulde cilinder informatie tabel",align="center"]

*Gewichten*: Informatie over gewichten kunnen op een vergelijkbare wijze als
cilinders worden ingevoerd. Als de + knop worst ingedrukt, kan er een gewicht worden
toegevoegd, en het scherm ziet er dan als volgt uit:

image::images/WeightsDataEntry1_f20.jpg["Figuur:De gewichten dialoog",align="center"]

Door op het _Type_ veld te klikken, verschijnt er een keuzemenu:

image::images/WeightsDataEntry2_f20.jpg["Figuur:gewicht type drop-down list",align="center"]

Dit kan gebruikt worden voor het type gewichtssysteem zoals tijdens de duik gebruikt.
Er kunnen nieuwe gewichtssystemen toegevoegd worden door deze in te typen in het
_Type_ veld, en het veld te verlaten met de tab-toets. Deze tabel is bedoeld om
gebruikte gewichten te registreren, die bijvoorbeeld afhankelijk zijn van nat- of
droogpak, zoet of zout water, soort cilinders in gebruik, enzovoort. Meer soorten
gewicht kunnen worden toegevoegd door meermalen de + knop in te drukken. Ook
hier betekent de vuilnisbak het verwijderen van een gewicht.

Hieronder een voorbeeld van een duik met 2 gewichten. Geïntegreerd en een loodgordel:

image::images/WeightsDataEntry3_f20.jpg["Figuur: Een ingevulde gewichten tabel",align="center"]

==== Meerdere duiken tegelijkertijd bewerken

_METHODE 1_: Na het downloaden van een aantal duiken, zijn er een aantal velden gevuld,
alsmede de profielen in het *Duikprofiel* scherm. Maar vele velden blijven leeg omdat
de duikcomputer deze data niet kan opleveren. In dit soort gevallen is het
gelijktijdig bewerken vaak handig. Bijvoorbeeld, dezelfde buddy's, gelijke apparatuur,
enzovoort. Selecteer alle duiken waarvoor gelijktijdig bewerken van toepassing is in de
*Duiklijst* en bewerk de informatie in één keer.

Gelijktijdig bewerken werkt alleen voor velden die nog geen informatie bevatten.
Een individueel bewerkt veld uit de verzameling, wordt dus niet aangepast. Technisch
is het nog iets ingewikkelder. De regel luidt: als het te bewerken veld voor alle
geselecteerde duiken identiek is, wordt data voor dat veld vervangen voor alle
geselecteerde duiken. In alle andere gevallen wordt alleen de specifieke duik die wordt
getoond gewijzigd, ondanks dat er meerdere duiken tegelijkertijd worden bewerkt. Op deze
wijze is het gelijktijdig bewerken het meest efficiënt.


[[S_CopyComponents]]
_METHODE 2_: Er is een tweede manier voor hetzelfde doel. Selecteer een duik die al
compleet is ingevoerd en ga via het hoofdmenu _Logboek ->  Kopieer duikcomponenten_. Er
verschijnt een scherm, waarin aangegeven kan worden welke componenten gekopieerd
moeten worden. Sluit af met OK. Selecteer nu de gewenste duiken uit de duiklijst, en
kies _Logboek ->  Plak duikcomponenten_. Alle geselecteerde duiken bevatten nu een kopie
van de bron-duik.

[[S_Bookmarks]]
==== Bladwijzers toevoegen aan een duik


Veel duiker willen bijzonderheden tijdens de duik in het duikprofiel weergeven.
Bijvoorbeeld, "Dolfijnen gezien", of "Boei geschoten". Dit kan op de volgende
eenvoudige manier:

 - Klik rechts op de gewenste positie in het duikprofiel. Het context menu
 verschijnt, en kies _Bladwijzer toevoegen_. Er wordt een rode vlag op de gekozen
 positie geplaatst (zie *A* hieronder).

 - Klik rechts op de rode vlag en kies _Naam bewerken_ uit het context menu
 (zie *B* hieronder). Er verschijnt een invoerveld waar de gewenste tekst kan
 worden ingevoerd (zie *C* hieronder). Met _OK_ wordt de tekst opgeslagen.

 - Door de muis over de rode vlag te bewegen, verschijnt onder aan de de
 grijze informatiebox de ingevoerde tekst (zie *D* hieronder).

image::images/Bookmarks.jpg["Figuur: Bladwijzer dialog",align="center"]


==== Aangepaste duikinformatie opslaan

De informatie zoals ingevoerd in de *Notities* en *Uitrusting* tabbladen kan
worden bewaard door middel van de _Wijzigingen toepassen_ knop. Met _Wijzigingen verwijderen_
worden de wijzigingen uit het geheugen verwijderd, maar merk op dat wijzigingen in het
profiel altijd worden bewaard (in het geheugen). Op moment dat het programma wordt verlaten
komt de vraag of (alle) aangepaste informatie moet worden bewaard op schijf.


=== Duik informatie uit andere digitale bronnen of andere formaten importeren

[[S_ImportingAlienDiveLogs]]

Veel duikers houden een logboek bij met de programmatuur die is gemaakt door
de fabrikant van de duikcomputer. _Subsurface_ kan een aantal van deze formaten
direct inlezen. Soms is echter een tussen-formaat nodig voordat _Subsurface_ de
data kan inlezen. Op dit moment kan _Subsurface_ CSV formaat bestanden inlezen uit
diverse bronnen. Importeren uit APD LogViewer, XP5, Sensus en Seabear bestanden is
voorgedefinieerd, maar omdat dit formaat flexibel op opgezet, kunnen gebruikers ook
eigen formaten definiëren. Handmatig bijgehouden logboeken met een spreadsheet, kunnen
ook via de CSV tussenstap ingelezen worden.

_Subsurface_ kan ook UDDF en UDCF bestanden inlezen zoals bijvoorbeeld gebruikt
door de Heinrichs & Weikamp DR5. Tot slot bestaat er programmatuur (bijvoorbeeld
Mares Dive Organizer) waarvoor aanraden wordt eerst het logboek op een webservice
zoals _divelogs.de_ te plaatsen, en het van daar te importeren in _Subsurface_.
Divelogs.de ondersteunt een aantal logboekformaten die _Subsurface_ nu niet kan
importeren.

Als het te importeren formaat standaard ondersteund wordt, selecteer
dan uit het hoofdmenu _Importeer ->  Importeer logbestanden_ of
_Bestand ->  Logboek openen_. _Subsurface_ ondersteund de formaten
van vele duikcomputers, waaronder Suunto, Shearwater en diverse CCR
apparatuur. _Subsurface_ doet zijn uiterste best om data uit deze files
op de juiste wijze te groeperen, en als er geen tijd zone problemen zijn, zullen
er nooit dubbele duiken worden aangemaakt. Hieronder staat meer specifieke
informatie over het import proces.


==== De universele importeer tool gebruiken
[[Unified_import]]

Duiken importeren uit andere programmatuur vindt plaats door middel van de universele
importeer tool te gebruiken. Selecteer uit het hoofdmenu _Importeer ->  Importeer logbestanden_
of _Bestand ->  Logboek openen_. Scherm *A* zoals hieronder verschijnt.

image::images/Import1_f20.jpg["Figuur: Importeer dialoog: step 1",align="center"]

Onderaan rechts is (_Filter_ veld) maakt selecteren op specifieke
duiklog bestanden mogelijk, zie *B* hierboven. Op dit moment zijn de volgende
gedefinieerd:

 - XML-geformatteerde duiklogs (DivingLog 5.0, MacDive en diverse anderen)
 - Cochran duiklogs
 - UDDF-geformatteerde duiklogs (zoals Kenozooid)
 - UDCF-geformatteerde duiklogs
 - Poseidon MkVI CCR duiklogs
 - APD Inspiration/Evolution CCR logs
 - LiquiVision duiklogs
 - divelogs.de duiklogs
 - OSTC Tools duiklogs
 - JDiveLog
 - Suunto Dive Manager (DM3, DM4, DM5)
 - DL7 files used by Diver's Alert network (DAN)
 - Underwater technologies AV1 duiklogs
 - Divesoft duiklogs
 - Poseidon MK VI eCCR duiklogs
 - CSV (tekst-gebaseerd en spreadsheet-gebaseerde) duiklogs, waaronder APD CCR logs

Door het juiste type te selecteren, verschijnen de betreffende files in
het grote venster, en kunnen geselecteerd worden om te openen. Na openen, verschijnen
de duiken in de *Duiklijst*. Hieronder meer specifieke informatie over bepaalde file
types.

==== Importeren uit OSTCTools

_OSTC Tools_ is een Microsoft-gebaseerde set duiklogboek hulpmiddelen voor de OSTC type
duikcomputers. _OSTC Tools_ laadt duiken en slaat deze op in binair formaat met .dive als
extensie. _Subsurface_ kan deze files direct inlezen. Selecteer in het file menu
_OSTCTools Files (.dive .DIVE)_ als bestandstype, en deze files worden getoond en kunnen ingelezen
worden. Na openen, verschijnen de duiken in de *Duiklijst*.

Alle H&W duikcomputer die door OSTCTools ondersteund worden, kunnen worden gelezen
door _Subsurface_. Dit omvat de OSTC, OSTC Mk2, OSTC 2N/2C, OSTC3, OSTC Sport, en, hoewel
niet getest, ook de Frog, OSTC2 en OSTC CR.

Bedenk dat _OSTC Tools_ geen volwaardig duiklogboek programma is, maar wel een nuttige
verzameling hulpmiddelen voor analyse en beheer van OSTC computers. Zoals bij een
rechtstreekse import uit een duikcomputer, dienen de *Notities* en *Uitrusting* tabbladen
handmatig te worden ingevuld.


==== Importeren uit Mares Dive Organizer V2.1

Mares gebruikt gesloten Windows programmatuur welke niet geschikt is voor applicaties die
onder meerdere besturingssystemen dienen te draaien, zoals _Subsurface_.
Importeren dient dan ook via de volgende drie stappen de gebeuren.

1. Exporteer de duiklog informatie uit Mares Dive Organizer, en gebruik de .sdf_
bestandsextensie. Zie xref:Mares_Export[Bijlage C] voor meer informatie.
2. De data dient nu in _www.divelogs.de_ geïmporteerd te worden. Maak hiervoor
eerst een gebruikersaccount aan. Log in, en kies _Import Logbook ->  Dive Organizer
vanuit het menu aan de linker zijde (in _.sdf_ formaat).
3. Importeer de duiken in _Subsurface_ zoals hieronder beschreven.


[[S_SmartTrakImport]]
==== Scubapro _SmartTrak_ duiklogs importeren

_SmartTrak_ slaat de ruwe data van Uwatec/Scubapro duikcomputers tezamen met
een veelvoud aan andere informatie zoals toegevoegd door de gebruiker, van
duikpunten, buddy's tot DAN gerelateerde informatie. Dit wordt echter opslagen
in gesloten en gelicenceerde programmatuur gebruik makend van Microsoft Access, en
het kan derhalve niet met (open source) _Subsurface_ worden geïntegreerd.

Een losstaande tool voor Linux is gemaakt om de _.slg_ bestanden van SmartTrack
te converteren naar Subsurface's _.xml_ format. Het kan samen met _Subsurface_
op Linux systemen worden gecompileerd. Twee extra softwarebibliotheken dienen
aanwezig te zijn: _libglib2.0_ en _libmdb2_.

Daarnaast is er een webservice beschikbaar om _SmartTrak_ duiklogs te converteren
naar _Subsurface_ formaat (zie hieronder).

Neem gerust contact op met het _Subsurface_ ontwikkelteam via
mailto:subsurface@subsurface-divelog.org[onze mailinglijst] voor assistentie op
het gebied van importeren van _SmartTrak_ data.


===== Compileren van _smtk2ssrf_

Aangenomen dat de bovenstaande twee biliotheken zijn geïnstalleerd, en de
_Subsurface_ broncode staat in _~/src/subsurface_, dan:

- cd ~/src/subsurface_
- Draai  " $ ccmake build " en zet SMARTTRAK_IMPORT option op *on* (staat
standaard uit)
- In ccmake, genereer met [c] en bewaar en verlaat met [g].
- Compileer zoals gewenst, met het _build.sh_ script (aangeraden) of cd
naar build folder en draai _make_.
- Na een succesvolle compileer sessie, staat er een executeerbaar bestand _smtk2ssrf_ in de
  _subsurface/build_ folder.
- Plaats _smtk2ssrf_ in een folder naar keuze, bijvoorbeeld _~/bin_.

===== Executeren

_smtk2ssrf_ accepteert 0, 2 of meer parameters. Opgestart zonder parameters wordt
er een grafische interface getoond; een eenvoudig scherm waarin het bron _.slg_
bestand en het gewenste uitvoerbestand kan worden ingegeven. (zie figuur hieronder)

image::images/smtk2ssrf.jpg["Figuur:Download uit SmartTrak",align="center"]

[icon="images/icons/warning2.png"]
[WARNING]
Het uitvoer bestand wordt overschreven, dus specificeer een nieuwe bestandsnaam.

Als opgestart vanaf de commando regel met 2 of meer parameters, betekent dit het volgende:

	$ smrtk2ssrf /input/file_1.slg /input/file_2.slg /output/file3.xml

met _input_ de folder met .slg betand(en, and _output_ de folder waar de uitvoer
terecht komt. Hier _file_1.slg_ en _file_2.slg_ als invoer en _file3.xml_ de uitvoer.
Controleer op waarschuwingen en foutmeldingen in de console, of in het grafische scherm:
sommige meldingen kunnen erop duiden dat de conversie niet succesvol is geweest;
ondersteuning voor de Galileo familie duikcomputers is nog in ontwikkeling.


===== Voor de luie gebruiker: een web service om _SmartTrak_ naar _Subsurface_ te converteren

Open de website _https://thetheoreticaldiver.org/rch-cgi-bin/smtk2ssrf.pl_. Dit is een eenvoudige
pagina om _SmartTrak_ bestanden naar _Subsurface_ formaat te converteren. Met de browse knop
kan het _SmartTrak_ bestand worden ingevoerd, en na klikken van _Submit query_ verschijnt snel
een dialoog box (figuur hieronder) om de geconverteerde data op te slaan op de lokale computer.

image::images/strk2ssrf_web.jpg["FIGURE:Web service om SmartTrak divelog te converteren",align="center"]


===== De geïmporteerde duiken samenvoegen met een bestaand logboek

Open het nieuwe bestand (zoals hierboven aangemaakt) met _Subsurface_ en controleer
de duiken en de overige data. Als alles klopt, sluit het _xml_ bestand en open het
normale logboek. Selecteer dan uit het hoofdmenu _Importeer -> Importeer logbestanden_ en
kies het nieuwe _xml_ bestand. De duiken worden nu samengevoegd tot êên logboek, en
dit is zichtbaar in de *Duiklijst* gesorteerd op tijdstip van de duik. De nieuwe duiken,
hoewel op tijdstip gesorteerd, behouden hun nummering zoals oorspronkelijk in _SmartTrak_
dus een hernummering ligt voor de hand. Zie de paragraaf over xref:S_Renumber[hernummering
van duiken] voor meer informatie over dit onderwerp.

[[S_ImportingDivelogsDe]]
==== Importen van duiken van *divelogs.de*

Importeren van duiken uit _divelogs.de_ is eenvoudig, door gebruik te maken van
een enkel scherm. Selecteer aan _Subsurface_ zijde de optie
_Importeer ->  Importeer van Divelogs.de_ uit het hoofdmenu. Hiermee verschijnt
het importeer scherm (zie figuur *A* hieronder). Vul gebruikersnaam en wachtwoord
in (van divelogs.de), en selecteer dan de _Downloaden_ knop. De download start
direct, en een balk laat de voortgang zien. Als de download klaar is wordt de successtatus
getoond (zie figuur *B* hieronder). Na selecteren van de _Wijzigingen Toevoegen_
knop, worden de duiken aan de *Duiklijst* toegevoegd.

image::images/Divelogs1.jpg["Figuur:Downloaden van Divelogs.de",align="center"]

[[S_ImportingCSVData]]
==== Data in CSV formaat importeren

Er kan een komma-gesepareed bestand (.csv) gebruikt worden om duiken, duikprofielen
(zoals in geval van de APD Inspiration en Evolution CCRs) of als duik meta data, in geval
dat de duiken in een spreadsheet zijn bijgehouden.
Het _CSV_ formaat is een universeel vereenvoudigd uitwisselingsformaat tussen
verschillende computers of programmatuur. Voor ook zie xref:S_CSV_Intro[een introductie
voor duikers van CSV bestanden]. _Subsurface_ kan ook duiken exporteren naar _CSV_
zodat andere programma's dit kunnen importeren.
Zie xref:S_Appendix_D[Bijlage D: Exporteer een spreadsheet naar CSV formaat]
voor meer informatie om spreadsheet gebaseerde duik data eenvoudig naar
_Subsurface_ te exporteren.


[[S_ImportingCSVDives]]
===== Importeren van duiken in CSV formaat uit duikcomputers of andere programmatuur

_CSV_ bestanden kunnen met een normale tekst editor worden bekeken en bewerkt. Normaal
gesproken bestaan ze uit een eerste regel met kolom namen, gevolgd door de werkelijke
data als één record per regel.

Er zijn 2 soorten _CSV_ duik data bestanden die door _Subsurface_ kunnen
worden gelezen:

1. _CSV duik details_: Dit formaat bevat alle reguliere data zoals in een
handmatig opgesteld logboek, en bevat bijvoorbeeld: datum/tijd van de duik, max. diepte,
duikduur, namen van buddy's en duikleiders, informatie over cilinders met start- en
einddruk, en commentaar bij de duik. Alle data van één duik staan op één regel,
in de volgorde van de velden in de eerste regel.
2. _CSV duik profiel_: Dit formaat bevat veel informatie over één duik, bijvoorbeeld
iedere 30 seconden een vastlegging van tijd, diepte, temperatuur en flesdruk. Met deze
informatie kan een profiel gemaakt worden voor een enkele duik. Dit is een gebruikelijk
formaat bij bijvoorbeeld CCR apparatuur en vele andere duik gerelateerde programmatuur
en duikcomputers.

Voordat duik data via de _CSV_ methode in _Subsurface_ kan worden geladen *dien je je
een aantal belangrijke zaken te realiseren*:

a. Welk karakter scheidt de afzonderlijke kolommen op een enkele regel? Dit mag een
komma (,), puntkomma (;) of een TAB karakter zijn. Kijk met een tekst editor in het
bestand, en het moet duidelijk zijn. Als er geen komma's of puntkomma's te zien zijn,
gaat het vast om een bestand met TAB karakters.

b. Welke data kolommen moeten worden geïmporteerd? Gaat het om een duiken of om
profiel data van een enkele duik. Kijk ook hiervoor in het bestand, en lees de
eerste regel met kolom namen.

c. Gaat het om metrische data of om imperiale data (zie duikdiepte)?

Met deze informatie is het eenvoudig om _CSV_ bestanden in te lezen in
_Subsurface_. Kies _Importeer ->  Importeer logbestanden_ uit het hoofdmenu en
selecteer het gewenste _CSV_ bestand. Het volgende scherm verschijnt:

image::images/csv_import1_f20.jpg["Figuur: CSV download dialoog 1",align="center"]

Linksboven is een keuzelijst met bekende, reeds geconfigureerde instellingen voor
een aantal duikcomputers en programmatuur. Gebruik deze indien van toepassing. Als
de gewenste keuze niet in de lijst staat, dient het bestand handmatig te worden
gedefinieerd. Het configuratie scherm heeft ook keuzelijsten voor het scheidingsteken
(komma, puntkomma, tab), het datum formaat (seconde, minuten, minuten:seconden), alsmede
het eenheden systeem (metrisch of imperiaal). Het juist kiezen van deze opties is
essentieel voor een succesvolle import.

Vervolg nu met het juist benoemen van de kolommen. De bovenste blauwe rij bevat
de kolomnamen zoals deze in het _CSV_ bestand voorkomen. De rij blauwe tekstballonnen,
hier juist boven, bevatten de namen zoals _Subsurface_ deze kent. De ballonnen kunnen
worden versleept. Bijvoorbeeld, _Subsurface_ verwacht het volgnummer van de duik
(" # ") in de kolom Dive # ". Als de door _Subsurface_ verwachtte kolomnaam niet in
de blauwe rij staat, versleep dan de tekstballon ernaar toe, zoals hieronder getoond.

image::images/csv_import2_f20.jpg["Figuur: CSV download dialoog 2",align="center"]

Doe dit voor alle kolommen. Als de benoeming van de kolommen voltooid is, kan er
op OK geklikt worden voor de werkelijke importeer actie. De duiken verschijnen in de
*Duiklijst*.


[[S_CSV_Intro]]
****
*Een introductie voor duikers over _CSV_ bestanden*
[icon="images/icons/important.png"]
[IMPORTANT]

_CSV_ is een afkorting van _Comma-Separated Values_. Het is een bestandformaat
dat eenvoudig kan worden bekeken in een tekst editor zoals Notepad (Windows),
gedit (Linux) of TextWrangler (OS/X). Dit formaat heeft twee duidelijke voordelen.
Ten eerste kan de data zonder bijzondere programmatuur worden gelezen en bewerkt, en
ten tweede wordt de data niet voorzien van obscure attributen tijdens het bewerken.
Door zijn eenvoud, wordt het _CSV_ formaat veelvuldig gebruikt als uitwisselingsformaat
tussen verschillende programmatuur, zoals spreadsheets, grafische, database en natuurlijk
duiklog programmatuur. In _Subsurface_ kunnen _CSV_ bestanden gebruikt worden om
duiken uit spreadsheets of sommige duikcomputers te importeren.

Het belangrijkste element van een _CSV_ bestand is het scheidingsteken; het karakter
dat de individuele velden in een enkele regel scheidt. Het scheidingsteken is meestal
een komma, puntkomma, tab of spatie(s). Bij het exporteren van data uit een spreadsheet
dient het scheidingsteken te worden gedefinieerd. _CSV_ bestanden bestaan normaal
gesproken uit een eerste regel met met kolomnamen/velden, gevolgd door regels met
data, in de volgorde van de kolomnamen. Kolomnamen mogen spaties bevatten, zoals
in het voorbeeld hieronder (_Dive site_):

Hieronder een voorbeeld van vier duiken, met een komma als scheidingsteken:

	Dive site,Dive date,Time,Dive_duration,Dive_depth,Dive buddy
	Illovo Beach,2012-11-23,10:45,46:15,18.4,John Smith
	Key Largo,2012-11-24,09:12,34:15,20.4,Jason McDonald
	Wismar Baltic,2012-12-01,10:13,35:27,15.4,Dieter Albrecht
	Pulau Weh,2012-12-20,09:46,55:56,38.6,Karaeng Bontonompo

Nog niet echt eenvoudig leesbaar voor een mens. Nu dezelfde data met
een TAB als scheidingsteken:

	Dive site	Dive date	Time	Dive_duration	Dive_depth	Dive buddy
	Illovo Beach	2012-11-23	10:45	46:15	18.4	John Smith
	Key Largo	2012-11-24	09:12	34:15	20.4	Jason McDonald
	Wismar Baltic	2012-12-01	10:13	35:27	15.4	Dieter Albrecht
	Pulau Weh	2012-12-20	09:46	55:56	38.6	Karaeng Bontonompo


Het mag duidelijk zijn waarom veel mensen een TAB scheidingsteken prefereren
boven een komma. Een duidelijk nadeel is echter, dat het TAB teken niet zichtbaar
is. Bijvoorbeeld, de spatie tussen _Dive_ en _date_ in de bovenste regel kan een
echte spatie zijn, of een TAB (in dit geval is het een spatie; de TABS staan
voor en achter _Dive Date_. Als de veldnaam in de kop (erg) lang zijn, kan
de data niet netjes opgelijnd worden. Hieronder een vereenvoudigd voorbeeld
een APD closed-circuit rebreather (CCR) duikcomputer, met TAB als scheidingsteken:


	Dive Time (s)	Depth (m)	pO~2~ - Setpoint (Bar) 	pO~2~ - C1 Cell 1 (Bar)	Ambient temp. (Celsius)
	0       0.0     0.70    0.81    13.1
	0       1.2     0.70    0.71    13.1
	0       0.0     0.70    0.71    13.1
	0       1.2     0.70    0.71    13.2
	0       1.2     0.70    0.71    13.1
	10      1.6     0.70    0.72    12.7
	20      1.6     0.70    0.71    12.6
	30      1.7     0.70    0.71    12.6
	40      1.8     0.70    0.68    12.5

Wanneer een _CSV_ bestand wordt geselecteerd om in _Subsurface_ te importeren,
wordt de eerste (kolomnamen) regel, en de eerste paar data regels getoond, dit
ter vereenvoudiging van het werken met dit soort bestanden. _CSV_ bestanden
kunnen op diverse plekken in _Subsurface_ worden gebruikt. Het
begrijpen van de basis structuur van deze bestanden is dus nuttig om data
efficiënt te kunnen importeren.

****

[icon="images/icons/important.png"]
[IMPORTANT]

_CSV_ importeren kent een aantal bijzonderheden. Gebruik geen speciale karakters
zoals ampersand (&), kleiner dan (<), groter dan (>) en dubbele quotes (“),
de laatste om tekst cellen te quoten. Het bestand dient de UTF-8 karakterset
te gebruiken als er niet-ASCII karakters in staan. Daarnaast kan de maat van
de _CSV_ problemen veroorzaken. 100 duiken (zonder profiel) heeft gewerkt,
maar grotere bestanden kan de limieten van de programmatuur overstijgen.
Probeer eerst een kleine _CSV_ import om zeker te stellen dat het werkt.


=== Coördinaten van duikplekken importeren van een apparaat met GPS.

Een smartphone met GPS kan worden gebruikt om locaties van duikplekken
vast te leggen. Dit werkt ruwweg op de volgende wijze:

1) Neem de smartphone mee naar de duikplek, duikboot, live-aboard, en leg de
posities (automatisch) vast.

2) Laad de coördinaten naar de _Subsurface_ Internet server.

3) Synchroniseer de duiken in de _Subsurface_ Duiklijst  met de coördinaten
zoals opgeslagen op de _Subsurface_ Internet server.

_Subsurface_ heeft twee hulpmiddelen voor deze wijze van vastleggen van coördinaten:

- De _Subsurface Companion App_ (Android en iOS).

- De _Subsurface-mobile_ app (Android en iOS)

Beide applicaties kunnen coördinaten verzamelen, en plaatsen op de _Subsurface_
Internet server voor verdere synchonisatie met de _Subsurface_ *Duiklijst*.
De ontwikkeling van de Subsurface Companion App is echter gestopt, en vervangen door de
_Subsurface-mobile_ app. De _Companion app_ is uitsluitend bedoeld om
(de positie van) duikplekken vast te leggen, en de _Subsurface-mobile_ app maakt
ook het bekijken, en deels bewerken van het logboek mogelijk. Hieronder wordt verder
beschreven hoe de drie stappen uitgevoerd worden met de twee hulpmiddelen.

Kies xref:S_Companion[_hier_] voor de informatie over de _Subsurface Companion App_.


==== Opslaan en gebruiken van coördinaten met _Subsurface-mobile_

===== Installeer _Subsurface-mobile_

Zoek de _Subsurface-mobile_ op Google en installeer hem op een Android apparaat.
De app is gratis. Ook in de Apple App Store is een (nog experimentele) versie iOS
versie beschikbaar. _Subsurface-mobile_ gheeft een eigen, uitgebreide
https://subsurface-divelog.org/documentation/subsurface-mobile-user-manual[gebruikershandleiding]
die ook bereikbaar is vanuit de app.

===== Maak een _Subsurface-mobile_ account aan

Dit onderwerp wordt uitgebreid besproken in de _Subsurface-mobile_ gebruikershandleiding.
Geef een email adres en wachtwoord op in het _Cloud rechten_ scherm van _Subsurface-mobile_.
Een PIN code wordt naar het opgegeven email adres gestuurd vanaf de
_Subsurface_ Internet server. Voer deze PIN code in het juiste veld (zie figuur beneden).
De _Subsurface_ Internet server meldt achtereenvolgens dat er een nieuwe gebruiker
is aangemaakt.

Uiteraard is er een dataverbinding nodig om een gebruiksaccount aan te maken, via de provider
of wifi maakt geen verschil.

image::images/MobileCredentials.jpg["Figuur: Subsurface-mobile, Cloud rechten scherm",align="center"]


===== Automatisch verzamelen van GPS coördinaten instellen

Ga naar het hoofdmenu, via het "hamburger" menu linksonder (zie figuur hierboven), en
selecteer _GPS_ -> _Instellingen_ (zie figuur hieronder). Het automatisch verzamelen
van GPS coördinaten wordt beïnvloed door twee instellingen:

- _Tijdsdrempel._ (minuten). De app probeert iedere X minuten een coördinaat vast
te leggen.
- _Afstandsdrempel._ (meters). Minimale afstand tussen twee coördinaten.

*Hoe worden de GPS coördinaten verzameld?* Neem aan dat de gebruiker de drempels
op 5 minuten en 50 meter zet. De app legt dan een coördinaat vast op de huidige
locatie, gevolgd door een nieuwe coördinaat iedere 5 minuten *of* als er 50
meter wordt verplaatst. De eerste overschrijding van een drempel telt. Als
er binnen een radius van 50 meter wordt bewogen, wordt er geen nieuwe
coördinaat vastgelegd. Als er niet wordt bewogen, wordt er één coördinaat
vastgelegd, in ieder geval totdat de tijdsdrempel wordt overschreden. Als er
wordt bewogen, ontstaat er een reeks coördinaten die de route iedere 50 meter
vastlegt.


===== Automatisch verzamelen van GPS coördinaten aanzetten

Het GPS menu van _Subsurface-mobile_ heeft onderaan een optie
_Draai locatie service_ (zie figuur hieronder). Op moment dat deze wordt
geselecteerd, start het automatisch verzamelen van GPS coördinaten.

image::images/MobileGpsMenu.jpg["Figuur: Subsurface-mobile GPS menu",align="center"]


===== Automatisch verzamelen van GPS coördinaten uitzetten na de duik

Kies de optie _Stop locatie service_ onderaan het _Subsurface-mobile_ GPS menu.


===== GPS coördinaten naar de _Subsurface_ Internet server sturen.

Om coördinaten naar de _Subsurface_ Internet server te sturen is er natuurlijk
een dataverbinding (wifi of via provider) nodig. Als er op de duiklocatie geen
dataverbinding mogelijk is, kunnen de coördinaten na de duik, of zelfs na
de trip geüpload worden als een dataverbinding weer mogelijk is.

Selecteer _GPS_ -> _GPS data opladen_ uit het hoofdmenu van _Subsurface-mobile_
om de data op de server te plaatsen.


===== Voeg de GPS coördinaten toe aan duiken in de _Subsurface_ Duiklijst.

_Subsurface_ gebruikt de eerste GPS coördinaat die is vastgelegd na de start
van de duik (op basis van tijd, zoals bij de duik is vastgelegd), en voor
het eind van de duik.

De coördinaat wordt getoond op het duiklocatie paneel. Hier kan dan ook de
naam van de duiklocatie worden ingevoerd, zie verder
xref:S_locations[_Locatie_ beheer].

De https://subsurface-divelog.org/documentation/subsurface-mobile-user-manual[gebruikershandleiding voor _Subsurface-mobile_]
is (ook) toegankelijk vanuit de app en bevat gedetailleerde informatie over de verzameling,
behandeling, uploaden en synchroniseren van deze data.


[[S_Companion]]
==== Opslaan en gebruiken van coördinaten met de _Subsurface_ Companion App

Gebruikmakend van de *Subsurface Companion App* op een Android apparaat of
xref:S_iphone[_iPhone_] kunnen GPS coördinaten van duiklocaties automatisch
in het _Subsurface_ logboek worden opgenomen.
De Companion App slaat de coördinaten op, op de _Subsurface_ Internet server en
_Subsurface_  kan deze coördinaten van deze server ophalen.

Dit werkt als volgt:

===== Maak een Companion App account

- maak een account aan op de http://api.hohndel.org/login/[_Subsurface companion web pagina_].
Je ontvangt een bevestigingsemail met uitleg en een persoonlijke *DIVERID*; een
lange string letters en cijfers, die toegang geeft tot de _Subsurface_ Internet server
en de Companion App functionaliteit.

- (Android) Download de app van
  https://play.google.com/store/apps/details?id=org.subsurface[Google Play Store]
  of van
  https://f-droid.org/repository/browse/?fdfilter=subsurface&fdid=org.subsurface[F-Droid].

===== (Android) De Subsurface companion app gebruiken

Bij het eerste gebruik zijn er drie opties:

* _Maak een nieuw account._  Dit werkt op dezelde manier als hierboven beschreven
via een Internet browser. Je kunt (via de app) een *DIVERID* aanvragen, maar
de verdere afhandeling loopt via de http://api.hohndel.org/login/[_Subsurface companion web pagina_]
zoals hierboven.

* _Haal een bestaand account op._  Als je je *DIVERID* bent vergeten kan je hiermee een
verzoek doen deze opnieuw via email te ontvangen.

* _Gebruik een bestaand account._ Voer je *DIVERID* in. De app slaat deze op, en wordt
niet meer gevraagd totdat je je expliciet je toestel afmeldt via _Disconnect_ (zie hieronder).

[icon="images/icons/important.png"]
[IMPORTANT]_In het Subsurface_ hoofprogramma, moet de *DIVERID* (Standaard Gebruikers ID)
ook worden ingevoerd bij _Bestand -> Voorkeuren -> Netwerk_ vanuit het hoofdmenu.
Dit is nodig voor synchronisatie tussen _Subsurface_ en de Companion App.


*Nieuwe duikplekken aanmaken*

Na de activatie van je account kan je duiklocaties aanmaken en naar de server sturen.
Het Android scherm ziet eruit zoals getoond in het linker figuur *A* hieronder,
zonder enige duik.

Gebruik het + icoon rechtsboven om een nieuwe locatie toe te voegen. Er
verschijnt een menu met drie opties:

* Current: er verschijnt een verzoek tot het invullen van de naam van de locatie (en
eventueel een systeemverzoek om de GPS aan te zetten als deze uit staat), achtereenvolgens
wordt de locatie bewaard

* Use Map: met deze optie kan er op een kaart een locatie worden aangegeven (zie *B* hieronder).
Kies de locatie door lang op de gewenste plek op de kaart te klikken (als er fout wordt
gekozen, kan je gewoon nogmaals lang klikken). Klik dan het vinkje rechtsboven. Er
verschijnt een veld om de naam van de locatie in te voeren en de datum/tijd van de duik
(zie *C* hieronder). Vul deze in, in overeenstemming met de tijd van de duikcomputer.

image::images/Companion_5.jpg["Figuur: Companion App, locatie toevoegen met kaart",align="center"]


* Import local GPX file: er wordt gezocht naar GPX bestanden op het toestel, en
als er een GPX bestand wordt geselecteerd (uit de gevonden bestanden) worden de
locaties hierin getoond. Kies de gewenste locaties, en selecteer het vinkje rechtsboven
om ze toe te voegen.


*Lijst van duiklocaties*

Het hoofdscherm toont een lijst met duiklocaties, naam van de locatie, en
datum/tijd (zie *A* hieronder). Sommige locaties hebben een "pijl naar boven"
om te laten zien dat ze nog niet naar de server zijn verstuurd. Ook is er een
selectie van een aantal locaties mogelijk door middel van het keuzevakje links.
Operaties zoals naar de server verzenden, of verwijderen gaan op basis van de
selectie.

Duik locaties in de lijst kunnen op twee manieren worden bekeken. Klik op _Dives_
en kies de gewenste presentatie: _Dives_; een lijst en _Map_ de locaties op
een kaart (zie *A* hieronder). Terug van kaart naar lijst presentatie gaat op
vergelijkbare manier (zie *B* hieronder). Bij het selecteren van een locatie (op de kaart
of uit de lijst) verschijnt er een detail scherm (zie *C* hieronder).

image::images/Companion_4.jpg["Figuur: Companion App, add location using map",align="center"]

In het detail scherm wordt de naam, datum/tijd en GPS positie getoond en twee
opties bovenaan het scherm:

- Edit (potlood):  Verander de naam van de locatie

- Maps:  Toont een kaart met de duiklocatie

Na aanpassing en bewaren van een duik locatie (zie *C* hierboven), kan de
aangepaste data naar de server verstuurd worden, zoals hieronder verder uitgelegd.


*Duik locaties naar de server sturen*

Er zijn meerdere manieren om de data naar de server te sturen. De eenvoudigste
manier is het selecteren van de nieuwe data, en klikken van de pijl naar rechts boven in
het scherm (zie *A* hieronder).

[icon="images/icons/important.png"]
[IMPORTANT]
Let op! Het vuilnisbak icoon doet precies wat het moet doen; het verwijderd
de gekozen duiklocaties.

image::images/Companion_1.jpg["Figuur: Screen shots (A-B) van companion app",align="center"]

Na een trip met gebruikmaking van de Companion, kunnen de locaties geïmporteerd
worden in _Subsurface_ (zie hieronder).


*Instellingen van de Companion App*

Met aanklikken van de _Settings_ menu optie verschijnt het scherm zoals
getoond in figuur *B* hierboven.

_Server en account_

- _Web-service URL._ Dit is voor gedefinieerd (http://api.hohndel.org/)

- _User ID._ De DIVERID zoals verkregen uit het registratie proces zoals hierboven
beschreven. Kopieer en plak de string of tik hem over.

_Synchronisation_

- _Synchronize on startup_. Als geselecteerd worden het apparaat en de server
automatisch bij opstarten van de app gesynchroniseerd.

- _Upload new dives._ Als geselecteerd worden nieuw toegevoegde locaties
automatisch naar de server verzonden.


_Background service_

In plaats van expliciet de app starten als er een locatie vastgelegd moet worden,
is het mogelijk de app in de achtergrond te draaien, waarbij dan continue locaties
worden verzameld.

De volgende instellingen zijn mogelijk:

- _Min duration._ In minuten. De app legt iedere X minuten een locatie vast, totdat
de gebruiker dit stopt.

- _Min distance._ In meters. De minimale afstand tussen twee locaties.

- _Name template._ De naam van de locaties bij opslaan.

[icon="images/icons/info.jpg"]
[TIP]
_Hoe werkt de achtergrond service?_ Neem aan dat de gebruiker de drempels
op 5 minuten en 50 meter zet. De app legt dan een coördinaat vast op de huidige
locatie, gevolgd door een nieuwe coördinaat iedere 5 minuten *of* als er 50
meter wordt verplaatst. De eerste overschrijding van een drempel telt. Als
er binnen een radius van 50 meter wordt bewogen, wordt er geen nieuwe
coördinaat vastgelegd. Als er niet wordt bewogen, wordt er één coördinaat
vastgelegd, in ieder geval totdat de tijdsdrempel wordt overschreden. Als er
wordt bewogen, ontstaat er een reeks coördinaten die de route iedere 50 meter
vastlegt.


_Other_

- _Mailing List._ De _Subsurface_ mailinglijst. Gebruikers van de app kunnen
zo een email naar de Subsurface mailinglijst sturen.

- _Subsurface website._ Een link naar de _Subsurface_ website.

- _Version._ De huidige versie van de Companion App.


_Search_

Zoek de opgeslagen locaties op naam, datum en tijd.


_Start service_

Start de achtergrond service op conform de eerdere instellingen.


_Disconnect_

Toegegeven, dit is een slechte naam voor deze optie, die de app afmeldt bij
de server. Het reset de user ID, en brengt de status terug alsof de app voor
het eerst geïnstalleerd is. De optie is eigenlijk alleen nuttig om locaties
van een andere gebruiker te kunnen laden en bewerken.


_Send all locations_

Deze optie stuurt alle locaties naar de server.


[[S_iphone]]
===== Subsurface companion app gebruiken op een _iPhone_ om duiklocaties vast te leggen

De gebruikersinterface van de _iPhone_ is erg eenvoudig. Type de *DIVERID* in
zoals verkregen uit het registratie proces, en selecteer _Dive in_ (zie linker figuur
hieronder). Je kunt nu starten met het verzamelen van locaties.

image::images/iphone.jpg["Figuur: De iPhone companion app gebruiken",align="center",width=640]

Duiken kunnen automatisch of handmatig worden toegevoegd. In handmatige instelling
kan een locatie worden worden ingetypt. In automatische mode, wordt er een reeks
locaties opgenomen, waaruit _Subsurface_ na downloaden de juiste kiest op basis van
de datum/tijd van de duik. De standaard instelling van de app is automatische mode.

Op moment dat er een duik(locatie) wordt toegevoegd, wordt de locatie service
automatisch gestart, en verschijnt er een rode balk onderaan het scherm. Klik op
deze balk na de duik en de locatie service wordt gestopt. Als de locatie service
actief is, kunnen alleen handmatige locaties toegevoegd worden.

De naam van de duiklocatie kan in _Subsurface_ na downloaden worden bewerkt, in
de app zijn verder geen mogelijkheden tot bewerken van de naam. De locaties worden
automatisch naar de _Subsurface_ Internet Server gestuurd; er is geen functie om
dit handmatig te doen.


*Duiklocaties downloaden in _Subsurface_*

Download eerst de duiken uit een duikcomputer of op een andere manier zoals
elders beschreven. Download dan de GPS coördinaten van de _Subsurface_ Internet
Server, via het hoofdmenu _Importeren -> GPS gegevens importeren van Subsurface
webservice_ (ook via ctrl-G bereikbaar). Het scherm zoals hieronder bij *A* getoond
verschijnt. Bij het eerste gebruik is de _Gebruikers ID_ nog leeg. Vul deze in, en
selecteer _Downloaden_ om de download te starten; het scherm ziet er nu uit zoals
bij *B* hieronder:

image::images/DownloadGPS.jpg["Figuur: Downloading Companion app GPS data",align="center"]

De _Apply_ knop is nu selecteerbaar, en deze zet de coördinaten bij de juiste duiken,
dwz. de coördinaten (en naam van de duiklocatie) worden op basis van tijdstip
van de duik en tijd van het vastleggen van de coördinaat aan elkaar gekoppeld. Merk
op dat reeds ingevulde namen van duiklocaties (dus al ingevuld voor de import sessie)
voor gaan, en niet worden overschreven. De GPS coördinaat wel.

Aangezien _Subsurface_ de duiken en de GPS coördinaten op basis van tijd aan elkaar
koppelt, dient er een zekere overeenstemming te zijn tussen de twee apparaten.
_Subsurface_ heeft een ruime tolerantie, maar er is natuurlijk een grens wat
redelijkerwijs automatisch kan worden gekoppeld. Als er geen match wordt vastgesteld
vinden er logischerwijs geen wijzigingen plaats in de *Duiklijst*.

Gelijke datum/tijd is niet altijd het geval, bijvoorbeeld door verschil in tijdzones.
_Subsurface_ is ook niet altijd in staat vast te stellen welke de juiste tijd is (
bijvoorbeeld bij herhalingsduiken met een kort oppervlakteinterval, waarbij de achtergrond GPS
vastlegging permanent heeft gedraaid; locaties kunnen dan bij meerdere duiken passen en
andersom). Een oplossing kan zijn, de datum/tijd van de duiken in de *Duiklijst*
aan te passen (en later na koppeling van de coördinaten weer terug).

[icon="images/icons/info.jpg"]
[NOTE]
TIPS:

- De achtergrond service kan de locatie lijst vullen met nutteloze punten die meer
corresponderen met de route van de boot, dan met de werkelijke duiklocaties. Het
is verstandig zoveel mogelijk nutteloze punten te verwijderen van af de smartphone
om verwarring later te voorkomen. Dit kan overigens alleen met de Android versie.

- Het is nuttig om de juiste locaties op zijn minst een informatieve naam te geven,
zeker tijdens een trip met meerdere duiken en duiklocaties. Dit vereenvoudigd het later
correct samenvoegen.

[[S_LoadImage]]
=== Foto's aan duiken toevoegen

Veel duikers maken foto's tijden het duiken. _Subsurface_ maakt het mogelijk
foto's gemaakt tijdens het duiken op te slaan en te tonen, in relatie tot
het duikprofiel.

==== Foto's laden en synchroniseren tussen duikcomputer en camera

Selecteer één of meerdere duiken uit de *Duiklijst*, en roep het
xref:S_DiveListContextMenu[context menu] op met de rechter muisknop. Kies
_Laad foto's van bestanden_ of _laad foto's van het web_. Bij _Laad foto's van bestanden_
verschijnt er een bestandskiezer waarin de te laden foto's geselecteerd kunnen worden.
Klik dan _Open_.

image::images/LoadImage2_f20.jpg["Figuur: Laad foto's van bestanden optie",align="center"]

Als foto's van het Internet worden geladen, geeft dan een URL van één enkele foto. Er
kan maximaal één foto tegelijkertijd van Internet worden geladen. _Subsurface_ gaat er ook
vanuit dat de foto's altijd via Internet benaderd kunnen worden op moment dat deze
getoond moet worden.

Als de foto's zijn geselecteerd (en _Open_ is gekozen), verschijnt het synchronisatie
scherm (zie figuur hieronder).
De tijd synchronisatie tussen camera en duikcomputer is zelden perfect; er zitten vaak wel
enkele minuten verschil tussen. _Subsurface_ wil de foto's zo precies mogelijk
op het profiel plaatsen dus er zijn een drietal manieren om dit te bewerkstelligen:

- *Pro-actief*: stel zelf de klokken van beide apparaten voor de duik gelijk.
- *Handmatig*: schijf aan het begin van de duik de tijd van de camera op (op basis
van de tijd op de duikcomputer). Je kunt dan na de duik, of zelfs aan het eind van de duikdag,
aangenomen dat de klokken verder niet aangepast zijn, het verschil tussen beide klokken bepalen.
In het veld _Tijdstip voor afbeelding(en) verschuiven met_ kan het berekende verschil worden
ingevoerd (zie figuur hieronder). Als de camera tijd 7 minuten later is dan de duikcomputer tijd,
voer dan u:07 en selecteer het keuzevakje _vroeger_. Dit klopt want de foto's moeten naar 7 minuten
vroeger verplaatst worden, want de camera tijd is 7 minuten later dan de duikcomputer tijd.
Klik _OK_ en de synchronisatie is voltooid.

image::images/LoadImage3b_f23.jpg["Figuur: Synchronisatie dialoog",align="center"]

- *Via een foto*: Dit is de handigste manier om de twee apparaten te synchroniseren. Maak
een foto van de duikcomputer waarop de tijd zichtbaar is. _Subsurface_ heeft de exacte
tijd van de foto uit de camera via de Exif data in de foto, en de foto toont de tijd
van de duikcomputer. Het bovenste deel van het scherm wordt hier niet gebruikt. Kies
de knop _Selecteer afbeelding van duikcomputer die de tijd aangeeft_. Er kan een
bestand gekozen worden zoals bedoeld (met een foto van de duikcomputer), en type
nu de tijd zoals getoond op de foto links van de foto. Zie figuur hieronder.

image::images/LoadImage3c_f23.jpg["Figuur: Synchronisatie dialoog",align="center"]

Als de tijd van een foto meer dan 30 minuten voor of na de duik is, wordt deze niet
geplaatst (zie de rode waarschuwing in de figuur hierboven), tenzij het keuzevakje
_Laad afbeeldingen zelfs als de tijd niet overeenkomt met de duiktijd_ is geselecteerd.
Op deze wijze kunnen bijvoorbeeld foto's voor of na de duik toch gekoppeld worden
met een duik, en op deze manier zichtbaar zijn via het _Foto's_ tabblad van
het *Notities* paneel.


==== Foto's bekijken

Nadat foto's zijn toegevoegd aan duiken, kunnen deze bekeken worden op twee plaatsen:

 - de _Foto's_ tab van het *Notities* paneel (linker deel van het figuur hieronder).
 - als miniatuurafbeelding op het duikprofiel op de plek waar de foto is genomen tijdens de duik

Om de miniatuurafbeeldingen in  het duikprofiel weer te geven, dient _toon foto's_
geactiveerd te zijn:

image::images/icons/ShowPhotos_f20.png["Figuur:Toon foto's knop",align="left"]

De foto's worden dan als volgt getoond:

image::images/LoadImage4_f20.jpg["Figuur: Foto's op het duikprofiel",align="center"]

Bij het bewegen van de muis over de miniaturen, wordt deze in een iets groter
formaat weergegeven. Zie hieronder:

image::images/LoadImage5_f20.jpg["Figuur:Miniatuur foto op het duikprofiel",align="center"]

Als er op de miniatuurafbeelding wordt geklikt, verschijnt de foto in een externe
applicatie (zoals gedefinieerd op het systeem), bedoeld om de foto tot in detail
te kunnen bekijken (zie figuur hieronder). *Merk op* dat de miniatuurafbeelding
rechtsonder een vuilnisbak symbool bevat; hier klikken verwijderd de foto uit de duik.
Foto's kunnen ook via de _Foto's_ tab worden verwijderd (zie hieronder).

image::images/LoadImage6_f20.jpg["Figuur: Volledige resolutie weergave via het duikprofiel",align="center"]

==== Het _Foto's_ tabblad
Foto's die aan een duik zijn gekoppeld worden weergegeven als miniatuurafbeelding op
het _Foto's_ tabblad. Bij veel foto's in een korte tijd, staan de miniaturen op het
duikprofiel vaak over elkaar; via het tabblad kunnen ze eenvoudig individueel benaderd
worden. De miniaturen op het profiel zijn met name bedoeld om de positie tijdens de duik
weer te geven. Enkel klikken selecteert een foto op het tabblad, dubbel klikken opent
deze in een externe applicatie. Verwijder een foto (dwz. de associatie met de duik, de
foto zelf wordt niet verwijderd), door deze te selecteren en met de delete toets kan
de selectie dan worden verwijderd (van zowel het tabblad als het profiel).


==== Foto's op een externe harde schijf

Veel onderwater fotografen bewaren hun foto's op een externe harde schijf. Op
moment dat de harde schijf zichtbaar is via het besturingssysteem, kan _Subsurface_
deze schijf (en de foto's) normaal benaderen. Ook het koppelen vam foto's aan duiken
werkt alsof de foto's op een vaste harde schijf staan; alles werkt zoals eerder
beschreven. Een verschil is natuurlijk het kunnen loskoppelen van de externe
harde schijf, waardoor _Subsurface_ niet meer bij de foto's kan. In het profiel
staan nu witte punten op de plek van de foto's en in het _Foto's_ tabblad staan
alleen de namen van de foto's. Als de externe harde schijf weer wordt aangesloten,
werkt het weer zoals voorheen.


==== Controleren aan welke duiken foto's hangen.

Individuele duiken bekijken of er foto's aan hangen is relatief tijdrovend.
Er is een handige manier om dit uit te zoeken. Klik rechts op de kopregel
van de *Duiklijst* voor het context menu. Je kunt nu de velden kiezen die
je wilt zien in de duiklijst. Zet het tonen van de Foto kolom aan, en de
duiken met foto's eraan zijn gemarkeerd met een icoon. Door te klikken op een
veld in de kop, wordt overigens de lijst gesorteerd. Meer informatie
in <<S_Divelist_columns, foto iconen in de *Duiklijst*>>.


[[S_FindMovedImages]]
==== Foto's verplaatsen naar andere folders, harde schijven of computers

Als een foto gekoppeld wordt aan een duik, slaat _Subsurface_ het folder pad
naar de foto op tezamen met de naam van het bestand. Dit alles om de foto weer te kunnen
openen. Als de foto verplaatst is naar en andere plek, veranderd het pad naar de foto en
kan _Subsurface_ het bestand niet vinden. Voor het terugvinden heeft _Subsurface_
specifieke functionaliteit: automatisch terugvinden voor middel van een vingerafdruk.

Naast het eerder genoemde pad en naam van het fotobestand, bepaalt _Subsurface_
bij het toevoegen van een foto ook de vingerafdruk van de foto en slaat deze intern op.
Op basis van deze vingerafdruk kan _Subsurface_:

- zoeken vanaf een bepaalde folder (en recursief in alle subdirectory's) naar
verplaatste foto's,
- de vingerafdrukken van alle gevonden foto's bepalen,
- en als een verplaatste wordt gevonden, wordt de koppeling automatisch hersteld,
ook als het bestand een andere naam heeft gekregen.

Selecteer uit het hoofdmenu _Bestand -> vind verplaatste afbeeldingen_. Er verschijnt
een bestandskies scherm, en kies daar de nieuwe plek van de foto's, en klik de
_scan_ knop. Het zoeken kan enkele minuten duren, afhankelijk van de gekozen
nieuwe plek (en het aantal bestanden dat daar onder staat). Hierna zijn de foto's
opnieuw gekoppeld, aangenomen dat de juiste nieuwe plek van de foto's is gekozen
natuurlijk.


[[Image_fingerprint_upgrade]]
****
*Oude foto collecties voorzien van vingerafdruk*

[icon="images/icons/important.png"]
[IMPORTANT]

_Subsurface_ berekent automatisch vingerafdrukken van foto's die het kan benaderen.
Zorg ervoor dat _Subsurface_ alle foto's kan bekijken die gekoppeld worden aan een duik.

_Subsurface_ controleert automatisch, en vernieuwd wanneer nodig de vingerafdruk op
de volgende momenten:

- Een duik met foto's wordt geselecteerd, en de miniatuurafbeeldingen zijn
zichtbaar in het duikprofiel.
- Op moment dat je iets wijzigt in het *Notities* paneel en de wijzigingen
opslaat.

****

=== Speciaal soort duiken loggen

Dit hoofdstuk geeft een overzicht van de veelzijdigheid van _Subsurface_ als een
hulpmiddel om duiken vast te leggen.



[[S_MulticylinderDives]]
==== Duiken met meerdere cilinders

Het omgaan met meerdere cilinders in _Subsurface_ is eenvoudig. Meerdere cilinders
komt in een aantal gevallen voor: (a) de hoeveelheid gas in één cilinder is niet
voldoende om de duik te doen; (b) er zijn verschillende gassen nodig als gevolg van
lengte of diepte. Veelal het terrein van technische duikers derhalve. Wat _Subsurface_
betreft dienen er twee zaken te worden toegevoegd:

- *Definieer de cilinders zoals gebruikt in de duik*. Dit gebeurt op het "Uitrusting" tabblad
van het *Informatie* paneel, xref:cylinder_definitions[zoals hierboven] beschreven.
Voer de cilinders één voor één in, en definieer de maat, inhoud, en druk.

- *Houd de momenten van gaswissels bij*: soms registreert de duikcomputer dit (bijvoorbeeld
  door het nieuwe gas met de hand te kiezen tijdens de duik), en anders op een schrijfleitje.

- *Plaats de gaswissels in het duikprofiel*: Als de gaswissels niet uit de duikcomputer komen,
moeten deze handmatig ingevoerd worden in het duikprofiel. Klik rechts op de gewenste locatie in
het profiel, en kies _Gaswissel toevoegen_. Als de "cilinder balk", onderaan het profiel
aan staat, zijn ook hier de gebruikte gassen te zien (zie figuur hieronder).

Hieronder staat een voorbeeld van een duik met twee cilinders, de eerste met EAN28,
gevolgd door EAN50 na 26 minuten voor decompressie.

image::images/multicylinder_dive.jpg["Figuur: Multicilinder profiel",align="center"]

Diverse duikcomputers kunnen automatisch cilinder drukken opslaan, zonder handmatige
interactie. Oudere duikcomputers (Uwatec Galileo, diverse Suunto modellen) kunnen soms ook
meerdere druk sensoren aan, waarbij op de duikcomputer gewisseld kan worden tussen
sensoren waardoor er een sequentieel verloop van cilinder drukken ontstaat. Sommige
moderne modellen (Shearwater Perdix AI, Scubapro G2) kunnen meerdere sensoren
tegelijkertijd uitlezen en opslaan. In deze gevallen interpreteert _Subsurface_ de data
juiste manier.
Er is permanente aandacht bij de _Subsurface_ ontwikkelaars om nieuwe duikcomputer modellen
te ondersteunen, ook die met meerdere druksensoren, en met juiste presentatie in het duikprofiel.
Onafhankelijk van het model van druksensor afhandeling, diverse (technische) duikers
zullen voorkeur hebben voor handmatige of juist automatische logging van duiken met
meerdere gassen. Echter, automatische registratie bij (eenvoudige) sidemount duiken met twee
cilinders is een eenvoudige casus. Zie de
link:https://subsurface-divelog.org/documentation/supported-dive-computers/[lijst van ondersteunde duikcomputers].


==== Sidemount duiken

Voor _Subsurface_ is sidemount gewoon een andere vorm van duiken met meerdere cilinders, vaak
met hetzelfde gas in de meerdere cilinders. Het komt voort uit de grotduik wereld,
waar de andere configuratie het passeren van kleinere passages mogelijk kan maken.
Tegenwoordig lijkt sidemount configuratie ook ingang te vinden in de recreatieve
duikwereld.

Zie de vorige paragraaf over automatisch vastleggen van cilinderdrukken.
Het handmatig loggen van sidemount cilinder gebruik is niet anders dan hier eerder beschreven,
en bestaat wederom uit drie onderdelen:

- *Registreer gaswissels gedurende de duik*: omdat sidemount meestal uitgaat van
afwisselend ademen uit twee cilinders met het gelijke gas, is er volgens veel duikcomputers
geen sprake van een gaswissel. Duikcomputers gaan vrijwel altijd uit van wisselen tussen
verschillende gassen, en niet verschillende cilinders met gelijk gas. De enige oplossing
is het handmatig bijhouden van gaswissel momenten, of het zetten van een merkteken in
de duikcomputer die later met de hand in _Subsurface_ als gaswissels kunnen worden ingevoerd.
Inderdaad een onplezierig werkje.
- *Definieer de gebruikte cilinders in _Subsurface_*: Dit gebeurt op het "Uitrusting" tabblad
van het *Informatie* paneel, xref:cylinder_definitions[zoals hierboven] beschreven.
Voer de cilinders één voor één in, en definieer de maat, inhoud, en druk (zie figuur hieronder
waar twee 12 liter cilinders worden gebruikt).
- *Plaats de gaswissels in het duikprofiel*: Klik rechts op de gewenste locatie in
het profiel, en kies _Gaswissel toevoegen_. Als de "cilinder balk", onderaan het profiel
aan staat, zijn ook hier de gebruikte gassen te zien (zie figuur hieronder).
In het figuur hieronder is tank 1 niet selecteerbaar (er kan geen wissel naar de
zelfde cilinder worden ingevoerd), dus er kan alleen naar cilinder 2 worden
gewisseld. Nadat alle wissels (en de begin- en einddruk van beide cilinders) zijn
ingevoerd, wordt de juiste gas grafiek getoond in het profiel.


image::images/sidemount1.jpg["Figuur: Sidemount profiel",align="center"]

[[S_sSCR_dives]]
==== Passieve semi-closed circuit rebreather (pSCR) duiken

[icon="images/halcyon_RB80.jpg"]
[NOTE]

Passieve semi-closed circuit rebreathers (pSCR) is geavanceerde technische
duikapparatuur, die, zoals alle rebreaters, ademgas circuleert en daarbij
de door de duiker geproduceerde CO~2~ verwijderd door middel van een chemisch
proces. Specifiek aan een pSCR is dat deze bij iedere ademteug een klein deel
van het uitgeademde volume weggooit (vaak 10 procent), en het verloren gas weer
toevoegt tijdens het inademen uit de aangesloten cilinder.
Dit levert een redelijke gas besparing op; typisch 8x zuiniger dan open circuit duiken.

Daarnaast bestaan er ook actieve SCRs (aSCR), deze druppelt permanent een beetje
vers gas in het apparaat en door overdruk verdwijnt er even veel.

Om pSCR duiken te loggen in _Subsurface_ is er niet veel specifieks nodig:

- Selecteer pSCR in het _Duikmodus_ veld op het *Notities* paneel.
- Voeg (waar van toepassing) de gaswissels toe zoals beschreven in de paragraaf over
xref:S_MulticylinderDives[multicylinder duiken].

Als de pSCR mode wordt gekozen, wordt de bij pSCR duikers bekende pO~2~ drop berekend,
en deze wordt meegenomen in de decompressieberekeningen. Dit leidt typisch tot iets meer
decompressietijd. Hieronder een pSCR duik van iets meer dan 2 uur gebruik makend
van EAN36 met decompressie op zuurstof.

image::images/pSCR_profile.jpg["Figuur: pSCR profiel",align="center"]


[[S_CCR_dives]]
==== Gesloten circuit rebreather (CCR) duiken

[icon="images/APD.jpg"]
[NOTE]

Gesloten circuit rebreathers (CCR) zijn geavanceerde technische
duikapparatuur. Ze doen twee specifieke dingen om een adembaar
systeem te behouden:
a) CO~2~ wordt verwijderd (zoals bij pSCRs)
b) het zuurstof gehalte wordt op peil gehouden

Punt b) kan in essentie op twee manieren. Door middel van een computer en door de
computer bestuurde kleppen;
dergelijke systemen worden eCCRs (elektronisch) genoemd. Daarnaast bestaan er ook
mCCRs (manueel, handmatig) waar de gebruiker zelf zorg draagt door een juist
zuurstofgehalte.

De CCR interface of _Subsurface_ is op dit moment experimenteel, en ondersteund
de Poseidon MkVI en APD Discovery/Evolution duikcomputers, Shearwater duikcomputers
aangesloten op een CCR; allen eCCR type
apparaten. Voor de eerste twee rebreaters geldt dat de duiken in losse bestanden
op de duikcomputer worden weggeschreven en dat _Subsurface_ deze losse logbestanden
kan inlezen. Met Shearwater duikcomputers kunnen wel meerdere duiken tegelijkertijd
worden ingelezen.


===== Importeren van een CCR duik

Voor Shearwater CCR controllers of onafhankelijke Shearwater CCR logs kunnen duiken
op normale wijze (zoals bij open circuit duiken) worden ingelezen. _Subsurface_ herkent
de CCR duiken op juiste wijze.
Andere CCR data wordt op dit moment uit gesloten programmatuur
geladen, welke bij de rebreather is geleverd.Zie de paragraaf over
xref:S_ImportingAlienDiveLogs[importeren van duik informatie
uit andere digitale bronnen]
en <<_appendix_b_dive_computer_specific_information_for_importing_dive_information,Bijlage B>>
voor uitgebreidere informatie. Gebruik die programmatuur om de duik data uit de computer van
de rebreather te laden en op te slaan op de desktop PC. Ga dan in _Subsurface_
vanuit het hoofdmenu naar  _Importeren -> Importeer logbestanden_ om de
xref:Unified_import[universele importeer dialoog te starten]. Selecteer het gewenste bestand
om te importeren, en filter eventueel om het gewenste bestand eenvoudig te vinden
(Poseidon MkVI of APD log bestanden). Andere formaten zijn in ontwikkeling.
Merk op de Poseidon bestanden .txt extensie hebben. Kies daarna _Open_ en de
geselecteerde duik wordt toegevoegd aan de *Duiklijst*


===== Getoonde informatie van een CCR duik

_Partiële drukken van de gassen_: De grafiek voor de zuurstof laat de partiële
zuurstof druk zien zoals gemeten door de sensoren van de CCR. In tegenstelling
tot een open circuit setup (waar pO~2~ waarden berekend worden op basis van
gassamenstelling en duikdiepte), is, in de CCR mode, deze informatie gemeten.
In beginsel is dit een redelijke vlakke lijn overeenkomend met het instelde
setpoint van de CCR

De gemiddelde pO~2~ is niet een gemiddelde waarde zoals eventueel opgeleverd
door de CCR, maar wordt door _Subsurface_ op de volgende wijze berekend:

- Voor twee O~2~ sensoren, wordt de gemiddelde waarde berekend.

- Voor drie O~2~ sensoren (zoals APD) wordt ook de gemiddelde waarde berekend,
tenzij er meer dan 0,1 bar verschil is bij gelijktijdige metingen; een dergelijke
meting wordt als onjuist beschouwd, en niet gebruikt in de berekening. Als dus
één uit drie sensoren teveel afwijkt, wordt deze niet gebruikt in de berekening.

- Als er geen informatie van O~2~ sensoren beschikbaar is, wordt de pO~2~ waarde
beschouwd als gelijk aan het ingestelde setpoint.

De gemiddelde pO~2~ (van de sensoren) wordt aangegeven met een groene lijn in
het duikprofiel scherm. De zuurstof setpoint data, alsmede de geregistreerde
waarden door de individuele zuurstofcellen kunnen in het het duikprofiel worden
getoond. De kunnen worden aangezet in het _Voorkeuren_ scherm, zie
xref:S_CCR_options[_Bestand -> Voorkeuren ->  Profiel_]).

Het van toepassing zijde deel van het _voorkeuren_ scherm is hieronder zichtbaar
met twee keuzevakjes om de pO~2~ grafieken zichtbaar te maken (met het selecteren
in het duikprofiel scherm natuurlijk).

image::images/CCR_preferences_f20.jpg["Figuur: CCR voorkeuren paneel",align="center"]

Het eerste keuzevakje (Toon setpoint wanneer pO~2~ getoond wordt) toont een
rode lijn, over de groene lijn van de gemiddelde pO~2~ (van de sensoren). Dit maakt
het eenvoudig vergelijken van setpoint en gemeten waarden door de sensoren mogelijk
zoals hieronder getoond.

image::images/CCR_setpoint_f20.jpg["Figuur: CCR setpoint en po2 grafiek",align="center"]

Het tweede keuzevakje (Toon individuele sensor waarden wanneer pO~2~ getoond wordt)
laat de individuele sensor waarden zien met volgende kleurcodering:

- Sensor 1: grijs
- Sensor 2: blauw
- Sensor 3: bruin

Zoals hierboven beschreven, toont de groene lijn de gemiddelde pO~2~. Hiermee
is een eenvoudig vergelijk mogelijk tussen de individuele sensoren en het gemiddelde
hetgeen nuttig kan zijn om onjuist reagerende sensoren te detecteren.

image::images/CCR_sensor_data_f20.jpg["Figuur: CCR sensor data graph",align="center"]

Sensor en setpoint data kunnen gelijktijdig door selectie van beide keuzevakjes worden
getoond. Partiële drukken van stikstof en helium (als van toepassing) worden op gelijke
wijze getoond zoals bij open circuit duiken.

_Gebeurtenissen_: Diverse gebeurtenissen worden vastgelegd, zoals het wisselen tussen
de loop van de CCR en open circuit. Dit soort gebeurtenissen worden getoond als
gele driehoekjes op het profiel, en details worden getoond in de xref:S_InfoBox[Informatie Box].

_Cilinder drukken_: Sommige CCR duikcomputers, zoals die van de Poseidon MkVI leggen
ook de cilinder druk vast. Deze drukken worden over het diepte profiel als
groene lijn getoond. Daarnaast zijn ook de begin en eind druk ingevuld van zoals
de zuurstof als diluent in het _Uitrusting_ tabblad.

Hieronder staat een duikprofiel van een CCR duik, met setpoint en sensor
informatie, en daarnaast ook nog cilinder druk informatie. In dit specifieke
geval stemt de sensor data goed overeen met het gekozen setpoint.

image::images/CCR_dive_profile_f22.jpg["Figuur: CCR duikprofiel",align="center"]

_Uitrusting-specifieke informatie_: Specifieke informatie mbt. bijvoorbeeld een CCR duik,
wordt door _Subsurface_ in het xref:S_ExtraDataTab[Extra data tabblad] getoond.

Het decompressie plafond zoals dat berekend wordt door _Subsurface_ is niet erg
precies, want met name de stikstof en helium druk in de unit wordt niet gerapporteerd
in de uitvoer van de duikcomputer. Veel CCR duikcomputers rapporteren echter wel
een zelf berekend decompressie plafond met inachtneming van alle sensor data van de
unit. Met

image::images/icons/cceiling.jpg["DC deco plafond icoon"]

wordt het tonen van het, door de duikcomputer, berekende plafond aangezet.

De standaard kleur voor het door de duikcomputer berekende plafond is wit.
Dit kan veranderd worden naar rood via het _Bestand -> Voorkeuren -> Profiel_.
Hieronder staat een voorbeeld van een duik met een duikcomputer berekend plafond:

image::images/CCR_dive_ceilingF22.jpg["Figuur: CCR computer-gegenereerd deco plafond",align="center"]

Meer apppatuur specifieke informatie over het laden van CCR logs uit Poseidon MkVI en
APD apparatuur staan in
xref:_appendix_b_dive_computer_specific_information_for_importing_dive_information[Bijlage B].


== Meer informatie over duiken in het logboek

=== De Duikkaart gebruiken om meer informatie te verkrijgen

De duikkaart heeft een aantal knoppen nuttig om diverse aspecten van een duik te bewerken. Deze zijn

[icon="images/icons/MapViewMode.jpg"]
[NOTE]
Met deze knop kan gekozen worden voor een kaart of een satelliet beeld.

[icon="images/icons/MapViewPlus.jpg"]
[NOTE]
Zoom in. Selecteer een kleiner gebied.

[icon="images/icons/MapViewMinus.jpg"]
[NOTE]
Zoom out. Selecteer een groter gebied.

image::images/MapMenu.jpg["FIGURE: Map menu",align="left"]

Een "Hamburger" knop in de rechts-boven hoek met de volgende functies:

* Open locatie in _Google Maps_. Opent Google Map met een marker op de locatie.

* Kopieer locatie naar clipboard (decimaal). Kopieert de coördinaten van de huidige duik locatie
naar het clipboard, in decimale notatie: -25.933905 30.710572

* Kopieer locatie naar clipboard (sexagesimaal). Kopieert de coördinaten van de huidige duik locatie
naar het clipboard, in sexagesimale notatie: 25°56'02.058"S 30°42'38.059"E

* Selecteer zichtbare duiken. Dit selecteert alle duiken die zichtbaar zijn op de
kaart in de Duiklijst. Handig om allen duiken in een gebied te bekijken of
of statistieken ervoor te berekenen.


=== Het *Informatie* tabblad (voor individuele duiken)

Het Informatie tabblad toont enige samenvattende informatie over
de geselecteerde duik in de *Duiklijst*. Nuttige informatie zoals
oppervlakte interval, maximum en gemiddelde diepte, gebruikte hoeveelheden
gas, gasverbruik, opgelopen CNS en OTU waarden.

[icon="images/icons/info.jpg"]
[NOTE]

Gasgebruik en SAC berekeningen:
_Subsurface_ berekent gasgebruik en SAC waarden met inachtneming van het
niet-ideale gedrag van gassen onder druk. Met name bij drukken hoger dan
200 bar levert dit een nauwkeurigere berekening. Zie
xref:SAC_CALCULATION[Bijlage F] voor meer informatie.


[[S_ExtraDataTab]]
=== *Extra Gegevens* tabblad (normaal gesproken voor een enkele duik)

Veel duikcomputers kunnen meer data opleveren dan regulier in duiklog programma's
verwerkt kan worden en veel kunnen verschillen tussen individuele type duikcomputers.
Voorbeelden zijn: meta data over een duik, batterij status, niet-vliegen tijd,
ingestelde decompressie parameters. Waar mogelijk wordt deze data op het
*Extra Gegevens* tabblad weergegeven. Hieronder een voorbeeld van dit soort data
uit een Poseidon rebreather.

image::images/ExtraDataTab_f20.jpg["Figuur: Extra Gegevens tabblad",align="center"]

=== *Statistieken* tabblad (voor meerdere duiken)

Het Statistieken tabblad geeft een samenvatting over meerdere duiken zoals
geselecteerd in de *Duiklijst*. Het totaal aantal geselecteerde duiken, maximum en
minimum diepte, enzovoort.


[[S_DiveProfile]]
=== Het *Duikprofiel*

image::images/Profile2.jpg["Typisch duikprofiel",align="center"]

Het duikprofiel paneel is het meest gedetailleerde scherm van _Subsurface_ om
een duik te bekijken. Het paneel heeft een lijst knoppen aan de linkerzijde om
diverse delen van de grafiek uit en aan te zetten. Meer informatie over deze
knoppen staat hieronder. Het primaire item in het paneel is de diepte gedurende de
duik in relatie tot de tijd. Door middel van een kleur worden de afdaal- en
opstijgsnelheid in relatie tot geadviseerde snelheden getoond. De volgende
kleuren worden gebruikt:

|====================
|*Kleur*|*Afdaalsnelheid (m/min)*|*Opstijgsnelheid (m/min)*
|Rood|> 30|> 18
|Oranje|18 - 30|9 - 18
|Geel|9 - 18|4 - 9
|Lichtgroen|1.5 - 9|1.5 - 4
|Donkergroen|< 1.5|< 1.5
|=====================

Het profiel toont ook gemeten diepte op markante punten, zoals bodemfase. Een
grijze lijn geeft de gemiddelde diepte tot dat punt in de duik weer.


[icon="images/icons/scale.jpg"]
[NOTE]
In enkele gevallen is het duikprofiel kleiner dan het gehele paneel. Door het
gebruik van de *Grafiek Schalen* knop kan dit worden opgelost.

*Water temperatuur* wordt getoond als een blauwe lijn onder de diepte grafiek,
met een aantal gemeten waarden.


[[S_InfoBox]]
==== De *Informatie Box*

De *Informatie Box* toont een groot aantal items. Standaard staat de box in de
linker boven hoek van het profiel, maar hij kan worden versleept, en de nieuwe
positie wordt behouden tussen sessies.

image::images/InfoBox2.jpg["Figuur: Information Box",align="center"]

Als de muis pointer in het profiel scherm staat, toont de box de details
behorende bij het punt waar de pointer staat (zie de figuren hierboven). Door
het verplaatsen van de pointer, wordt telkens de data geactualiseerd naar de nieuwe
locatie van de pointer. Er is een uitgebreide lijst items die kunnen worden
getoond, zoals: tijdstip in de duik (@ symbool), diepte, druk in gebruikte cilinder,
opstijg- en afdaal snelheid, gasgebruik (SAC), pO~2~, Maximum gebruiksdiepte (MOD),
Equivalente lucht diepte (EAD), Equivalente narcotische diepte (END),  Equivalente
lucht dichtheid diepte (EADD, ook als gasdichtheid in g/l), decompressie verplichting,
tijd naar oppervlakte (TTS),
berekend plafond. Een aantal van deze items kunnen worden aan- en uitgezet via knoppen
aan de linker zijde:

[icon="images/icons/MOD.jpg"]
[NOTE]
*MOD in-/uitschakelen*. Deze wordt bepaald op basis van het gekozen
gas, en de instelling van de maximum pO~2~. Voor lucht (21%) is deze ongeveer 57m
bij een pO~2~ van 1.4 bar welke is gedefinieerd in *Voorkeuren* (kies _Bestand ->
Voorkeuren -> Profiel_ en zet de _pO~2~ in berekenen MOD_). Dieper dan de MOD van
een gas duiken verhoogt de kans op zuurstofvergiftiging.

[icon="images/icons/NDL.jpg"]
[NOTE]
*NDL/TTS in-/uitschakelen*. NDL (Niet decompressie limiet) is de tijd die duiker
nog kan doorbrengen op de huidige diepte zonder een verplichte decompressie op te lopen.
Als deze wordt overschreden is er sprake van een verplicht plafond en wordt dit TTS
(Time to Surface, Totale opstijgtijd) genoemd. TTS bevat zowel de opstijgtijd als
alle verplichte decompressie tijd. _Subsurface_ berekent de TTS op basis van het
huidige gas, zonder rekening te houden met mogelijke gaswissels in het verdere
verloop van de duik. Omdat TTS langer dan 2 uur te onbetrouwbaar wordt, wordt die
aangegeven als >2h.

[icon="images/icons/SAC.jpg"]
[NOTE]
*SAC in-/uitschakelen*. De SAC is het naar de oppervlakte genormaliseerde gasgebruik
van de duiker in liters per minuut. Het werkelijk gasgebruik is natuurlijk gekoppeld
aan de duikdiepte (10 meter diep = 2x SAC, 20 meter diep = 3x SAC), maar een SAC is
een nuttig vergelijkingsmiddel tussen duiken. Eenheid is liters/min of (imperiaal)
kubieke ft/min.


[icon="images/icons/EAD.jpg"]
[NOTE]
*EAD, END, EADD in-/uitschakelen*. Toont de equivalente lucht diepte (EAD)
voor duiken met Nitrox en equivalente narcotische diepte (END) voor duiken met Trimix.
Dit zijn nuttige berekeningen voor duikers die duiken met dit soort gassen.
EAD is de diepte van een hypothetische duik op lucht met dezelfde pN~2~ als
de huidige duikdiepte op Nitrox. Onder de aanname dat alleen stikstof zorgt voor
decompressieverplichting, is de EAD de diepte die de deco bepaald.
In analogie is de equivalente narcotische diepte (END) de diepte van een
hypothetische duik op lucht met gelijke pN~2~ + pO~2~ (aanname, zuurstof is
ook narcotisch) voor de huidige duikdiepte op Trimix. De duiker kan een gelijke
mate van narcose ervaren als een duik op lucht naar de END diepte.

Figuur (*B*) hierboven toont een informatie box met vrijwel alle mogelijke waarden.


[[S_gas_pressure_graph]]
===== De gasdruk grafiek

Aan de linkerzijde van de *Informatie box* staat een (kleine) verticale grafiek
die de gasdrukken van stikstof (en helium indien van toepassing) toont die de
duiker ademde op het geselecteerde moment in de duik. Het moment is het tijdstip
dat is aangegeven bij het @ symbool.
De tekening hieronder toont aan de linker zijde de betekenis van de verschillende
onderdelen van de grafiek.

image::images/GasPressureBarGraph.jpg["Figuur:Gas Pressure bar Graph",align="center"]

- Het lichtgroene gebied geeft de gasdruk van alle ingeademde gassen weer met als
bovenste begrenzing de totale gasdruk gemeten vanaf de onderste begrenzing. Dit is
een _relatieve_ druk, en geeft dus geen absolute druk weer.
- De horizontale zwarte lijn onder de bovenste begrenzing van het lichtgroene gebied
toont de evenwichtsdruk van alle INERTE gassen tezamen (meestal alleen stikstof,
en bij Trimix ook helium). In dit voorbeeld gebruikt de duikers EAN32, dus de
evenwichtsdruk is 68% vanaf de afstand tussen de onderkant van de grafiek tot de
totale gasdruk.
- het donkergroene gebied toont de gasdrukken in de 16 Bühlmann weefselcompartimenten,
met de snelste weefsels aan de linker zijde.
- De bovenste zwarte horizontale lijn heeft de bovenste limiet aan van de inerte gasdruk
bepaald door de gradiënt factor die van toepassing is op de huidige diepte in het
duikprofiel. De gradiënt factor is een interpolatie tussen de FLow en GFHigh waarden
zoals gespecificeerd in het Profiel deel van de _Voorkeuren_.
- De ondergrens van het rode gebied geeft de via Bühlmann afgeleide M-waarde aan. Dit
is de gasdruk van de inerte gassen vanaf waar sterke belontwikkeling kan plaatsvinden,
hetgeen resulteert in een significant risico op decompressieziekte.

Deze vijf waarden worden getoond in het linker figuur hierboven. De manier waarop de
gasdruk grafiek gedurende een duik veranderd is te zien aan de rechter zijde van
de genoemde figuur, voor een duik met EAN32.

- Grafiek *A* toont de start van een duik weer. De drukken in alle weefsels zijn
in evenwicht met de druk aan de oppervlakte, want er heeft nog geen duik plaatsgevonden.

- Grafiek *B* toont de situatie na een afdaling naar 30m diep. Een paar snelle weefsels
hebben tijd gehad om te reageren op deze afdaling, dus er is een heel klein bultje
te zien aan de linker kant van het donkergroene gebied, maar veel is het niet, en de
inmiddels opgebouwde drukken in de weefsels zijn nog ver onder het evenwicht.

- Grafiek *C* toont de situatie na 30 minuten op 30 m. De snelle weefsels hebben
inmiddels een evenwicht bereikt (ze raken de zwarte lijn van de evenwichtsdruk).
De trage weefsels zijn nog druk aan het opbouwen.

- Grafiek *D* toont de drukken na het opstijgen naar 4.5m diep. Omdat in de opstijging de
ingeademde (en omgevings-) druk afneemt van 4 bar naar 1.45 bar, zijn de drukken in de
weefsels nu hoger dan de totale gasdruk, en naderen de waarde van de gradiënt factor
(de tweede horizontale zwarte lijn). Verder opstijgen leidt tot overschrijding van
de gradiënt factor (GFHigh), hetgeen gevaarlijk is.

- Grafiek *E* toont de situatie na 10 minuten op 4.5m. De snelle weefsel drukken zijn gedaald,
en zoals verwacht zijn de trage weefsels niet veel veranderd. De snelle weefsels
zijn echter zoveel lager, dat ze niet meer in de buurt van de GHhigh waarde zitten, en
verder opstijgen dus mogelijk is.


==== Door de duikcomputer vastgelegde gebeurtenissen

Veel duikcomputers leggen diverse gebeurtenissen vast tijdens een duik. Zoals bijvoorbeeld
alarmen voor een te hoge pO~2~, te snelle opstijgingen, overschrijden van
de niet decompressie limiet (NDL). Andere gebeurtenissen daarentegen wordt als
waarschuwingen beschouwd, zoals een te lage reserve in een cilinder, een
deepstop nodig is, of er naar een ander gas moet worden gewisseld voor een duik met
meerdere cilinders. Sommige duikcomputers rapporteren daarnaast ook nog berichten,
zoals het begin van een veiligheidsstop, of het bereiken van een aantal OTUs.
Alarmen, waarschuwingen en berichten verschillen tussen verschillende duikcomputers;
sommige rapporteren geen van de genoemde meldingen, andere kunnen ze allemaal,
of zelfs meer tonen. Het is derhalve een functie van de duikcomputer. Daarnaast
is _Subsurface_ niet altijd in staat om alle soorten meldingen weer te geven van
zoals deze uit een specifieke duikcomputer kunnen worden vastgelegd.

Meldingen worden getoond op het duikprofiel met verschillende symbolen. Een wit
rond symbool met de letter _i_ voor een bericht, een gele driehoek voor een waarschuwing,
en een rode driehoek voor een alarm. Door met de muis op een symbool te gaan staan,
verschijnt er enige toelichting is de _Informatie box_. Zie figuur hieronder.

image::images/profile_symbols.jpg["Figuur: Profiel bericht symbolen",align="center"]

Sommige duikcomputers kunnen ook bladwijzers aanmaken via een gebruikershandeling
op de duikcomputer. Deze worden getoond als een kleine rode vlag, en worden verder
besproken in <<S_Bookmarks, _bladwijzers toevoegen_>>.


==== De Profiel Toolbar

Het duikprofiel kan uitgebreid worden met grafieken die de *partiële gasdrukken*
van O~2~, N~2~, en He weergeven (zie figuur hierboven), door _Subsurface_ berekende
decompressie informatie, alsmede de door de duikcomputer
berekende deco plafonds. Natuurlijk alleen zichtbaar als er werkelijk een
decompressie verplichting is. pO~2~ heeft een groene lijn, pN~2~ een zwarte,
en pHe een donkerrode. Deze grafieken staan onder het duikprofiel en de temperatuur
grafiek.

[icon="images/icons/O2.jpg"]
[NOTE]
Toon de pO~2~.

[icon="images/icons/N2.jpg"]
[NOTE]
Toon de pN~2~.

[icon="images/icons/He.jpg"]
[NOTE]
Toon de pHe. Alleen zinvol voor ademgassen met helium natuurlijk.

De *gasgebruik* grafiek toont de druk in de cilinder gedurende de duik. Deze
grafiek neemt de diepte in beschouwing, dus het is geen rechte lijn. Zoals in
de diepte grafiek, geeft de helling van de lijn het huidige gasgebruik (SAC) aan,
in het geval van een lucht geïntegreerde duikcomputer. De kleur van de lijn is
niet één of andere absolute waarde, maar een relatieve waarde gerelateerd aan
de gemiddelde SAC, waarbij rood en oranje perioden aangeven met een verhoogd
gasgebruik en groen een verlaagd gasgebruik.

In planner mode is de SAC, zoals ingesteld, constant gedurende de bodemfase en
de decompressiefase. De kleur van de lijn geeft hier dan ook de gasdichtheid weer,
en niet de SAC.

[icon="images/icons/Heartbutton.png"]
[NOTE]
Door op de hartslag knop te klikken, wordt, voor duikcomputers die met
een hartslagmeter zijn uitgerust, de hartslag getoond.

In- en uitzoomen in het duikprofiel scherm is mogelijk met het scroll wieltje
van de muis of de juiste beweging op het trackpad. Standaard toont _Subsurface_
een gebied dat groot genoeg is voor een duik van 30 minuten naar 30m (100ft) diep.
Op deze manier zijn korte or ondiepe duiken eenvoudig te zien.

image::images/MeasuringBar.png["Figuur: Measuring Bar",align="center"]

[icon="images/icons/ruler.jpg"]
[NOTE]
Met de *meetlat in-/uitschakelen* knop kunnen details voor een deel van het duikprofiel worden
bepaald. Versleep de rode begin- en eindpunten naar de gewenste locatie
op het profiel, en een aantal (nuttige) waarden worden onder de lijn getoond.

[icon="images/icons/ShowPhotos.png"]
[NOTE]
Met de *toon/verberg foto's* knop kunnen foto's die aan een duik zijn gekoppeld
als miniatuurafbeeldingen op het duikprofiel worden getoond. Als deze knop niet
actief is, worden de foto's niet getoond.

In het profiel kan ook het door de duikcomputer berekende decompressie plafond worden
getoond (of preciezer, de diepste berekende decompressie stop) als rode laag. Niet
alle duikcomputers leggen deze informatie vast; bijvoorbeeld alle Suunto computers
doen dit niet. _Subsurface_ berekent ook zelf het decompressie plafond en kan deze tonen
als groene laag. Een rode laag en groene laag zullen vrijwel nooit overeenstemmen.
Er kan sprak zijn van verschillende decompressiemodellen, andere instellingen, en zelfs
als deze identiek zijn, is de kans op verschillen aanwezig. Zo zal _Subsurface_ vaker een
decompressie stop of plafond aangeven dan een duikcomputer. De meeste duikcomputers
"kijken vooruit" door de opstijging mee te stellen in de berekening, waar _Subsurface_
dit niet doet. Tijdens de nog uit te voeren opstijging wordt natuurlijk al een
deel van de (ondiepe) deco gedaan, dus hoewel we technisch gesproken, sprake is
van een deco plafond, zal deze vanzelf verdwijnen tijdens de opstijging zelf.
Dit levert een iets langere NDL tijd op.


[icon="images/icons/cceiling.jpg"]
[NOTE]
Als de duikcomputer een plafond berekend, en deze beschikbaar maakt voor _Subsurface_
kan deze worden getoond als rood (of wit) gebied door de knop "Door DC aangegeven
plafond in-/uitschakelen" te kiezen. De instelling rood of wit wordt gedaan
in de Voorkeuren.


[icon="images/icons/ceiling1.jpg"]
[NOTE]
Met de knop "Berekend plafond in-/uitschakelen" kan het door _Subsurface_ berekende
plafond worden getoond als groene laag. Zie *A* in het figuur hieronder. De
instelling kan op twee manieren nog verder worden gedetailleerd:

[icon="images/icons/ceiling2.jpg"]
[NOTE]
Met de knop "Berekening van alle compartimenten in-/uitschakelen" kunnen alle
weefselcompartimenten conform Bühlmann worden getoond. Zie *B* in het figuur hieronder.

[icon="images/icons/ceiling3.jpg"]
[NOTE]
===============================================================================================================
Met de knop "Berekend plafond in 3m stappen in-/uitschakelen" wordt
het berekend plafond met nog meer detail weergegeven.  Zie *C* in het figuur hieronder.

image::images/Ceilings2.jpg["Figuur: Ceiling with 3m resolution",align="center"]

Instelling van gradiënt factoren beïnvloedt sterk de berekende decompressie plafonds
en stop dieptes. Meer informatie over gradiënt factoren in
xref:GradientFactors_Ref[Gradiënt Factor Voorkeuren]. De op dit moment in
gebruik zijnde factoren staan in groen bovenaan in het duikprofiel scherm (aangenomen
dat in de Voorkeuren voor Bühlmann is gekozen). Deze parameters zijn NIET afkomstig uit
de gebruikte duikcomputer, maar zijn de parameters die door _Subsurface_ worden gebruikt
om de decompressieverplichting te berekenen. Meer externe informatie over Bühlmann
is te vinden op:

 *** http://www.tek-dive.com/portal/upload/M-Values.pdf[Understanding M-values by Erik Baker, _Immersed_ Vol. 3, No. 3.]

 *** link:http://www.rebreatherworld.com/general-and-new-to-rebreather-articles/5037-gradient-factors-for-dummies.html[Gradient factors for dummies, by Kevin Watts]
===============================================================================================================



[icon="images/icons/ShowCylindersButton.jpg"]
[NOTE]
Door het kiezen van dit icoon, wordt onderaan het *Duikprofiel* een balk getoond met
gebruikte gassen gedurende de duik. Zuurstof wordt met groen getoond, stikstof
met geel, en helium met rood. De figuur hieronder gebruikt eerst een trimix cilinder
(rood en groen), gevolgd door een nitrox cilinder (geel en groen) na 23 minuten.
Lucht wordt met blauw gerepresenteerd.

image::images/ShowCylinders_f20.jpg["Figuur: Cylinder use graph",align="center"]



[icon="images/icons/heatmap.png"]
[NOTE]
====================================================================================
Door het kiezen van dit icoon, wordt de zogenaamde heatmap getoond. De heatmap toont,
over het verloop van de duik, de inerte gasdrukken in de 16 weefselcompartimenten zoals
gedefinieerd in het Bühlmann model. Blauw betekent lage gasdruk (onderdruk) in een compartiment
en dus een toenemende druk in dat weefsel. Groen naar rood betekent overdruk in een weefsel
en dus afnemende druk in dat weefsel. De weefsels zijn van boven naar beneden gerangschikt
van snel naar langzame weefsels. In de figuren hieronder wordt verder ingegaan op het
lezen van de heatmap.

image::images/Heatmap.jpg["Figuur: Inerte gasdruk weefsel heatmap",align="center"]

Figuur *A* aan de linker zijde toont de xref:S_gas_pressure_graph[gasdruk grafiek] zoals
deze te zien is in de *Informatie box*, welke de huidige (op met moment waar de muis
pointer staat in het duikprofiel) inerte gasdruk weergeeft. De inerte gasdruk in de
16 weefselcompartimenten met aan de linker zijde de snelle weefsels, en aan de rechter
zijde de trage weefsels. Zie xref:S_gas_pressure_graph[gasdruk grafiek] voor meer
details over deze grafiek.

Figuur *B* toont de gradiënt van de unieke kleuren, over het gehele bereik van
de inerte gasdrukken. Het is nu mogelijk een afbeelding te maken van de 16 verticale
donkergroene balkjes uit figuur *A* naar een kleur in figuur *B*. Zo heeft, bijvoorbeeld,
het snelste weefsel (meest linkse balkje) in figuur *A* een hoogte die correspondeert
met een groene kleur in figuur *B*. In analogie, correspondeert het hoogste balkje
in *A* met een de kleur geel in *B*. Op deze wijze kunnen alle balkjes uit *A*
vertaald worden in een kleur.

De kleuren vertegenwoordigen drie gebieden van gasdruk in de weefsels:

 -  Het onderste gebied in *B* (gemarkeerd _On-gassing_) omvat de kleuren
 blauw tot zwart, en representeren de gasdrukken onder de evenwichtsdruk (de
 onderste zwarte lijn in *A*). De eenheid van meten is het percentage (%) van
 de inerte gasdruk, in relatie tot de evenwichtsdruk. In dit gebied worden
 de weefsels verder gevuld, want de gasdruk in de weefsels is lager dan
 de evenwichtsdruk. Zwarte gebieden tonen aan dat er evenwicht is bereikt tussen
 de inerte gasdruk in een weefsel en de omgevingsdruk. De omgevingsdruk varieert
 natuurlijk met de duikdiepte.

 -  Het centrale gebied in *B* bevat de kleuren zwart tot lichtgroen. Hier is
 de inerte gasdruk in een weefsel hoger dan de evenwichtsdruk, maar lager dan
 de omgevingsdruk. In dit gebied is decompressie inefficiënt omdat de gradiënt
 van de inerte gasdruk in een weefsel naar de omgevingsdruk relatief klein is.
 Dit zijn de donkergroene gebieden.

 -  Het bovenste gebied in *B* (gemarkeerd _Off-gassing_) bevat de kleuren van
 lichtgroen tot rood en wit, en representeert gasdrukken in weefsels groter
 dan de omgevingsdruk (bovenkant lichtgroene gebied in *A*). De eenheid van meten
 is het percentage (%) van de inerte gasdruk in een weefsel relatief en opzichte
 van de Bühlmann M-waarde gradiënt (onderkant van het rode gebied in *A*). Dit soort
 gasdrukken in weefsels treden met name op tijden opstijgingen. Onder de 100% is
 er sprake van een veilige en efficiënte deco, en dit is het gebied met
 lichtgroen, geel en oranje. Boven 100% (rood tot wit in *B*) wordt de
 M-waarde gradiënt overschreden en neemt de kans op decompressieziekte snel toe.

Figuur *C* toont de afbeelding van de hoogte van alle verticale balkjes in *A*,
met de snelle weefsels (links in *A*) afgebeeld aan de boven zijde van *C* en
de langzame weefsels aan de onderkant van *C*. Het hoogste verticale balkje in *A*
(de 3e vanaf links) wordt zo afgebeeld als en geel vierkantje op de 3e plek van boven
in de kolom van 16 weefsels. Hiermee is de kolom een momentopname van de
gasdrukken in de 16 weefsels in relatie tot het decompressie model.

Figuur *D* is nu een verzameling van kolommen zoals in *C* over een periode van
10 minuten van een duik met de tijd als horizontale as. Snelle weefsels boven,
en langzame beneden. De kolom uit *C* is te zien op de tijds-as tussen 9 en 10 minuten.

De kleuren van de heatmap worden niet beïnvloed door de keuze van de gradiënt
factoren. Dit komt omdat de heatmap relatief ten opzichte van de Bühlmann M-waarde
gradiënt is, en niet ten opzichte van een gekozen gradiënt factor. Meer (externe)
informatie zie:

http://www.tek-dive.com/portal/upload/M-Values.pdf[Understanding M-values by Erik Baker, _Immersed_ Vol. 3, No. 3.]

Omdat de kleuren in de heatmap niet bepaald worden door de gradiënt factoren, kan de heatmap
ook gebruikt worden met het VPM-B decompressie model.

De figuur hieronder vergelijkt een profiel en heatmap voor twee duiken naar 60m: de
eerste met het Bühlmann model en de tweede met het VPM-B model. Beide profielen hebben
gelijke totale decompressietijd (door de specifieke keuze van de instellingen van de modellen),
maar het VPM-B model vereist meer stoptijd op diepte.

In beide profielen neemt de inerte gasdruk in de snelle weefsels (uiteraard) sneller
toe dan die in de langzame weefsels, waarbij de kleuren van lichtblauw, via blauw en
paars naar zwart gaan. In analogie vind het omgekeerde proces plaats bij de opstijging.
Snelle weefsels geven sneller het opgenomen gas af bij iedere decompressie stop, waarbij de
kleuren van rood, via oranje en geel naar groen en zwart gaan.

Bij het vergelijken van de twee profielen met de heatmap is te zien dat de introductie van
relatief diepe stops, de oververzadiging (gradiënt) in de snelle weefsels in de vroege
fase van de opstijging minder is. Echter, door de diepe stops gaat de verzadiging van de
langzame weefsels langer door, hetgeen ervoor zorgt dat de oververzadiging (gradiënt)
hoger is in de ondiepe fase van de deco.

image::images/tissueHeatmap.jpg["Figuur: Inerte gasdruk heatmap",align="center"]
===================================================================================

==== Het duikprofiel context menu

Het context menu voor het duikprofiel wordt geopend door met rechter muisknop te
klikken in het profiel scherm. Met dit menu kunnen bladwijzers, gaswissels,
of CCR setpoint instellingen worden ingevoerd, voor die gevallen waar deze
niet uit de duikcomputer worden geïmporteerd. De markeringen worden geplaatst
op het diepte profiel, op de locatie waar het context menu werd geopend.
Bij gaswissels dient een gas te worden geselecteerd waar naar toe gewisseld
gaat worden. De lijst met te kiezen gassen komt uit het *Uitrusting* tabblad.
Een setpoint wissel opent een invoerveld wat de waarde van het nieuwe setpoint kan
worden ingevoerd. Een setpoint met waarde 0.0 betekent een wissel naar open circuit
(bailout scenario), en setpoint ongelijk 0.0 betekent CCR gebruik.
Door rechts te klikken op een markering kan er ook gekozen worden om deze te
verwijderen. Ook kunnen markeringen verborgen worden (en weer getoond).


== Het logboek organiseren (meerdere duiken tegelijk bewerken)

[[S_DiveListContextMenu]]
=== Het Duiklijst context menu

Verschillende bewerkingen kunnen voor een enkele, of een aantal duiken tegelijkertijd,
via het context menu van de *Duiklijst* worden gedaan. Deze kan geopend worden met
de rechter muisknop, na selectie van de gewenste duik(en).

image::images/ContextMenu.jpg["Figuur: Context Menu",align="center"]

Het context menu wordt bij veel onderstaande functies gebruikt.


[[S_Divelist_columns]]
==== Getoonde kolommen in de *Duiklijst* aanpassen

image::images/DiveListOptions.jpg["Voorbeeld: Duiklijst info opties",align="center"]

De standaard kolommen in de *Duiklijst* zijn: nr., datum, waardering, diepte, duur
en locatie. Door met de rechter muisknop te klikken in de kopregel, kunnen
kolommen aan en uit gezet worden, zie de figuur hierboven. De lijst wordt direct
aangepast op de nieuwe selectie, en instellingen worden bewaard tussen verschillende
sessies van _Subsurface_.


[[S_Photos_divelist]]

De _Foto's_ kolom toont een icoon dat aangeeft dat er foto's gekoppeld zijn
aan de duik. Er zijn drie mogelijke iconen:

[icon="images/icons/duringPhoto.png"]
[NOTE]
Deze duik heeft foto's gedurende de duik, dus onder water.

[icon="images/icons/outsidePhoto.png"]
[NOTE]
Deze duik heeft foto's voor of na de duik. Nuttig voor bijvoorbeeld oppervlakte
foto's vanaf de boot.

[icon="images/icons/inAndOutPhoto.png"]
[NOTE]
Deze duiken heeft zowel onder water foto's als foto's voor of na de duik.

[[S_Renumber]]
=== Hernummer van duiken

Duiken worden normaal gesproken oplopend genummerd, er zijn echter situaties waarbij
de normale nummering niet juist is. Bijvoorbeeld door het importeren van oude duiken,
of het samenvoegen van twee duiken. Dit alles kan worden opgelost door te
hernummeren. Kies uit het hoofdmenu _Logboek -> Hernummeren_ en heeft het gewenste
begin nummer in de scherm dat dan verschijnt. Op deze wijze worden alle duiken in
de *Duiklijst* hernummerd.

Het is ook mogelijk een aantal duiken te hernummeren. Selecteer de gewenste duiken
en selecteer het context menu _Duik(en) opnieuw nummeren_. Ook hier dient het gewenste
beginnummer te worden ingevoerd.

[[S_Group]]
=== Duiken groeperen en bewerken van trips

Voor regelmatige duikers kan de *Duiklijst* snel erg lang worden. _Subsurface_
kan duiken groeperen in trips. De automatische groepering doet dit door duiken
die niet meer dan twee dagen als oppervlakte interval onder een enkele kop samen
te vatten als _trip_. Hieronder in figuur *A* staat een niet gegroepeerde lijst,
met in figuur *B* de gegroepeerde versie:

image::images/Group2.jpg["Figuur: Duiken groeperen",align="center"]

Ga naar het hoofdmenu _Logboek ->  Automatisch groeperen_ om deze groepering uit
te voeren.

==== De titel en bijbehorende trip informatie bewerken

Na het automatisch groepen in trips is de titel van een trip beperkt ingevuld.
Door op de titel van de trip te klikken worden alle duiken van de trip geselecteerd,
en veranderd het *Notities* tabblad in een *Trip notities* tabblad. Hier kan
algemene informatie over de gehele trip worden genoteerd, zoals bijvoorbeeld, gebruikte
duikcentrum, boot, weer/omstandigheden gedurende de trip, enzovoort. Kies na
invullen de "Wijzigingen opslaan" knop in de blauwe balk, de data wordt bewaard,
en de aanpaste trip titel is zichtbaar in de *Duiklijst*.


==== Duiken in een specifieke trip bekijken

Door op de [+/-] knop te klikken opent en sluit het tonen van de individuele duiken in
de trip. Alle trips kunnen in één keer geopend en gesloten worden via het context
menu.


==== Meerdere trips samenvoegen tot een enkele trip

Na het selecteren van een trip, kan de trip erboven of eronder ermee worden
samengevoegd via het concext menu. (Trip met onderstaande toevoegen, Trip
met bovenstaande toevoegen).


==== Een trip opsplitsen in meerdere trips

Als een trip bijvoorbeeld tien duiken omvat en deze moet gesplitst worden in twee
trips (vier duiken in de eerste, en zes duiken in de tweede trip), selecteer
dan de bovenste vier duiken, en gebruik de "Nieuwe trip hierboven invoegen" optie
uit het context menu. Het figuur hieronder toont de begin (bij *A*) en de
eindsituatie (bij *B*).

image::images/SplitDive3a.jpg["Figuur: Splits een trip in twee trips",align="center"]

=== Een individuele duik bewerken

==== Een duik verwijderen

Duiken kunnen permanent verwijderd worden via het context menu
_verwijder duik(en)_ of de delete toets op het toetsenbord. Voorbeelden zijn
testduiken van de fabrikant, erg korte duiken.


==== Een duik uit een trip verwijderen

Een duik kan uit een trip worden verwijderd met de context menu optie
_Duik(en) uit trip verwijderen_. De verwijderde duiken worden boven
of onder de trip geplaatst, afhankelijk van de datum van de duik(en).


==== Duik(en) toevoegen aan een trip direct erboven

Geselecteerde duiken kunnen aan een nieuwe trip toegevoegd worden via
het context menu _Nieuwe trip hierboven invoegen_.


==== Tijdstip van één of meer duiken verschuiven

Soms is het nodig om de starttijd van één of meer duiken aan te passen. Bijvoorbeeld
doordat de duiken in een andere tijdzone zijn gemaakt, of de klok van de duikcomputer niet
juist stond ingesteld. Selecteer daartoe de betreffende duiken, en kies
_Tijdstip verschuiven_, specificeer het tijdsverschil, en kies later of vroeger.


==== Meerdere duiken samenvoegen tot één duik

Soms is een oppervlakte interval lang genoegd zodat de duikcomputer de duik splitst
in twee (of meer) duiken. Selecteer deze duiken, en kies _Geselecteerde duiken samenvoegen_
om deze duiken weer samen te voegen.
Soms is het nodig de *Notities* overeenkomstig aan te passen. Hieronder een voorbeeld
van een samengevoegde duik:

image::images/MergedDive.png["Voorbeeld: Samengevoegde duik",align="center"]

==== Splits geselecteerde duiken

In een aantal gevallen het het gewenst om een duik in meerdere duiken te splitsen.
Dit is mogelijk door de betreffende duiken te selecteren en uit het context menu
de juiste optie te kiezen. _Subsurface_ splitst dan de duiken op de plekken
waar de duikdiepte minder dan 1m is.


==== Foto's vanuit files aan een duik koppelen
Dit onderwerp wordt besproken in xref:S_LoadImage[foto's aan een duik koppelen].

==== Foto's vanaf internet aan een duik koppelen
Dit onderwerp wordt besproken in xref:S_LoadImage[foto's aan een duik koppelen].


==== Ongedaan maken van duik manipulaties

Een aantal belangrijke aanpassingen zoals hierboven beschreven, waaronder
_verwijder duiken_, _voeg duiken samen_, _splits duiken_, _hernummer duiken_,
en _verschuif duik tijdstip_. Kies hiervoor uit het hoofdmenu het item _Bewerken -> Ongedaan maken_,
en _Opnieuw_ om weer terug te keren.



[[S_Filter]]
=== De duiklijst filteren

Duiken in de *Duiklijst* kunnen worden gefilterd; het selecteren van een aantal
duiken op basis van eigenschappen. Zo kan er gefilterd worden op trefwoorden,
duiklocatie, buddy of duikleider en het gedragen duikpak. Zo kan bijvoorbeeld
gefilterd worden op alle grotduiken met een bepaalde buddy.

Selecteer uit het hoofdmenu _Logboek -> duiklijst filteren_ om het filter paneel te
openen aan de bovenkant van het scherm. Rechtsboven staan drie iconen. Met de gele
gebogen pijl (meest links) kan het filter teruggezet worden, de groene pijl (middelste
icoon) kan het filter paneel geminimaliseerd (maar nog steeds actief) gemaakt worden,
en het meest rechtse icoon (rood kruisje) herstelt het filter en sluit deze (zie
figuur hieronder).

image::images/Filterpanel.jpg["Figuur: Filter panel",align="center"]

Vier filter criteria kunnen worden gebruikt om de duiklijst te filteren:
persoon (buddy/duikleider), duiklocatie, trefwoorden, duikpak. Ieder
criterium kan ook beperkt worden door een aantal beginletters in te typen in het
veld boven de lijs. Het intikken van _ca_ bij trefwoorden laat dan bijvoorbeeld
alleen _cave_ en _cavern_ zien.

Het filter wordt actief als er minstens één keuzevakje is geselecteerd. In één
kolom (criterium) gelden meerdere geselecteerde als _OF_ selectie (met Bob of
Alice als buddy). Tussen de kolommen is de _EN_ selectie van toepassing (een
grotduik met Bob).


[[S_ExportLog]]
== De duiklog of delen van de duiklog exporteren

Er zijn twee manieren om duik informatie uit _Subsurface_ te exporteren:


- Exporteer duikinformatie naar _Facebook_

- xref:S_Export_other[Exporteer duikinformatie naar andere bestemmingen of formaten]

[[S_Facebook]]
=== Exporteer duikinformatie naar _Facebook_

Exporteren naar _Facebook_ werkt op een andere manier dan andere vormen van
export, met name omdat er een verbinding met _Facebook_ aanwezig moet zijn die
is ingelogd. Selecteer vanuit het hoofdmenu _Deel via -> Facebook_ (zie figuur
*A* hieronder). Een inlogscherm voor _Facebook_  verschijnt (zie figuur
*B* hieronder), en log in bij _Facebook_.

Het is eenvoudig te zien in het hoofdmenu of er een verbinding met _Facebook_
actief is. In het _Deel via_ menu is de _Facebook knop_ grijs en niet-selecteerbaar
als er geen verbinding is (figuur *A* hieronder).

Eenmaal ingelogd op _Facebook_ wordt er een paneel getoond met het bericht:
"Gebruik het 'Deel via' menu om de verbinding van Subsurface met uw Facebook
account te sluiten.". Sluit dit paneel.

image::images/facebook1.jpg["Figuur: Facebook login",align="center"]

Met de verbinding met _Facebook_ geactiveerd is het overdragen van een duik naar
_Facebook_ eenvoudig. Selecteer eerst de duik in de *Duiklijst*. Selecteer dan
uit het hoofdmenu _Deel via -> Facebook_. Er verschijnt een dialoog, waarin
aangegeven kan worden welke informatie naast het duikprofiel, moet worden
overgedragen naar _Facebook_ (zie figuur *A* hieronder).

Om een duikprofiel naar _Facebook_ te exporteren is de naam van een (foto) album
nodig. De keuzevakjes aan de linker zijde bepalen welke data uit het logboek
eveneens wordt geëxporteerd. Deze verschijnen in het tekst veld aan de rechter zijde,
welke verder handmatig kan worden aangepast. Nadat alles naar wens is ingevuld,
kan via de _OK_ knop de feitelijke export worden gedaan. Als de export gereed is
volgt een bevestiging.

Zowel het album als de geëxporteerde profiel (met annotaties) is in _Facebook_ als
privé aangemerkt, en de rechten van de geëxporteerde data moeten dus handmatig
in _Facebook_ worden gezet zoals gewenst.

image::images/facebook2.jpg["Figuur: Facebook data submission",align="center"]

De verbinding met _Facebook_ kan nu worden afgesloten als dat gewenst is. Gebruik
hiervoor uit het hoofdmenu _Deel via -> Verbinding verbreken met -> Facebook_ (
figuur *B* hierboven).


[[S_Export_other]]
=== Exporteer duikinformatie naar andere bestemmingen of formaten
Andere dan _Facebook_ exports kunnen gevonden worden door in het hoofdmenu
_Bestand -> Exporteren_ te kiezen. De exporteer dialoog biedt de mogelijkheid
om ALLE, of alleen de in de *Duiklijst* geselecteerde duiken, te exporteren. Kies
de gewenste mogelijkheid. Zie afbeeldingen hieronder.

image::images/Export_f20.jpg["Figuur: Export dialog",align="center"]

Voor een export kan uit meerdere formaten worden gekozen:

* _Subsurface XML_ formaat. Dit is het standaard formaat dat _Subsurface_ gebruikt.

* Universal Dive Data Format (_UDDF_). Zie _http://uddf.org_ voor meer informatie.
UDDF is een generiek, op XML gebaseerd, formaat bedoeld om communicatie tussen
duikcomputers en programmatuur mogelijk te maken.

* _Divelogs.de_, een Internet-gebaseerd (online) duiklog website. Om duiken naar
_Divelogs.de_ te kunnen exporteren, is een account nodig. Log in op _http://en.divelogs.de_
en maak daar een account aan.

* _DiveShare_ is eveneens een Internet-gebaseerd (online) duiklog website, welke
met name gericht is op recreatieve duikers. Ook hier is een account nodig en
registreren kan op _http://scubadiveshare.com_.

* _CSV duik details_, welke de meest relevante informatie over een duik bevat.
De volgende velden zijn aanwezig: duiknummer, datum, tijd, buddy, duikduur,
diepte, temperatuur, luchtdruk. Kortweg, vrijwel alle data die recreatieve duikers
in handmatig ingevoerde logboeken invoeren.

* _CSV duikprofiel_, die alle details van een duikprofiel bevat:
tijdstip in de duik, diepte, temperatuur (van elke geëxporteerde duik).

* _HTML_ formaat, waarbij de duiken in HTML worden geëxporteerde, en dus leesbaar
met een internet browser. Javascript moet beschikbaar zijn. De HTML export kan niet
worden bewerkt (vanuit _Subsurface_), en bevat vrijwel alle data zoals deze in
de divelog beschikbaar is. Een uitzondering zijn de berekende gegevens in het
*Duikprofiel* paneel zoals plafond, berekende cilinder drukken, partiële drukken,
en MOD. De HTML export bevat een zoek optie om snel door de log te kunnen zoeken.
De HTML export wordt gespecificeerd op het tweede tabblad van de export dialoog
(zie figuur *B* hierboven). Typische gebruik van deze HTML export is het exporteren
van je gehele logboek om deze eenvoudig mee op reis te nemen, handig voor die
duikcentra die graag je duik historie bekijken voordat ze zaken met je willen doen.

* _Wereldkaart_ formaat, waarbij de duiken naar een wereldkaart als HTML
bestand worden geëxporteerd. Dit is natuurlijk met name zinvol voor duiken op
een bekende GPS locatie. De kaart is niet te bewerken (vanuit _Subsurface_), en
bij het selecteren van een duik, word de bijbehorende informatie getoond, zoals
hieronder getoond.

image::images/mapview_f20.jpg["Figuur: HTML Map export",align="center"]

* _TeX_ formaat; een bestandsformaat gebruikt in het TeX programma (veel
in gebruik in wetenschappelijke publicaties). Gebruik de '.tex' extensie
voor deze bestanden. Ook heb je een sjabloon bestand nodig dat je kan laden via
link:http://www.atdotde.de/%7erobert/subsurfacetemplate/[http://www.atdotde.de/~robert/subsurfacetemplate/].
Plaats het sjabloon in dezelfde folder als de geëxporteerde duiken,
en draai "plain TeX" (dus geen LaTeX), bijvoorbeeld door 'pdftex filename.tex'
vanaf de commando regel uit te voeren.

image::images/texexample.png["Figuur: Export to TeX", align="center"]

* _Diepte foto(s)_, maakt een tekst bestand met alle foto bestanden die
aan de geselecteerde duiken in de *Duiklijst* zijn gekoppeld, inclusief
de diepte waarop de foto(s) zijn genomen.


* _Algemene instellingen_, op het HTML tabblad, bied de volgende instellingen:

** Subsurface nummers: Als deze optie is geselecteerd worden de duik nummers uit
_Subsurface_ getoond, anders worden de duiken genummerd vanaf 1.
** Exporteer Jaarlijkse Statistieken: Als deze optie is geselecteerd, wordt aan HTML
exports ook de jaarlijkse statistieken tabel toegevoegd.
** Exporteer enkel lijst: alleen een lijst met datum, tijd, diepte, duikduur wordt
geëxporteerd, en verdere detail informatie (zoals duikprofiel) is niet beschikbaar.

* Bij _Opmaakstijl Opties_ staan enkele stijl gerelateerde instellingen, zoals
lettertype en grootte.

Exporteren naar andere formaten kan bijvoorbeeld ook via externe partijen, zoals
_www.divelogs.de_.


[[S_Cloud_access]]
== De _Subsurface_ duiklog in de cloud plaatsen

Voor vrijwel alle duikers, is het bijhouden van een duiklogboek belangrijk. Het
is niet alleen een vastlegging van duiken voor het plezier, maar het is ook
vaak een voorwaarde voor vervolg training, en soms zelfs toelating tot bepaalde
duik locaties. De beveiliging is belangrijk. Opslaan in de cloud is bijvoorbeeld
een oplossing voor de beschikbaarheid in geval de hard schijf stuk gaat, of in geval
van verlies of diefstal van de computer. Een bijkomend voordeel is dat je bij je
logboek kan op iedere plek in de wereld (met een internet verbinding). Dit is
(mede) de reden dat er online logboeken bestaan, zoals _divelogs.de_ en _Diving Log_.

_Subsurface_ bevat een eigen en naadloos geïntegreerde cloud oplossing, die
beschikbaar is voor alle _Subsurface_ gebruikers. Opslaan en teruglezen vanuit de cloud
is net zo eenvoudig als het gebruiken van een lokaal bestand. De enige voorwaarde is
dat je je eerst registreert als gebruiker. Dit werkt op de volgende wijze:

=== Een cloud account aanmaken

** Ga in het hoofdmenu naar _Bestand -> Voorkeuren -> Netwerk_.
** Voer onder het kopje _Subsurface cloud opslag_ een geldig email adres in.
** Voer een wachtwoord in.
** Kies nu _Toepassen_. Het email adres en wachtwoord worden naar de server
gestuurd. De server stuurt een PIN code terug via het email adres zoals opgegeven.
Dit is de enige reden waarvoor _Subsurface_ het email adres nodig heeft. Het scherm
heeft nu ook een veld om de PIN code in te voeren.
** Voer nu de PIN code in. Dit veld is alleen zichtbaar als de server wacht op een
PIN bevestiging van het email adres.
** Kies nu opnieuw _Toepassen_. Het account wordt nu gemarkeerd met "rechten gecontroleerd",
en de  _Subsurface_ cloud opslag is nu gereed voor gebruik.


=== De _Subsurface cloud opslag_ gebruiken

** Op moment dat de cloud opslag is geactiveerd verschijnen er twee nieuwe items
in het _Bestand_ menu uit het hoofdmenu: _open cloud opslag_ en _bewaar in cloud opslag_.
Met deze opties kan het logboek respectievelijk geopend en bewaard worden
in de cloud opslag.
** In _Voorkeuren -> Algemeen_ kan de _Subsurface_ cloud
opslag ook als standaard worden ingesteld. Op deze manier wordt bij opstarten vanzelf
de duiklog uit de cloud gehaald, en bij afsluiten weer daar bewaard.
** _Subsurface_ bewaard een lokale kopie van de cloud data, en je kunt daardoor ook
doorwerken aan je logboek zonder internet verbinding. Op moment dat de internet
verbinding weer operationeel is, wordt de lokale kopie en de versie in de
cloud gesynchroniseerd.


[[S_Cloud_storage]]
=== Browser toegang tot de _Subsurface cloud opslag_

Op moment dat je logboek in de cloud staat, is het ook mogelijk met een
browser je logboek te bekijken. Ga naar
https://cloud.subsurface-divelog.org[_https://cloud.subsurface-divelog.org_],
en log in met je email adres en wachtwoord zoals gebruikt in de desktop PC
voor de cloud. Je krijgt dat toegang tot een HTML export van de laatste versie
van je duiklog. Dit logboek bevat alleen opgeslagen data, en toont geen
berekende data zoals in het *Duikprofiel* paneel.


=== Andere clouds

Als je liever geen gebruikt wilt maken van de eigen _Subsurface_ cloud, kun
je je logboek natuurlijk ook opslaan op een bestaande cloud aanbieder op het
internet. https://www.dropbox.com/[_Dropbox_] biedt bijvoorbeeld (gratis)
opslag aan die vanaf je desktop PC gezien kan worden als een lokale schijf.

image::images/Cloud.jpg["Figuur: Dropbox folder",align="center"]

De _Dropbox_ programmatuur maakt een kopie van de inhoud van je _Dropbox_ internet
cloud bestanden op je desktop PC, en wijzigingen die je maakt op de desktop worden
automatisch gesynchroniseerd op moment dat er een internet verbinding is. Natuurlijk
gebruik je de normale _open_ en _bewaar_ logboek menu items om een logboek op
_Dropbox_ te openen en sluiten. Vergelijkbare mogelijkheden zijn er via Google Drive
of Amazon.


[[S_user_space]]
== Meerdere _Subsurface_ gebruikers op één desktop computer

Het komt af en toe voor dat meerdere gebruikers op één desktop computer gebruik
willen maken van _Subsurface_. Bijvoorbeeld meerdere leden van een familie, of
één familielid dat de duikcomputers voor het hele gezin wil bewerken. Er zijn
twee manieren om dit te doen.

*A)* Als verschillende gebruikers op de desktop/notebook inloggen met dezelfde
gebruikersnaam, is de eenvoudigste manier om alle gebruikers een eigen duiklog bestand
te geven. Zo gebruikt John bijvoorbeeld het bestand _johns-divelog_ en Joan het
bestand _joans-divelog_. Kies bij het openen van het logboek (via het _hoofdmenu ->
Bestand -> Open_) het juiste bestand. Een nadeel van deze methode is dat de
standaard instellingen worden gedeeld tussen John en Joan, en dat is mogelijk
ongewenst of onhandig. Ook is het cloud account in beginsel bedoeld voor één
gebruiker; er is ook maar één instelling voor het cloud account en telkens
wijzigen is onhandig. Een betere methode is het opstarten van _Subsurface_ met
een optie op de commando regel: _--user=<user name>_. John start dan _Subsurface_
met:

	subsurface --user=John

en Joan met:

	subsurface --user=Joan

Op deze manier hebben alle gebruikers een eigen set standaard instellingen, en
een eigen cloud account. Door het maken van een snelkoppeling is het opstarten
met verschillende commando regel opties eenvoudig. Ook kunnen alle gebruikers
dan hun eigen logboek op een mobiel apparaat bekijken met
https://subsurface-divelog.org/documentation/subsurface-mobile-user-manual[_Subsurface-Mobile_].

*B)* De beste methode is (natuurlijk) alle gebruikers van de desktop/notebook een
eigen gebruikersnaam te geven. _Subsurface_ werkt dan ook onafhankelijk van de andere
gebruikers van de desktop, en heeft iedereen automatisch eigen instellingen, cloud
account, etc.


[[S_PrintDivelog]]
== Afdrukken van een duiklog

_Subsurface_ heeft een eenvoudige en flexibele manier om een gehele duiklog, of
een aantal geselecteerde duiken af te drukken. Voor-geïnstalleerde of eigen gemaakte
sjablonen kunnen worden gebruikt om de opmaak van de pagina's in te stellen.

Een aantal zaken dienen vooraf te worden besloten:

- Moet de gehele duiklog worden afgedrukt of een aantal geselecteerde duiken?
Selecteer in het laatste geval de gewenste duiken in de *Duiklijst*.
- Als ook de duikprofielen worden afgedrukt, kan met de knoppenbalk links van het
profiel de partiële druk grafieken aan- of uitgezet worden. Als ze op het scherm staan
verschijnen ze ook op de afdruk.

Het scherm hieronder (figuur *A*) verschijnt als uit het hoofdmenu _Bestand -> Afdrukken_
wordt geselecteerd. Drie instellingen dienen te worden gedaan:

image::images/Print1_f22.jpg["Figuur: Afdruk dialoog",align="center"]

1. Selecteer _Afdruktype_:

- _Duik lijst print_: Druk de duiken uit de *Duiklijst* af met profiel en andere gegevens.
- _Statistieken print_: Druk de jaarlijkse statistieken af.

2. Selecteer _Afdrukopties_:

- Druk alleen de (voor het openen van de afdruk dialoog) geselecteerde duiken af.
Als deze optie uit staat, worden alle duiken uit de *Duiklijst* afgedrukt.
- Door _Afdrukken in kleur_ te selecteren worden de duiken in kleur afgedrukt,
anders in zwart-wit.

3. Selecteer bij _Sjabloon_ de wijze van afdrukken. Er zijn verschillende
mogelijkheden (zie figuur *B* hierboven).

- _Table_: Deze print een samengevatte lijst van de geselecteerde duiken (zie hieronder)

image::images/Print_summarylist_f22.jpg["Figuur: Print samenvatting",align="center"]

- _Flow layout_: Deze print de tekst van iedere duik, zonder het duikprofiel
(zie hieronder):

image::images/Print_flow_layout_f22.jpg["Figuur: Print flow layout",align="center"]

- _One Dive_: Druk één duik per pagina af, inclusief het duikprofiel
(zie hieronder):

image::images/print2_f22.jpg["Figuur: Print één duik / page",align="center"]

- _Two Dives_: Druk twee duiken per pagina af, inclusief het duikprofiel.
- _Six Dives_: Druk zes duiken per pagina af, inclusief het duikprofiel.

Met _Voorbeeldweergave_ (zie figuur *A* aan het begin van deze paragraaf)
kan een voorbeeld afdruk gemaakt worden op het scherm. Na sluiten van het voorbeeld
kunnen de opties opnieuw aangepast worden zodat de gewenste afdruk ontstaat.

Selecteer vervolgens de _Afdrukken_ knop (zie figuur *A* aan het begin van
deze paragraaf). Hierdoor verschijnt het, bij het gebruikte besturingssysteem
behorende, afdruk scherm waarin de te gebruiken printer en de opties van deze
printer gekozen kunnen worden (zie  figuur hieronder).

image::images/Print_print_f22.jpg["Figuur: Print dialoog",align="center"]

Kies tot slot het de print knop van het scherm. Hieronder een klein voorbeeld
van de uitvoer van één specifieke pagina.

image::images/Printpreview.jpg["Figuur: Print preview page",align="center"]


=== Een eigen print sjabloon maken (gevorderd)

Door het maken van een eigen print sjabloon kan de uitvoer volledig naar
eigen behoefte worden ingericht. _Subsurface_ gebruikt HTML voor de opmaak van
afgedrukte uitvoer. Sjablonen kunnen worden gemaakt, geëxporteerd, geïmporteerd en
verwijderd met de betreffende knoppen in het sjabloon deel van figuur *A*
aan het begin van deze paragraaf). In <<S_APPENDIX_E,Bijlage E>> staat detail
informatie over het maken of aanpassen van een sjabloon.


[[S_Configure]]
== Een duikcomputer configureren

Met _Subsurface_ kunnen een aantal type duikcomputers geconfigureerd worden. Op
dit moment worden de Heinrichs-Weikamp (OSTC 2/2N/2C, OSTC 3, Sport) en Suunto Vyper
(Stinger, Mosquito, D3, Vyper, Vytec, Cobra, Gekko and Zoop) familie ondersteund.
Vele instellingen van deze duikcomputer kunnen gelezen, bewerkt en weer
terug geschreven worden. Zie
<<_appendix_a_operating_system_specific_information_for_importing_dive_information_from_a_dive_computer,Bijlage A>>
voor details over het op juiste wijze aansluiten van de duikcomputer.

Als de duikcomputer is aangesloten, kies dan uit het hoofdmenu _Bestand -> Duikcomputer configureren_.
Selecteer het juiste device of mountpoint, en selecteer het juiste type
duikcomputer aan de linker zijde (zie figuur hieronder).

image::images/Configure_dc_f20.jpg["Figuur: Configureer duikcomputer",align="center"]

Met de knoppen van het scherm zoals hierboven, kunnen de volgende bewerkingen
worden gedaan:

 - *Beschikbare details ophalen*. Hiermee worden de huidige instellingen van de
 duikcomputer opgehaald, en in het scherm getoond.
 - *Aanpassingen opslaan op het toestel*. Hiermee worden de huidige waarden
 opgeslagen op de duikcomputer.
 - *Backup*. Hiermee worden de huidige instellingen in een bestand worden
 bewaard. Er wordt gevraagd naar een bestandsnaam.
 - *Backup herstellen*. Hiermee word een op schijf opgeslagen backup terug
 op het scherm gezet. Om deze data achtereenvolgens op de duikcomputer te plaatsen,
 dient _Aanpassingen opslaan op het toestel_ te worden gekozen.
 - *Firmware updaten*. Als er een nieuwe versie van de firmware beschikbaar is,
 wordt deze op de duikcomputer geplaatst.


[[S_Preferences]]
== Gebruikers instellingen voor _Subsurface_

In het hoofdmenu onder _Bestand -> Voorkeuren_ kunnen vele standaard instellingen
gedefinieerd worden welke invloed hebben op wijze waarop _Subsurface_ werkt en
informatie toont. De voorkeuren zijn verdeeld in zes onderdelen: _Algemeen_,
_Eenheden_, _Taal_, _Profiel_, _Netwerk_ en _Georeferentie_, welke allen op
gelijke manier werken. Met _Toepassen_ worden de aanpassingen tijdelijk (tijdens
de huidige sessie) toegepast. Met _Opslaan_, worden ze toegepast en bij de volgende
sessies ook gebruikt. Met _Cancel_ worden aanpassingen niet toegepast.


=== Algemeen

Het *Algemeen* paneel heeft de volgende onderdelen:

image::images/Pref1_f23.jpg["Figuur: Voorkeuren algemeen pagina",align="center"]

  ** *Lijsten en tabellen*: Kies hier lettertype en grootte welke gebruikt wordt
  voor lijsten (zoals de *Duiklijst*) en tabellen. Een kleinere letter zorgt
  ervoor dat er meer duiken op het scherm passen.

  ** *Duiken*: Specificeer hier het standaard duiklog bestand dat _Sursurface_
  opent bij opstarten. Dit is een bestand met extensie _.xml_ of _.ssrf_.
  Er zijn drie mogelijkheden:

     - _Geen standaard bestand_: Als geselecteerd wordt er bij opstarten
     geen duiklog bestand geopend.
     - _Lokaal standaard bestand_: Als geselecteerd wordt er een duiklog bestand
     van de lokale schijf geopend.
     - _Cloud opslag standaard bestand_: Als geselecteerd opent _Subsurface_
     de cloud opslag zoals gedefinieerd in de _Netwerk_ voorkeuren (zie hieronder).

  ** *Toon ongeldige duiken*:  Duiken kunnen gemarkeerd worden als ongeldig.
  Bijvoorbeeld duiken in een zwembad, die wel bewaard moeten worden, maar niet getoond
  in de *Duiklijst*

  ** *Standaard cilinder*: Kies uit de keuzelijst de standaard cilinder die gebruikt
  wordt in het _Uitrusting_ tabblad van het *Notities* paneel.

  ** *Animaties*: Sommige acties in het duikprofiel zijn animaties. Bijvoorbeeld,
  de diepte- en tijd-assen. Met deze instelling kan de snelheid van de animatie worden
  ingesteld. De waarde 0 is geen animatie.

  ** *Alle instellingen wissen*: Met de knop hieronder kunnen alle instellingen
  gewist en terug gezet worden naar standaard waarden.


=== Eenheden
image::images/Pref2_f23.jpg["Figuur: Voorkeuren eenheden pagina",align="center"]

Kies tussen metrisch en imperiale eenheden voor diepte, druk, volume, temperatuur
en gewicht. Met de knoppen aan de bovenkant kan in één maal voor alles in metrisch
of alles in imperiaal worden gekozen. Daarnaast is het mogelijk een persoonlijke
instelling te maken met keuzes uit de metrische zijde en imperiale zijde.

Onafhankelijk van de bovenstaande keuzes, is duiktijd in te stellen in minuten
of seconden. Voor GPS coördinaten kan gekozen worden voor traditionele graden,
minuten, seconden, of voor decimale graden.


=== Profiel
Dit paneel heeft drie onderdelen:

[[S_CCR_options]]
image::images/Pref4_f23.jpg["Figuur: Profiel voorkeuren pagina",align="center"]

[[S_GradientFactors]]
* *Gasdruk display instelling*. Hoewel de pO~2~ waarden het meest relevant zijn,
kunnen ook pN~2~ en pHe ingesteld worden:
** _Drempelwaarden_: _Subsurface_ kan grafieken tonen van pO~2~, pN~2~ en pHe
gedurende een duik. Selecteer hiervoor de gewenste grafieken met de knoppen
aan de linker zijde van het *Duikprofiel*. Als de drempelwaarden
overschreden worden, is de grafiek rood gekleurd. De pO~2~ drempelwaarde is voor
meeste duikers het meest relevant met 1.40 bar een normale waarde.
** _pO~2~ in berekening MOD_ wordt gebruikt om de maximaal bruikbare diepte
van een gas te bepalen. Een waarde tussen 1.40 en 1.60 bar is gebruikelijk.

** CCR Opties: Deze opties zijn specifiek bedoeld voor CCR duiken:

*** _Duikplanner standaard setpoint_: Dit bepaalt het standaard O~2~ setpoint
voor een CCR duikplan. Verdere setpoint aanpassingen kunnen met het profile context
menu worden ingevoerd.

*** _CCR: toon setpoint wanneer pO~2~ getoond wordt:_ Als deze keuze is geactiveerd,
toont een rode lijn het ingestelde setpoint naast een eventeel getoond gemeten
actuele pO~2~. Zie verder xref:S_CCR_dives[Closed Circuit Rebreather duiken].

*** _CCR: toon individuele O~2~ sensor waarden wanneer pO~2~ getoond wordt:_
Als deze keuze geactiveerd is tonen verschillende lijnen (voor iedere sensor) de
gemeten O~2~ sensor waarden. Zie verder xref:S_CCR_dives[Closed Circuit Rebreather duiken].

* *Plafond display instelling*. Deze instellingen hebben met name betrekking op
effecten van stikstof en helium in relatie tot de door _Subsurface_ ondersteunde
decompressie modellen, en het tonen ervan in het duikprofiel:

** _Toon door duikcomputer aangegeven plafond in rood_: Standaard wordt een
aangegeven plafond in wit getoond, tenzij deze keuze is gemaakt. Logischerwijs is
deze dan rood. Niet alle duikcomputers rapporteren een berekend plafond, maar als
een duikcomputer dit wel doet, kan er verschil bestaan in de berekening van _Subsurface_
en de duikcomputer, bijvoorbeeld door verschillende decompressie methode of instellingen
hiervan, of door het dynamische karakter van plafond berekeningen gedurende een duik.

** _Algoritme voor berekend plafond_. Kies tussen Bühlmann Z1H-L16 en VPM-B model:

*** _VPM-B_: Kies een niveau voor de conservatisme instelling. De waarden lopen van
0 (minst conservatief) tot en met 4 (meest conservatief).


[[GradientFactors_Ref]]

*** Bühlmann: Stel de _gradiënt factoren_ (GFlow en GFHigh) in ten behoeve van
de berekening volgens het ZH-L16 algoritme. GF_Low is de gradiënt factor die een
rol speelt op diepte, en GF_High speelt een rol dicht bij de oppervlakte. Op
tussenliggende dieptes wordt een gradiënt tussen GF_low en GF_High gebruikt.
De toepassing van gradiënt factoren heeft invloed op het conservatisme, op een
manier die lijkt op de toepassing van conservatisme instellingen op vele
duikcomputers. Hoe lager de waarde van de gradiënt factor, hoe conservatiever
de berekening met betrekking verzadiging met inert gas op diepte, en hoe diepte
het plafond komt te liggen. Een gradiënt factor waarde 20/60 kan als conservatief
worden beschouwd, en een 70/90 als agressiever.

Beslis verder of je _GFLow op max. diepte_ wilt activeren. Als deze actief is wordt
GF_Low gebruikt voor het diepste punt van de duik en lineair geïnterpoleerd tot
GF_High  aan de oppervlakte. Wanneer niet geactiveerd, wordt GF_Low gebruikt tussen
het diepste punt van de duik en de eerste decompressiestop, en vanaf daar wordt
GF_Low lineair geïnterpoleerd tot GF_High  aan de oppervlakte. Zie de volgende
websites voor meer informatie:

 *** http://www.tek-dive.com/portal/upload/M-Values.pdf[Understanding M-values door Erik Baker, _Immersed_ Vol. 3, No. 3.]

 *** link:http://www.rebreatherworld.com/general-and-new-to-rebreather-articles/5037-gradient-factors-for-dummies.html[Gradient factors for dummies, door Kevin Watts]

 **  _pSCR opties_. Deze voorkeuren zijn bedoeld voor het plannen en berekenen van
 duiken met een passieve semi-close rebreather (pSCR):

 *** _Metabolisme ratio:_ Het aantal liters zuurstof dat gebruikt wordt per minuut.
 Waardes tussen 0.7 en 0.9 liter/min zijn gebruikelijk.

 *** _Verdunningsratio:_ De verhouding tussen gas dat verwijderd wordt uit de loop,
 en het deel dat behouden blijft in de loop. 1:10 is een veel gebruikte verhouding.
 Deze verhouding is afhankelijk van de fysieke verhouding tussen de grote en kleine
 counter long van de pSCR, dus deze waarde is vaak terug te vinden in de handleiding
 van het apparaat.

* *Allerlei*

** _Toon niet gebruikte flessen in het Uitrusting tabblad_: Als dit keuzevakje
is geselecteerd worden ook niet gebruikte cilinders in het Uitrusting tabblad
getoond. Wanneer niet geselecteerd, dient een cilinder gebruikt te worden tijdens
de duik om getoond te worden.

**  _Toon gemiddelde diepte in profiel_: Als geselecteerd wordt het een
grijze lijn de gemiddelde diepte in het profiel weergegeven.


=== Taal
Kies de taal die _Subsurface_ gebruikt.

image::images/Pref3_f23.jpg["Figuur: Voorkeuren taal pagina",align="center"]

De standaard instelling van _Subsurface_ is de taal van het besturingssysteem
te gebruiken, maar een andere instelling is mogelijk door het kiezen van een
andere (ondersteunde) taal uit de keuzelijst, nadat het keuzevakje
_gebruik systeem standaardinstelling_ is uitgezet. *Het veranderen
van de taal vereist het opnieuw opstarten van _Subsurface_.*

Ook kunnen hier gewenste formaten voor datum en tijd worden ingesteld.

=== Netwerk

In deze voorkeuren worden de diverse communicatie mogelijkheden van _Subsurface_
met de buitenwereld ingesteld. Bijvoorbeeld voor communicatie met de _Subsurface_
cloud, de Companion App, of als het nodig of gewenst is via een proxy te
communiceren.

image::images/Pref5_f23.jpg["Figuur: Voorkeuren Netwerk pagina",align="center"]

Deze dialoog bestaat uit drie onderdelen:

** _Proxy_:
Als er een proxy dienst wordt gebruikt, is dit de plek om deze te definiëren.
Stel het type, gebruikersnaam, wachtwoord en poortnummer in zodat _Subsurface_
automatisch een verbinding met Internet kan opzetten via deze proxy. De benodigde
informatie is over het algemeen afkomstig van de proxy dienst of ISP.

** _Subsurface_ cloud opslag: Om de duiklog in de _Subsurface_ cloud op te slaan
is een geldig email adres nodig en een wachtwoord. Er zijn daarnaast nog twee extra
instellingen.
- _Synchroniseer met de cloud in de achtergrond?_: Als geselecteerd wordt de
synchronisatie uitgevoerd terwijl je kan doorwerken aan andere dingen in
_Subsurface_.
- _Wachtwoord lokaal bewaren?_: Het cloud wachtwoord wordt op de lokale schijf
bewaard. Merk op dat dit zonder versleuteling gebeurd in een leesbaar tekst
bestand.

** _Subsurface webservice_: Als je je aanmeldt bij de <<S_Companion,Subsurface web service>>
krijg je een lang, en bijna niet te onthouden zogenaamd _Standaard gebruikers ID_.
Dit is de plek om deze in te stellen. Door de optie _Bewaar gebruikers ID lokaal_
wordt deze lokaal bewaard.


=== Georeferentie

_Subsurface_ kan een geografische zoek actie uitvoeren om een naam bij een GPS
locatie te zoeken. Dit kan natuurlijk alleen als een duikstek een ingevulde GPS
lokatie heeft, die bijvoorbeeld handmatig, met de kaart rechtsonder, met de
Companion App of met _Sursurface-mobile_ bepaald is. Voor deze functionaliteit is
een actieve internet verbinding nodig.

De wijze van naamgeving kan via de voorkeuren worden ingesteld. Bijvoorbeeld
_Country/State/City_ of _City/State/Country_. Zie figuur hieronder:

image::images/Pref7_f23.jpg["Figuur: Georeferentie paneel",align="center"]

[[S_DivePlanner]]
== De _Subsurface_ duikplanner
De duikplanner is een geavanceerde optie van _Subsurface_ die aangeroepen
kan worden via het hoofdmenu _Logboek -> Duik plannen_. Het maakt decompressie
berekeningen mogelijk met het Bühlmann ZH-L16 algoritme inclusief de door
Erik Baker toegevoegde gradiënt factoren. Daarnaast is ook VPM-B aanwezig.

****
[icon="images/icons/warning2.png"]
[WARNING]

De _Subsurface_ duikplanner is EXPERIMENTEEL en veronderstelt dat
de gebruiker bekend is met de _Subsurface_ gebruikers interface. De volgende
uitdrukkelijk voorwaarden zijn van toepassing:

- De gebruiker is bekend met duik planning en heeft de noodzakelijke opleiding
om een duik te plannen.
- De gebruiker plant duiken die binnen de eigen brevet beperkingen vallen.
- Decompressie berekeningen gaan uit van een _gemiddeld persoon_ en houden
geen rekening met persoonlijke gevoeligheid, gezondheid, historie of gedrag van
een individuele duiker.
- De veiligheid van een duikplan hangt sterk af van de manier waarop de planner
wordt gebruikt.
- De gebruiker is bekend met de _Subsurface_ gebruikers interface.
- Een gebruiker die onzeker is over enige voorwaarde hierboven doet er verstandig
aan de planner niet te gebruiken.
****

=== Het _Subsurface_ duikplanner scherm

Zoals het hoofdscherm van _Subsurface_, is het scherm van de planner ook verdeeld
in verschillende onderdelen (zie figuur hieronder). De *instellingen* voor een duik
staan links en aan de onderkant van het scherm. De onderdelen zijn:
Beschikbare gasmengsels, Opstijg- en afdaalsnelheden, Planning, Gas opties en
Notities.

De rechter bovenzijde is het *plan paneel* waar het duikprofiel door slepen en
klikken kan worden bewerkt, waarover hieronder meer. Dit maakt de _Subsurface_
uniek in zijn soort en gebruiksgemak.

De rechter onderzijde is het *tekst paneel* waar de uitvoer van het plan, in
tekst, is weergegeven. Door deze weergave kan het plan eenvoudig naar andere
programmatuur worden overgedragen. Dit is ook het gebied waar waarschuwingen
over het duikplan worden weergegeven.

image::images/PlannerWindow1.jpg["Figuur: Duikplanner begin scherm",align="center"]


=== Open circuit duiken

- Onderaan in het midden op het scherm (in de blauwe cirkel in de figuur hierboven)
staat een keuze lijst met drie opties. Hier wordt het type duikplan geselecteerd.
Standaard staat deze op _Open circuit_, en deze paragraaf gaat hier verder op in.
De andere opties (CCR en pSCR) worden verderop in deze handleiding besproken.

- Kies de _Open circuit_ mode.
- Controleer (en pas aan indien nodig) de parameters in de linker bovenhoek van het
scherm. Deze zijn: geplande duikdatum en tijd, hoogte en (lucht)druk. De druk kan
ook als hoogte worden ingevoerd met de aanname dat de druk op zeeniveau 1.013 bar
bedraagt.
- Vul de tabel _Beschikbare gasmengsels_ in. Voeg daartoe de te gebruiken cilinders
en de inhoud toe. Dit werkt op dezelfde manier als
<<cylinder_definitions, het invoeren van cilinders voor een reeds uitgevoerde duik>>.
Het cilinder type kan gekozen worden door dubbel erop te klikken en uit de lijst
de gewenste cilinder te kiezen. Stel de start druk van de cilinder(s) in, en voer
het gebruikte gas in. Als de O~2~% kolom leeg blijft, wordt lucht verondersteld, en
als de He% kolom leeg blijft wordt er geen helium verondersteld. Meer cilinders
toevoegen kan met met "+" icoon links boven.
- De tabel _Beschikbare gasmengsels_ heeft drie diepte waarden:

 ** Wissel op: de wissel diepte voor een decompressie gas. Tenzij anders ingesteld,
 wordt deze automatisch berekend op basis van de instelling _Deco pO~2~_ uit
 uit het _gas opties_ deel van de planner (standaard 1.6 bar).

 ** Bodemgas MOD: de maximaal bruikbare diepte van een gas. Ook deze wordt
 automatisch berekend op basis van de instelling _Bodem pO~2~_ uit het _gas opties_
 deel van de planner (standaard 1.4 bar). Als de _Bodemgas MOD_ handmatig wordt
 ingesteld, wordt het O~2~% overeenkomstig aangepast. Als er een ''*'' wordt
 ingevoerd, wordt de best mix O~2~% waarde berekend voor de maximale diepte
 van de duik.

 ** MND: de maximaal narcotische diepte (MND). Ook deze wordt
 automatisch berekend op basis van de instelling _Best mix END_ uit het _gas opties_
 deel van de planner (standaard 30 meter). Als de _MND_ handmatig wordt
 ingesteld, wordt het He% overeenkomstig aangepast. Als er een ''*'' wordt
 ingevoerd, wordt de best mix He% waarde berekend voor de maximale diepte
 van de duik.

- Het diepte profiel van de te plannen duik kan op twee manieren worden ingevoerd:
 *  Sleep de routepunten (de kleine witte cirkels) om het profiel te bewerken.
 Dubbel klikken op het profiel _voegt een punt toe_, en met het context menu
 (rechter muisknop) kan een punt _verwijderd_ worden.
 *  Een andere, efficiënte manier om een profiel in te voeren, is via de tabel
 _Duikplanner punten_. De eerste regel is de afdaling vanaf de oppervlakte naar de
 doel-diepte, de volgende regels beschrijven de bodemfase van de duik. De opstijging
 wordt meestal niet ingevoerd, het berekenen hiervan is immers een hoofddoel van de
 planner. Met het "+" icoon rechtsboven kunnen punten worden toegevoegd. Het via de
 tabel ingevoerde profiel verschijnt ook in het grafische profiel rechtsboven.
 De kolom CC setpoint is alleen relevant voor gesloten circuit rebreather duiken.


==== Recreatieve duiken

De recreatieve mode is de meest eenvoudige planning mode die duiken plant binnen
de niet-decompressie limiet (NDL). Het berekent de maximale tijd die de duiker
op de huidige diepte kan blijven zonder in deco te raken, met de ingestelde
hoeveelheid gas (minus de reserve). De planner neemt de vorige duiken mee in het
rekenwerk, onder de aanname natuurlijk dat deze reeds in _Subsurface_ zijn
ingevoerd. Maar normale (handmatige) duiktabellen kunnen ook rekening houden
met voorafgaande duiken. Waarom zouden we een geautomatiseerde planner willen
gebruiken voor recreatieve duiken? Duiktabellen werken met één maximale diepte
gedurende de duik, maar veel duiken hebben geen mooi "vierkant" duikprofiel.
Hierdoor wordt de hoeveelheid opgenomen stikstof overdreven. Dit levert
uiteraard veilige profielen op, maar ook kortere herhalingsduiken op.
Met de _Subsurface_ planner wordt het werkelijke duikprofiel gebruikt
voor de berekening, op de manier zoals een duikcomputer dat ook doet. Dit maakt
langere herhalingsduiken mogelijk.

Om een recreatieve duik te plannen zijn de volgende stappen nodig:

- Stel de datum en tijd in dat de duik gaat plaatsvinden. Hierdoor kan rekening
gehouden worden met eerdere duiken uit het *Duiklog* scherm.

- Selecteer de keuzevakjes _Recreatieve mode_ en _Reserve gas_ in het _Planning_
onderdeel van het scherm.

- Kies de te gebruiken cilinders met hun inhoud (lucht of O~2~% en druk,
in het _Beschikbare gasmengsels_.

- De planner berekent of de gebruikte cilinder(s) genoeg gas bevatten om
de geplande duik te doen. Voer hiertoe bij de _Gas opties_ de _gasverbruik (bodem)_
in. Realistische waarden zijn 15 l/min tot 30 l/min, waar ervaren duikers in de
buurt van 15 l/min zitten en minder ervaren (of hard werkende duikers, tegen
stroming in bijvoorbeeld) dichter bij 30l/min.

- Kies een _Reserve gas_ waarde. Dit is de hoeveelheid gas waarop de opstijging wordt
ingezet. Vaak wordt hier 50 bar gebruikt. Dit gas is bedoeld om zelf, en in geval
van nood samen met je buddy op te stijgen tot aan de oppervlakte. Veel recreatieve
duikopleidingen hanteren een vaste waarde voor het reserve gas. Het is immers niet
eenvoudig om een hoeveelheid gas te bepalen dat genoeg is; er zijn vele
factoren in het spel die situatie afhankelijk kunnen zijn.
_Subsurface_ kan een betere berekening uitvoeren in de planner, want het schema
van de opstijging is bekend. Het _Reserve gas_ is dan ook bedoeld als het
extra gas dat nodig is om een probleem onder water op te lossen, en met buddy uit
één gasvoorraad (die van de geplande duik) op te stijgen.
- Definieer de diepte door de routepunten (witte punten) in het profiel de slepen of
(beter) door de waarden in de _Duikplanner punten_ te bewerken zoals eerder beschreven.
Ook het invoeren van meer punten, voor multi-level duiken is natuurlijk mogelijk.
_Subsurface_ verlengt automatisch de lengte van de bodemfase tot de maximale lengte
binnen de niet-decompressie limiet (NDL).

- De opstijg snelheid kan ook worden ingesteld. De standaard ingestelde waarden
worden geacht veilig te zijn voor recreatieve duikers.

Het duikprofiel in de planner toont de maximale duiktijd binnen de
niet-decompressie limiet (NDL) met gebruikmaking van het Bühlmann ZH-L16
algoritme, en de overige instellingen zoals hierboven besproken: gas keuze, profiel,
datum/tijd va de duik. Met de _Subsurface_ kan een snelle inschatting gemaakt worden
van het plan met inachtneming van de eerdere duiken. Het plan bevat ook de hoeveelheid
gebruikt gas. Als bij een cilinder druk de waarde 0 wordt ingevoerd, wordt de duikduur
zonder inachtneming van het beschikbare gas gedaan. Als het duikprofiel ROOD kleurt,
valt de duik buiten recreatieve duik limieten, en dient de diepte of tijd verminderd
te worden.

Hieronder een figuur met een plan voor een recreatieve duik naar 30m. Hoewel de
niet-decompressie limiet (NDL) 23 minuten bedraagt, is de duik beperkt tot de hoeveelheid
gas in de cilinder.

image::images/Planner_OC_rec.jpg["Figuur: Een recreatief duikplan: setup",align="center"]

==== Niet-recreatieve open circuit duiken inclusief decompressie

_Subsurface_ noemt niet-recreatieve duiken, duiken over de grens van de niet-decompressie
tijden met of zonder gebruik van meerdere gassen, gebruik van helium, etc.
Dit soort duiken worden in drie stappen gepland:


*a) Stikstof management*: stel de gewenste _Opstijg- en afdaalsnelheden_ en
het gewenste decompressiemodel met zijn parameters in bij _planning_, beide onderaan het
scherm van de planner. Twee decompressiemodellen zijn beschikbaar: Bühlmann ZH-L16
en VPM-B. Bij het Bühlmann model dienen ook de gradiënt factoren te worden ingevuld,
en bij VPM-B de conservatisme waarde. Initieel zijn deze waarden gevuld met de
overeenkomstige waarden in het _Voorkeuren -> Profiel_ scherm. Het veranderen in
de planner heeft geen invloed op de algemene instelling in de _Voorkeuren_.
Bij Bühlmann beïnvloeden de gradiënt factoren sterk de berekende plafonds en de diepte
ervan. Zo geeft een erg lage GFLow eerdere en diepere decompressie stops.
 ** Zie xref:S_GradientFactors[gradiënt factoren voorkeuren] voor meer informatie
 over gradiënt factoren.

Als het VPM-B model wordt geselecteerd, dient het conservatisme niveau te worden
ingesteld. De schaal is 0 (minst conservatief) tot 4 (meest conservatief). Dit
model heeft de neiging diepere decompressie stops te geven dan het Bühlmann model en
heeft vaak een kortere totale decompressie tijd, hoewel dit ten koste gaat van
hogere inert gas weefseldrukken in het name de langzamere weefsels. Bedenk echter
dat beide modellen een model van de werkelijke fysiologische wereld zijn, die
te beschouwen zijn als wiskundige modellen van iets dat werkt in de praktijk.

Merk op dat het VPM-B model de intrinsieke aanname maakt dat afgifte van gas alleen
plaatsvindt tijdens de opstijgfase (die dus door de planner wordt berekend).
Mogelijk ontstaan er misleidende resultaten als er handmatige routepunten ingevoerd
worden tijdens deze opstijging. Dit is met name van toepassing op het her-plannen
van werkelijke duikprofielen; deze bevatten immers routepunten tot aan de oppervlakte.
Gooi voor dergelijke duiken eerst de routepunten weg die deel uit maken van de
opstijging. Dit kan het eenvoudigst door de ctrl- of command- toets in te drukken
tijdens het klikken op de het vuilnisbak icoon naast het eerste routepunt van de
opstijging in de tabel aan de linker zijde.

Meer (algemene) informatie over decompressie is bijvoorbeeld te vinden op:

 * link:http://www.tek-dive.com/portal/upload/M-Values.pdf[Understanding M-values door Erik Baker, _Immersed_ Vol. 3, No. 3.]
 * link:http://www.rebreatherworld.com/general-and-new-to-rebreather-articles/5037-gradient-factors-for-dummies.html[Gradient factors for dummies, door Kevin Watts]
 * link:https://www.amazon.com/Deco-Divers-Decompression-Theory-Physiology/dp/1905492073/ref=sr_1_1?s=books&ie=UTF8&qid=1403932320&sr=1-1&keywords=deco+for+divers[_Deco for Divers_, door Mark Powell (2008). Aquapress] Southend-on-Sea, UK. ISBN 10: 1-905492-07-3.
Een uitstekend niet-technische overzicht waarbij zowel Bühlmann als VPM-B worden besproken.

De opstijgsnelheid is belangrijke factor in de decompressiefase van een duik, en
wordt gespecificeerd voor verschillende diepte bereiken, waarbij de gemiddelde diepte
als meetlat fungeert. De gemiddelde diepte wordt getoond als een lichtgrijze lijn
in het profiel. Diepere opstijgsnelheden zijn vaak tussen 8 en 12m/min, en ondieper
in de orde van 4-9m/min. De afdaalsnelheid is ook gespecificeerd, en als de optie
_Afdalen tot eerste dieptetrap_ is geactiveerd, is de afdaling zoals gespecificeerd
bij de afdaalsnelheid.

*b) Zuurstof management*: In het _gas opties_ deel van het scherm dienen twee gewenste
partiële zuurstof drukken te worden ingesteld. De _bodem pO~2~_ en de _deco pO~2~_.
Veel gebruikte waarden zijn respectievelijk 1.4 bar en 1.6 bar. Drukken boven 1.6 bar worden
normaal gesproken niet gebruikt, omdat de kans op acute zuurstofvergiftiging sterk toeneemt.
De gaswissel diepte kan worden ingesteld in het _Beschikbare gasmengsels_ deel van
de planner. In beginsel kiest de planner het moment van gaswissel op basis van
de ingestelde partiële zuurstof drukken, op moment dus dat de deco pO~2~ bereikt
is op het nieuwe gas.

*c) Algemeen gas management*: gas beheer is een essentiële factor in het plannen
van duiken. Iedere duiker dient de hoeveelheid resterend gas gedurende een
duik juist in ogenschouw te nemen. Juist is: met inachtneming van het vervolg van
de duik, en eventueel de noodzaak tot het delen van gas bij een noodgeval.
Stel onder _gas opties_ de _gasverbruik (bodem)_ en _gasverbruik (deco)_ in op
realistische waarden. De SAC (oppervlakte gas consumptie, ook RMV genoemd) wordt
ingesteld in liters/min (op dit moment zijn alleen SI eenheden mogelijk). Waarden
van 15-30l/min zijn gebruikelijk. Voor een goed gas management is gokken van
de SAC niet de juiste manier; beter is regelmatig je gas gebruik vast te stellen,
het liefst onder verschillende omstandigheden. De planner berekent de benodigde
hoeveelheid gas, geeft een waarschuwing als deze wordt overschreden. Zeker bij
complexere duiken is het aanhouden van een goede reserve zeer verstandig om om te
kunnen gaan met onvoorziene omstandigheden. Zo wordt in grotduiken de 1/3 regel
toegepast. 1/3 van het gas om naar binnen te zwemmen, en dus 2/3 voor de weg terug.
Bij een volledig verlies van gas van één buddy op maximale afstand in de grot is de
2/3 precies genoeg voor twee duikers (beide 1/3). Met andere woorden: als er dan
nog iets meer mis zou gaan is zelfs 2/3 niet genoeg reserve.

Naast het kunnen berekenen van de totale gas consumptie uit elke gebruikte
cilinder, kan de planner ook de geadviseerde hoeveelheid bodemgas berekenen die
nodig is om de eerstvolgende gasvoorraad te kunnen bereiken (het volgende decompressie
gas of de oppervlakte). Dit wordt de "minimum gas" of "rock bottom" berekening
genoemd, en wordt door een aantal (maar niet alle) technische opleidingssystemen
toegepast. Zie hieronder voor een gedetailleerde uitleg.



Nu kan worden begonnen met het invoeren van de tijd-diepte profiel. Dit kan met de
grafische weergave rechtsboven. Bij openen van de planner is er een standaard duik
te zien naar 15 meter voor 20 minuten. De witte routepunten kunnen worden versleept
met de muis of na selecteren met de pijltjes toetsen.
 Meer punten kunnen worden gemaakt door dubbelklikken op de lijn van
het profiel. Het is niet nodig om de opstijging ook in te voeren, het is immers een
planner mede bedoeld om de opstijging te berekenen. Er er een limiet voor stikstof,
zuurstof of gas wordt overschreden kleurt de ruimte boven het profiel ROOD in plaats
van BLAUW.

Elk punt op het duikprofiel verschijnt ook in de _Duikplanner punten_ tabel aan
de linker kant van het scherm. Stel de _Verbruikt gas_ kolom in.

Als er sprake is van een decompressie verplichting maakt _Subsurface_ extra
routepunten aan (die niet gemarkeerd worden als witte punten). De punten die
in de _Duikplanner punten_ staan kunnen (natuurlijk) ook handmatig bewerkt
worden. Sterker nog, vaak is het handiger om de duik via de tabel in te voeren.

Gaswissels kunnen worden ingevoerd op routepunten (zie ook de paragraaf over
<<S_CreateProfile,een duikprofiel maken>>). Alleen cilinders en gassen kunnen
woeden gekozen die in de tabel _Beschikbare gasmengsels_ zijn ingevoerd. In de
opstijging zal de planner op basis van pO~2~ instellingen de
benodigde gaswissels in de planning opnemen.

Cilinders in gebruik voor het plan dienen te worden ingevuld in de tabel _Beschikbare gassen_.
Voer in de kolom _type_ het soort cilinder in. Hoewel is al een groot aantal mogelijke
cilinders beschikbaar is, is het mogelijk nieuwe toe te voegen door de naam ervan in te
tikken. Voer achtereenvolgens de gassamenstelling in (helium en zuurstof).
Als er een waarde anders dan 0 wordt ingevoerd in de _CCR setpoint_ kolom wordt
dat deel van het profiel beschouwd als een duik met een gesloten circuit rebreather
(CCR). Als het laatst ingevoerde segment ook een ingevuld _CCR setpoint_ heeft,
wordt de decompressie fase ook als CCR duik bepaald. Als het laatste segment echter
een open circuit segment is, zal de decompressie als open circuit duik worden bepaald.

Voor de duikprofiel segmenten in in de _Duikplanner punten" tabel, door tijd en diepte
in te vullen. Voer ook de juiste cilinder in als er meer dan 1 cilinder in gebruik is.
Indien nodig kan het aantal rijen in de tabel worden uitgebreid door het gebruik van de "enter"
toets. In figuur A hieronder, is een segment (met gebruik van een EAN50 cilinder) toegevoegd
aan het begin van de duik (omdat het andere gas niet adembaar is aan de oppervlakte). op
moment dat het nieuwe segment met de "enter" toets wordt bevestigd, wordt het plan
automatisch aangepast (figuur B hieronder).

image::images/planner1.jpg["FIGURE: Duikplanning: segmenten",align="center"]

Hieronder een voorbeeld van een duik naar 55m met Tx20/30 met gebruikmaking van
het Bühlmann algorithme, gevolgs door een opstijging met EAN50, en de instellingen
zoals hierboven.

image::images/Planner_OC_deco.jpg["FIGUUR: Planning van een duik",align="center"]

Als bovenstaande stappen zijn doorlopen, kan de duik opgeslagen worden met de
_Bewaren_ knop bovenin het scherm. De duik verschijnt dan in de *Duiklijst*.


*Duikplan details*

In  de rechtsonder hoek van het scherm van de planner staat de _Details van het duikplan_.
Deze details kunnen aangepast worden met de keuzevakjes in het _Notities_ deel
van het scherm, net links van het details deel. Als er voor _Gedetailleerd duikplan_
wordt gekozen, veranderd de tabel-vorm naar een meer beschrijvende vorm. Alle
waarschuwingen verschijnen ook de details van het plan.

Als de optie _Duur van het segment tonen_ is geselecteerd verschijnt de duur van ieder
diepte segment in de uitvoer. De duur bevat ook de tijd van de opstijging naar dat
niveau. Echter, als _Toon overgangen in deco_ ook is geselecteerd worden ook de overgangen
tijdens de deco verder gedetailleerd.

De planner heeft een keuzevakje _Toon plan variaties_. Hierdoor gaat de planner
iets diepere en langere duiken plannen dan de reeds geplande duik. Dit kost veel
rekentijd, en de planner kan hierdoor merkbaar langzamer worden. De informatie wordt
als volgt weergegeven:

    Runtime: 53min + 0:52/m + 4:21/min

Dit betekent:

 * De berekende duiktijd is 53 min.
 * Voor elke meter dieper gedurende de bodemfase, neemt de duikduur met 52 seconden toe.
 * Voor iedere minuut extra gedurende de bodemfase, neemt de duikduur met 4 minuten en 21 seconden toe.
   Dus als de bodemtijd 2 minuten langer is, neemt de duikduur toe met 2 + 2x4 min 21 sec = 10 minuten en 21 sec.
   En iedere decostop is ongeveer 10:42/53:00 = 20% langer dan gepland. Dit soort berekeningen zijn alleen
   geldig voor kleine aanpassingen van het plan, en geen grotere.

* Minimum gas requirements*

De planner berekent ook het benodigde *minimum gas* noodzakelijk voor een
veilige opstijging in geval van een incident.
De berekening gaat van het slechtste geval uit (zoals ook in het grotduik
voorbeeld hierboven): namelijk het volledig zonder gas komen te zitten
(out-of-gas (OoG) event), op het eind van de bodemfase van de duik, op het diepste
punt. Er is dan eerst tijd nodig (optie _tijd om problemen op te lossen_), zoals
het beginnen van gas delen en het proberen het probleem op te lossen. Daarnaast zal
het gasverbruik (SAC) toenemen door stress, en het feit dat er nu twee duikers uit
één cilinder ademen: dit is de optie _SAC factor_. Het resultaat van deze berekening
wordt afgedrukt in de tekst uitvoer van het plan; er zijn geen automatische controles
op basis van deze berekening. Merk verder op dat een minimum gas berekening
werkt op een vierkant profiel, en bij duiken met (sterk) verschillende
dieptes gedurende de duik (in open water ook wel multi-level duiken genoemd) dient
de berekening op meerdere momenten in de duik te worden gemaakt.

De volgende 2 parameters zijn van toepassing:

 * *SAC factor*. Dit is een inschatting hoeveel de SAC zal toenemen ten gevolge
 van het incident. Realistische waarden liggen vermoedelijk tussen 2 en 5, met
 2 duikers op 1 cilinder na een OoG event.
 * *Probleem oplostijd*. Dit is een inschatting van de tijd die nodig is, om vanaf
 de bodem de opstijging in te kunnen zetten. De standaard waarde is 2 minuten

Met deze informatie berekent de planner het benodigde minimum gas. Het wordt weergegeven als:

  Minimum gas (gebaseerd op 2.0xSAC/+1min@81m): 2130 liters/90bar/delta:+80bar

Dit geeft aan:

 * Tussen haakjes, de *SAC factor* en *Probleem oplostijd* zoals gespecificeerd.
 * Aantal liters gas nodig voor een veilige opstijging (2130 liters in het voorbeeld hierboven)
 * Aantal bar nodig voor een veilige opstijging (90 bar in in het voorbeeld hierboven).
 * Aantal bar beschikbaar op het eind van de bodemfase, _boven_ de minimum gas eis
   (80 bar in in het voorbeeld hierboven). Een positieve waarde geeft aan dat het plan
   (voor zover het minimum gas betreft) veilig is. Negatief uiteraard niet.

****
[icon="images/icons/warning2.png"]
[WARNING]
Zowel de plan variaties als het minimum gas zijn gebaseerd op aannamen, en derhalve
richtlijnen bij het plannen van een duik. Het zijn uitdrukkelijk niet de enige
twee middelen voor een veilige duikplanning. Interpreteer deze waarden in het kader
van je formele duikopleiding.
****


=== pSCR duiken plannen

Kies _pSCR_ uit de keuzelijst in het _Planning_ deel van het scherm, om een
duik met een passieve semi-gesloten rebreather (pSCR) te plannen. Verder kunnen
er in het hoofdmenu _Voorkeuren -> Profiel_  twee pSCR specifieke opties worden
gezet. Met _Metabolisme ratio_ kan het werkelijke zuurstofgebruik per minuut worden
ingesteld (deze is onafhankelijk van de duikdiepte), en met _Verdunningsratio_
de maatvoering van de counterlong (vaak 1:10, soms 1:14, de handleiding van de
pSCR biedt uitkomst). Met deze twee opties is _Subsurface_ in staat de pO~2~ drop
te bepalen. Als de pO~2~ te laag wordt zal de planner in de tekst uitvoer een
waarschuwing tonen. De typische cilinder setup van een pSCR duik lijkt sterk
op die van een open circuit duik; één of meer cilinders (met bodem en
decompressie gas) en tijdens de duik zijn er ook gas wissels. Daarom is
het invullen van de _Beschikbare gasmengsels_ gelijk aan open circuit. Dus geen
ingevulde _CCR setpoint_ kolom (in de _duikplanner punten_ tabel). In de figuur
hieronder staat een plan van een pSCR duik die vergelijkbaar is met de CCR duik
hieronder. Merk op dat de decompressie van de pSCR duik langer duurt, dan die van
de vergelijkbare CCR duik. Dit komt met name door de pO~2~ drop.

image::images/Planner_pSCR.jpg["Figuur: Planning a pSCR dive: setup",align="center"]


=== CCR duiken plannen

Kies _CCR_ uit de keuzelijst in het _Planning_ deel van het scherm, om een
duik met een volledig gesloten rebreather (CCR) te plannen.

*Beschikbare gasmengsels*: Voer in de _Beschikbare gasmengsels_ de gebruikte
diluent in, en de bail-out cilinders. De zuurstof cilinder (voor de rebreater)
dient niet te worden ingevoerd. Deze is (impliciet) bekend bij _CCR_ duiken.

*Setpoints invoeren*: In het hoofdmenu, _Voorkeuren -> Profiel_ kan in het
veld _Duikplanner standaard setpoint_ een standaard waarde worden ingevoerd, die
gebruikt wordt in de planner. Verder kan per routepunt (Duikplanner punten tabel)
per deel van het profiel een setpoint worden ingevoerd. Een setpoint 0 betekent
dat dat deel van de duik op open circuit wordt gedaan. De decompressie wordt
uitgerekend met de setpoint van de laatste deel van het duikprofiel. Als het
laatste routepunt dus een open circuit punt is, wordt de deco met de open circuit
gassen berekend (dus een bail-out decompressie berekening).

Zie de figuur hieronder voor een voorbeeld van een geplande CCR duik.

image::images/Planner_CCR.jpg["Figuur: Een CCR duik plannen: setup",align="center"]

Merk op dat in de details van het duikplan (rechtsonder) geen gasberekening voor CCR duiken
worden gedaan.


[[S_Replan]]
=== Een bestaand duikplan bewerken

Een duikplan gemaakt in de planner die wordt bewaard verschijnt in de *Duiklijst*.
De duik kan hier niet worden bewerkt (dwz. het profiel, de rest kan wel worden bewerkt,
maar bedenk dat aanpassen van het moment van de duik, de decompressieberekening
ongeldig maakt). Her-plannen kan door de duik te selecteren en dan uit het hoofdmenu
_Logboek -> Duik bewerken in de planner_ te kiezen

Daarnaast is er een optie _bewaar als nieuw bestand_. Er ontstaat nu een
duplicaat van de eerder geplande duik (die wordt bewerkt). Als de duplicaten
dezelfde duiktijd hebben, worden ze beschouw als meerdere versies van dezelfde
duik, en beïnvloeden elkaar niet voor wat betreft decompressie.


=== Herhalingsduiken

Herhalingsduiken kunnen eenvoudig gepland worden door de start datum en tijd in
te stellen in de planner. _Subsurface_ houdt rekening met de eerdere duiken in de
*Duiklijst* om de decompressie verplichting te bepalen. Om deze berekening te kunnen
dient dient de eerdere duik natuurlijk wel in _Subsurface_ te zijn ingevoerd.

Als er met een beperkt aantal apparatuur configuraties wordt gedoken (zoals dat
bijvoorbeeld bij GUE het geval is), is het mogelijk een aantal voorbeeld duiken
te maken. Door de voorbeeld duik te selecteren, en dan de planner te openen, worden
de uit in geselecteerde duik gekozen cilinders automatisch is het plan opgenomen.


=== Het duikplan afdrukken

Met behulp van de _afdrukken_ knop kan de tekst (uit de details van het duikplan) worden
afgedrukt, bijvoorbeeld voor in de wetnotes. Ook kan de tekst data via copy-paste
in andere programmatuur (zoals een tekstverwerker) worden opgenomen. Als de geplande
duik eenmaal in de duiklijst is opgenomen kan de duik nog alleen maar afgedrukt
worden op de manier zoals gebruikelijk voor alle duiken via het hoofdmenu
_Bestand -> Afdrukken_.


[[S_MergeDivePlan]]
=== Een duikplan combineren met de werkelijke duik

Eerder in deze handleiding is al gesproken over
<<S_MultipleDiveComputers, duiken met meerdere duikcomputers>> waar met pijltjes
toetsen op het toetsenbord gebladerd kan worden tussen de profielen van de meerdere
duikcomputers. Een vergelijkbare functionaliteit bestaan om een duik en het
plan van een duik samen te voegen. Dit werkt op de volgende manier:

- Bewaar het duikplan in de _Duiklijst_.
- Importeer na de duik de gegevens van de duikcomputer in _Subsurface_.
- Verander de datum en tijd van het plan zodat deze samenvalt met de werkelijke duik.
- Selecteer zowel plan als de duik tegelijkertijd, en kies uit het context menu de
optie _geselecteerde duiken samenvoegen_ (via de rechter muisknop).

Na samenvoegen is de tekst uit het duikplan toegevoegd aan de notities van de werkelijke duik,
en kan er (zoals bij meerdere profielen uit duikcomputers) met pijltjes
toetsen tussen plan en werkelijk duik gebladerd worden.


== _Subsurface_ uitvoeren vanaf de commando regel

_Subsurface_ kan ook via de commando regel worden gestart, bijvoorbeeld om specifieke
instellingen mee te geven of als onderdeel van een automatisch proces om
de duiklog te bewerken. Het formaat is als volgt:

	subsurface [opties] [logfile ...] [--import logfile ...]

De volgende opties zijn mogelijk:
|================================
|*Commando regel optie*|*Beschrijving*
|--help/-h|Toon een samenvatting van de opties op de commando regel
|--import logfile ...|Een duiklog bestand vóór deze optie is een bestaande logboek, alles erna wordt geïmporteerd in het logboek
|--verbose/-v|Druk debug informatie af tijdens het uitvoeren van _Subsurface_
| -v -v| Druk nog meer debug informatie af tijdens het uitvoeren van _Subsurface_
|--version|Druk de huidige versie af van _Subsurface_
|--survey|Opent de xref:S_UserSurvey[gebruikers enquête] bij opstarten van _Subsurface_
|--user=<username>|Kies de xref:S_user_space[instellingen] van gebruiker <username>
|--cloud-timeout=<duration>|Stel de timeout in voor de verbinding ,met de cloud (0 < duration < 60). Soms handig op trage Internet verbindingen
|================================


== Index van alle items in het _Subsurface_ hoofdmenu

Hieronder (ter referentie) alle opties in het _Subsurface_ hoofdmenu. Deels
voorzien van verwijzingen naar beschrijvende artikelen in deze handleiding

=== File
- <<S_NewLogbook,_Nieuw logboek_>> - Sluit het huidige open logboek en begin een nieuwe.
- _Logbook openen_ - Opent een bestandskiezer om een logboek bestand te kunnen openen.
- _Bewaar_ - Bewaart het huidige open logboek.
- _Bewaar als_ -  Bewaart het huidige open logboek met een nieuwe naam.
- _Open cloud opslag_ - Opent het logboek zoals eerder opgeslagen in de
<<S_Cloud_storage,_cloud opslag_>>.
- _Bewaar in cloud opslag_ - Bewaar het huidige loegoek in de
<<S_Cloud_storage,_cloud opslag_>>.
- _Maak cloud opslag online_ - ******************************************************
- _Sluiten_ -  Sluit het huidige open logboek.
- <<S_ExportLog,_Exporteren_>> -  Exporteer het huidige open logboek (of enkele
geselecteerde duiken) in één van de beschikbare formaten.
- <<S_PrintDivelog,_Afdrukken_>> -  Druk duiken af.
- <<S_Preferences,_Voorkeuren_>> -  Stel voorkeuren in.
- <<S_FindMovedImages, _Vind verplaatste afbeeldingen_>> - Als foto's die aan
duiken zijn gekoppeld zijn verplaatst kunnen deze worden teruggevonden met deze optie.
- <<S_Configure,_Duikcomputer configureren_>> - Stel een duikcomputer in.
- _Afsluiten_ - Beëindig _Subsurface_.

=== Bewerken
- Deze optie maakt het ongedaan maken of opnieuw doen van een aatal acties
mogelijk. Bijvoorbeeld verwijderen van duiken.

=== Importeren
- <<S_ImportDiveComputer,_Importeren uit duikcomputer_>> - Importeer informatie
uit een duikcomputer.
- <<Unified_import,_Importeer logbestanden_>> - Importeer duik informatie uit
een bestand dat ondersteund wordt door _Subsurface_.
- <<S_Companion,_GPS gegevens importeren van Subsurface web service_>> - Importeer
GPS coördinaten zoals opgeslagen via de mobiele applicaties.
- <<S_ImportingDivelogsDe,_Importeren van Divelogs.de_>> - Importeer duik informatie
  van _www.Divelogs.de_.

=== Logboek
- <<S_EnterData,_Duik toevoegen_>> - Voeg handmatig een duik toe aan de *Duiklijst*.
- _Bewerk duik_ - Bewerk een handmatig ingevoerde duik.
- <<S_DivePlanner,_Duik plannen_>> - Duik plannen.
- <<S_Replan,_Duik bewerken in planner_>> - Bewerk een duik in de planner.
- <<S_CopyComponents,_Kopieer duikcomponenten_>> - Kopieer een aantal
duikcomponenten naar het plakbord.
- _Plak duikcomponenten_ - Plak de data van het plakbord naar de geselecteerde duiken.
- <<S_Renumber,_Hernummeren_>> - Hernummer de duiken uit de *Duiklijst*
  panel.
- <<S_Group,_Automatisch groeperen_>> - Groepeer de duiken in de duiklijst op automatische
manier.
- <<S_DeviceNames,_Namen duikcomputers wijzigen_>> - Bewerk namen van duikcomputers.
- <<S_Filter,_Duiklijst filteren_>> - Filter duiken op een aantal criteria.

=== Toon
- <<S_ViewPanels,_Alle_>> - Toon de vier hoofd panelen van _Subsurface_
tegelijktijd.
- <<S_ViewPanels,_Duiklijst_>> - Toon alleen het *Duiklijst* paneel.
- <<S_ViewPanels,_Profiel_>> - Toon alleen het *Duikprofiel* paneel.
- <<S_ViewPanels,_Info_>> - Toon alleen het *Notities* paneel.
- <<S_ViewPanels,_Wereldbol_>> - Toon alleen het *Wereldbol* paneel.
- _Jaarlijkse statistieken_ - Toon samenvatting van aantal duiken per jaar.
- _Vorige duikcomputer_ - Kies de vorige duikcomputer als de duik met meer dan
één duikcomputer is vastgelegd. Zie ook <<S_MultipleDiveComputers, meerdere duikcomputers
tegelijkertijd gebruiken>> en  <<S_MergeDivePlan, combineren van een duik en zijn plan>>.
- _Volgende duikcomputer_ - Kies de volgende duikcomputer.
- _Volledig scherm_ - Volledig gevuld scherm aan en uit.

=== Deel via
- <<S_Facebook,_Facebook_>> - Deel de geselecteerde duik op de Facebook tijdslijn.

=== Help
- _Over Subsurface_ - Toont een paneel met versienummer van _Subsurface_ en
licentievoorwaarden.
- _Zoek naar updates_ - Controleer of er een nieuwere versie van _Subsurface_
beschikbaar is op de https://subsurface-divelog.org/[_Subsurface_ web site].
- <<S_UserSurvey,_Gebruikersenquête_>>  - Help ons om _Subsurface_ nog beter
te maken door onze Gebruikersenquête in te vullen. Opnieuw invullen is
ook mogelijk, bijvoorbeeld als je wijze van duiken veranderd.
- _Gebruikershandleiding_ - Open deze gebruikershandleiding.


== Bijlage A: Besturingssysteem specifieke informatie om data van duikcomputers te importeren.

=== Controleer dat de juiste drivers zijn geïnstalleerd op het besturingssysteem
[icon="images/icons/drivers.jpg"]
[NOTE]
Het besturingssysteem heeft de juiste drivers nodig die aansluiten bij
de techniek die de duikcomputer gebruikt om te communiceren. Bijvoorbeeld,
Bluetooth, USB, infra-rood.

	* Op Linux dienen de juiste kernel modules te zijn geladen. De meeste Linux
  versies doen dit automatisch, maar soms, met name als er een niet (meer) veel
  gebruikte techniek zoals infra-rood wordt gebruikt, is mogelijk enige handmatige
  configuratie noodzakelijk.

	* Windows biedt, normaal gesproken bij het voor de eerste keer aansluiten van
  een nieuwe apparaat, aan om de noodzakelijke drivers te installeren.

	* Apple MacOS gebruikers moeten soms op zoek naar specifieke drivers. Zo kan
  bijvoorbeeld de juiste driver voor de Mares Puck, of andere duikcomputers
  die USB-naar-seriele techniek gebruiken op basis van de Silicon Labs CP2101 of
  gelijkwaardige chip, de benodigde drivers vinden als
	_Mac_OSX_VCP_Driver.zip_ op de
https://www.silabs.com/support/pages/document-library.aspx?p=Interface&f=USB%20Bridges&pn=CP2101[Silicon Labs document en software repository].

[[S_HowFindDeviceName]]
=== Het vinden van de naam van USB apparaten en het instellen van juiste rechten
[icon="images/icons/usb.jpg"]
[NOTE]
Als er een USB gebaseerde duikcomputer aangesloten wordt, stelt _Subsurface_ meestal
een keuzelijst op met daarin de juiste apparaat naam of mount point (voor de
Uemis Zurich). Ook kan de keuzelijst inactief worden als er geen selectie
nodig is. In enkele bijzondere gevallen moet de juiste naam op een andere wijze
worden bepaald:

.Op Windows:

Probeer eenvoudigweg de COM1, COM2, enzovoort poorten. De keuzelijst bevat alle
aangesloten COM apparaten.

.Op MacOS:

De keuzelijst zou alle aangesloten duikcomputers moeten herkennen.

.Op Linux:

Hier is een methode die altijd zou moeten werken:

 - Maak de USB kabel van de duikcomputer los
 - Open een terminal
 - Type het commando: 'dmesg' en <enter>
 - Verbind de duikcomputer opnieuw
 - Type het commando: 'dmesg' en <enter>

Als bericht zoals hieronder dient te verschijnen:

	usb 2-1.1: new full speed USB device number 14 using ehci_hcd
	usbcore: registered new interface driver usbserial
	USB Serial support registered for generic
	usbcore: registered new interface driver usbserial_generic
	usbserial: USB Serial Driver core
	USB Serial support registered for FTDI USB Serial Device
	ftdi_sio 2-1.1:1.0: FTDI USB Serial Device converter detected
	usb 2-1.1: Detected FT232BM
	usb 2-1.1: Number of endpoints 2
	usb 2-1.1: Endpoint 1 MaxPacketSize 64
	usb 2-1.1: Endpoint 2 MaxPacketSize 64
	usb 2-1.1: Setting MaxPacketSize 64
	usb 2-1.1: FTDI USB Serial Device converter now attached to ttyUSB3
	usbcore: registered new interface driver ftdi_sio
	ftdi_sio: v1.6.0:USB FTDI Serial Converters Driver

De derde regel van onderen laat zien dat de FTDI USB adapter is gedetecteerd
en is verbonden met +ttyUSB3+. De bijbehorende poort is dan +/dev/ttyUSB3+ waarmee
_Subsurface_ verbinding kan maken met de duikcomputer.


Controleren of de gebruiker de juiste schrijf rechten heeft op de USB poort:

Op Unix-achtige systemen kunnen USB poorten alleen benaderd worden door gebruikers
in een speciale groep, meestal +dialout+ of +uucp+ genaamd. De benodigde groep
kan bijvoorbeeld worden bepaald door +ls -l /dev/ttyUSB*+ uit te voeren. Neem
aan dat de gebruikersnaam 'johnB' is.

 - Als root, type: +usermod -a -G dialout johnB+  (Ubuntu gebruikers: +sudo usermod
-a -G dialout johnB+)
Dit maakt +johnB+ lid van de groep +dialout+.
 - Met +id johnB+ kunnen de rechten/groepslidmaatschappen van +johnB+ worden bepaald. De
 +dialout+ groep dient hier nu tussen te staan.
 - In een aantal gevallen (bijvoorbeeld op Ubuntu) dient eerst uit en dan weer ingelogd
 te worden voordat de groepswijziging is doorgevoerd.

Met het juiste device (zoals +dev/ttyUSB3+) en de juiste rechten kunnen nu
duiken geïmporteerd worden door _Subsurface_.


[[S_HowFindBluetoothDeviceName]]
=== Handmatig opzetten van Bluetooth gekoppelde duikcomputers
[icon="images/icons/bluetooth.jpg"]
[NOTE]

Voor duikcomputers die gebruik maken van een Bluetooth verbinding, zoals
diverse modellen van Heinrichs Weikamp en Shearwater Research, is een andere procedure
om de device naam van de duikcomputer te bepalen. Volg deze stappen:

 * *Zet Bluetooth aan op de desktop PC, en op de duikcomputer, en zet de duikcomputer
 in upload mode.*

 * *Koppel de desktop PC met de duikcomputer*

Raadpleeg de handleiding van de duikcomputer voor details hoe deze instellingen
op de duikcomputer moeten worden uitgevoerd.

==== Op Windows:

Bluetooth is zeer waarschijnlijk al beschikbaar. Om de koppeling tot stand te brengen
kies het volgende: _Control Panel ->  Bluetooth Devices ->  Add Wireless Device_.
Hiermee verschijnt een dialoog waarin de duikcomputer ook wordt getoond, en via
de rechter muisknop kan de koppeling tot stand worden gebracht. Als er onder
_Properties->  COM Ports_ meerdere poorten van de duikcomputer worden genoemd, kies dan
de uitgaande poort en niet de ingaande poort.

De keuzelijst in _Subsurface_ dient de juiste COM poort al te bevatten, maar als
dit niet het geval is, kan deze ingetikt worden.

Opmerking: als er problemen met downloaden zijn na gebruik van andere
programmatuur, verwijder dan de koppeling, en zet deze opnieuw op in _Subsurface_.

==== Op MacOS:

Klik op het Bluetooth symbool in de menu regel en selecteer _Set up
Bluetooth Device..._. De duikcomputer dient nu te verschijnen, en de koppeling kan
tot stand worden gebracht. Deze stap is alleen de eerste keer nodig.

Als de koppeling gereed is, staat de juiste _Device of Mount Point_ ingesteld
in de _Subsurface_ *Importeer* dialoog.


==== Op Linux

Controleer dat Bluetooth aan staat. Op veel desktop computers is dit het geval,
en koppeling zou eenvoudig moeten zijn.

Enkele gebruikers hebben echter verbindingsproblemen met sommige Bluetooth controllers
gemeld. Probeer, indien beschikbaar, eerst de interne Bluetooth controllers.
Het loskoppelen van alle externe USB Bluetooth dongles is verstandig.
Als de duikcomputer is geleverd met een USB dongle, probeer deze dan als eerste.

Het opzetten van een verbinding met een Bluetooth duikcomputer, zoals een
Shearwater Petrel 2, is nog geen geautomatiseerd proces en vereist gebruik
van de commando regel. Het is in essentie een 3-staps proces.

- Activeer je Bluetooth controller en paar je duikcomputer
- Zet de RFCOMM verbinding op
- Laad de duiken met Subsurface

Kijk in de handleiding van de duikcomputer hoe deze in upload mode te zetten.
Bijvoorbeeld de Shearwater Petrel and Petrel 2, Selecteer _Dive Log_, dan _Upload Log_.
Het scherm toont _Initializing_, gevolgd door _Wait PC 3:00_ en begint met aftellen.
Op moment dat de verbinding tot stand is gekomen toont het scherm _Wait CMD …_
en het aftellen gaat door. Als de werkelijke download begint toont het
scherm _Sending_ gevolgd door _Sent Dive_.

Om een verbinding initieel op te zetten zijn beheerdersrechten nodig
via sudo of su. De gebruiker die Subsurface draait dient de juiste rechten
te hebben. Op Fedora 22, en vele andere Linux distributies betekent dit
dat de gebruiker in de dailout groep dient te zitten. In een aantal distributies
kan dit via de grafische interface, of anders via de commando regel:

+sudo usermod -a -G dialout username+

Uit en weer inloggen voor het juiste effect.

===== De Bluetooth controller activeren en koppelen van een duikcomputer

Mogelijk kan de instelling van de Bluetooth controller en koppel operatie uitgevoerd
worden via de grafische interface van je Linux distributie. Zet de duikcomputer in upload
mode, selecteer het Bluetooth icoon op het scherm, en selecteer ‘Apparaat toevoegen’.
De duikcomputer dient te verschijnen, en als om een wachtwoord wordt gevraagd,
probeer 0000. Schrijf (of kopieer) het MAC adres van de duikcomputer, deze is
later nodig. Een MAC adres heeft de volgende vorm: 00:11:22:33:44:55.

Als de grafische methode niet werkt, dient de koppel operatie vanaf de commando
regel te worden gedaan. Open een terminal en gebruik hciconfig om de Bluetooth
controller toestand te bekijken.

	$ hciconfig
	hci0:	Type: BR/EDR  Bus: USB
		BD Address: 01:23:45:67:89:AB  ACL MTU: 310:10  SCO MTU: 64:8
		*DOWN*
		RX bytes:504 acl:0 sco:0 events:22 errors:0
		TX bytes:92 acl:0 sco:0 commands:21 errors:0

Dit laat zien dat er één controller is, met MAC adres 01:23:45:67:89:AB,
verbonden als hci0. De status is ‘DOWN’, hetgeen betekent dat hij uit staat.
Meer dan één controller zal verschijnen als hci1, enzovoort. Als er geen Bluetooth
USB dongle was ingeplugd toen de desktop computer werd aangezet, is hci0 zeer
waarschijnlijk de interne Bluetooth controller. Nu dient de controller te
worden aangezet, en authenticatie dient te worden geactiveerd:

	sudo hciconfig hci0 up auth+  (beheerderswachtwoord wanneer gevraagd)
	hciconfig
	hci0:  Type: BR/EDR  Bus: USB
		BD Address: 01:23:45:67:89:AB  ACL MTU: 310:10  SCO MTU: 64:8
		*UP RUNNING PSCAN AUTH*
		RX bytes:1026 acl:0 sco:0 events:47 errors:0
		TX bytes:449 acl:0 sco:0 commands:46 errors:0

Controleer nu dat de status ‘UP’, ‘RUNNING’ AND ‘AUTH’ bevat.

Als er meerdere controllers draaien, is het het eenvoudigst om de ongebruikte uit te zetten:

	sudo hciconfig hci1 down

De volgende stap is koppelen en vertrouwen van de duikcomputer. Op Linux distributies
met Bluez 5, zoals Fedora 22, kan de tool blutootctl gebruikt worden die zijn
eigen commando regel heeft.

	bluetoothctl
	[NEW] Controller 01:23:45:67:89:AB localhost.localdomain [default]
	[bluetooth]# agent on
	Agent registered
	[bluetooth]# default-agent
	Default agent request successful
	[bluetooth]# scan on                        <----now set your dive computer to upload mode
	Discovery started
	[CHG] Controller 01:23:45:67:89:AB Discovering: yes
	[NEW] Device 00:11:22:33:44:55 Petrel
	[bluetooth]# trust 00:11:22:33:44:55        <----you can use the tab key to autocomplete the MAC address
	[CHG] Device 00:11:22:33:44:55 Trusted: yes
	Changing 00:11:22:33:44:55 trust succeeded
	[bluetooth]# pair 00:11:22:33:44:55
	Attempting to pair with 00:11:22:33:44:55
	[CHG] Device 00:11:22:33:44:55 Connected: yes
	[CHG] Device 00:11:22:33:44:55 UUIDs: 00001101-0000-1000-8000-0089abc12345
	[CHG] Device 00:11:22:33:44:55 Paired: yes
	Pairing successful
	[CHG] Device 00:11:22:33:44:55 Connected: no

Als er een wachtwoord wordt gevraagd, probeer dan 0000. Het is geen probleem
als de laatste regel ‘Connected: no’ toont. De regel erboven ‘Pairing successful’
is de belangrijke.

Als het systeem Bluez version 4 (bijvoorbeeld Ubuntu 12.04 tot en met 15.04) heeft,
is er vermoedelijk geen bluetoothctl, maar is er een script genaamd
bluez-simple-agent of gewoon simple-agent.

	hcitool -i hci0 scanning
	Scanning ...
		00:11:22:33:44:55       Petrel
		bluez-simple-agent hci0 00:11:22:33:44:55

Als de duikcomputer gekoppeld is, kan achtereenvogens de RFCOMM verbinding
opgezet worden.

===== De RFCOMM verbinding opzetten

Het commando om de RFCOMM verbinding op te zetten is:

+sudo rfcomm -i <controller> connect <dev> <bdaddr> [channel]+

- +<controller>+ is de Bluetooth controller, +hci0+
- +<dev>+ is het RFCOMM device bestand, +rfcomm0+
- +<bdaddr>+ is het MAC adres van de duikcomputer, +00:11:22:33:44:55+
- +[channel]+ is het Bluetooth kanaal van de duikcomputer waarmee we willen
verbinden. Als dit weggelaten wordt, wordt kanaal 1 aangenomen. Op basis van een
beperkt aantal rapporten lijken de volgende kanalen in gebruik te zijn:

- _Shearwater Petrel 1_: channel 1
- _Shearwater Petrel 2_: channel 5
- _Shearwater Nerd_: channel 5
- _Heinrichs-Weikamp OSTC Sport_: channel 1

Dus om een Shearwater Petrel 2 te verbinden, zet de duikcomputer in upload mode en doe:

	sudo rfcomm -i hci0 connect rfcomm0 00:11:22:33:44:55 5 (enter a password, probably 0000, when prompted)
	Connected /dev/rfcomm0 to 00:11:22:33:44:55 on channel 5
	Press CTRL-C for hangup

En om een Shearwater Petrel 1 of OSTC Sport te verbinden, zet de duikcomputer in upload mode en doe:

	sudo rfcomm -i hci0 connect rfcomm0 00:11:22:33:44:55   (enter a password, probably 0000, when prompted)
	Connected /dev/rfcomm0 to 00:11:22:33:44:55 on channel 1
	Press CTRL-C for hangup

Als het juiste kanaal dat de duikcomputer gebruikt niet bekend is, en bovenstaande
niet werkt, kan met het commando ‘sdptool records’ mogelijk het juiste kanaal
bepaald worden. De uitvoer hieronder is van een Shearwater Petrel 2.

	sdptool -i hci0 records 00:11:22:33:44:55
	Service Name: Serial Port
	Service RecHandle: 0x10000
	Service Class ID List:
		"Serial Port" (0x1101)
		Protocol Descriptor List:
		"L2CAP" (0x0100)
		"RFCOMM" (0x0003)
		Channel: 5

Als je Bluetooth duikcomputer niet in de lijst staat, of het beschreven kanaal
onjuist is, meld het aan de ontwikkelaars via het gebruikersforum, of op
de mailinglijst (_subsurface@subsurface-divelog.org_)


===== Download de duiken met _Subsurface_
Met een actieve RFCOMM verbinding en de duikcomputer nog steeds in upload mode,
ga in Subsurface naar _Importeren -> Importeren uit duikcomputer_, kies juiste merk
en type duikcomputer, het juiste device of mountpoint en klik downloaden.


[[_appendix_b_dive_computer_specific_information_for_importing_dive_information]]

== Bijlage B: Duikcomputer specifieke informatie over importeren van duik data.

[[S_ImportUemis]]
=== Importeren uit Uemis Zurich

[icon="images/icons/iumis.jpg"]
[NOTE]
_Subsurface_ laadt de informatie van de SDA; het ingebouwde file systeem van de
Uemis, inclusief informatie over duiklocatie en apparatuur. Buddy informatie is
nog niet te downloaden. De koppeling lijkt sterk op een normaal via USB aangesloten
duikcomputer. De Uemis wordt overigens ook opgeladen als deze is aangesloten
via USB. Het grootste verschil is dat er geen device naam wordt ingevoerd, maar
een locatie waar het UEMISSDA file systeem is geladen. Op Windows is dit een letter
van een harde schijf (zoals E: of F:), op MacOS is het  '/Volumes/UEMISSDA' en
op Linux distributies verschilt het per distributie. Op Fedora staat het
bijvoorbeeld op  '/var/run/media/<your_username>/UEMISSDA'. In alle gevallen zal
_Subsurface_ de juiste locatie voorstellen in de keuzelijst.

Download de duiken na het selecteren van juiste locatie zoals hierboven
uitgelegd. Er is één technische probleem bij de de eerste keer downloaden (dit
is een firmware probleem van de Uemis Zurich, niet van _Subsurface_): je kunt
niet meer dan 40-50 duiken in één keer downloaden zonder tegen een geheugengebrek
probleem aan te lopen. Dit is bij regelmatig downloaden geen probleem, want
bij regelmatig downloaden is 40-50 duiken zelfs voor een trip wel genoeg.
De oplossing is eenvoudig. Koppel de Uemis los, en weer vast, en download opnieuw.
De download gaat dan verder waar deze eerder is gestopt. Hoe vaak deze procedure
nodig is, is natuurlijk afhankelijk van het aantal duiken dat gedownload moet
worden.


[[S_ImportingGalileo]]
=== Importeren uit Uwatec Galileo

[icon="images/icons/Galileo.jpg"]
[NOTE]

Uwatec Galileo duikcomputers gebruiken infrarood (IrDA) communicatie tussen duikcomputer
en _Subsurface_. De Uwatec hardware gebruikt een USB dongle die gebaseerd is
op het seriele infrarood (SIR) protocol en de MSC7780 IrDA controller gemaakt door
MosChip en op de markt gebracht door Scubapro en enkele elektronica fabrikanten.
De Linux kernel ondersteund communicatie via het IrDA protocol, maar de gebruiker
dient nog wel driver programmatuur te installeren. Het eenvoudigste is om een
package te installeren genaamd *irda-tools* van het
http://irda.sourceforge.net/docs/startirda.html[Linux IrDA Project]. Na installatie
kan de *root* gebruiker een device specificeren (vanaf de commando regel):

+irattach irda0+

Hierna kan _Subsurface_ de Galileo duikcomputer herkennen, en data downloaden.

Onder Windows is de situatie vergelijkbaar. Drivers voor de MCS7780 zijn beschikbaar
van enkele websites zoals
http://www.drivers-download.com/Drv/MosChip/MCS7780/[www.drivers-download.com].
Windows IrDA drivers voor de Galileo kunnen ook op de ScubaPro website worden
gevonden op de pagina van de ScubaPro SmartTrak programmatuur.

Helaas is voor Apple's OS/X geen IrDA via de MCS7780 meer beschikbaar sinds
OS/X 10.6.


[[S_ImportingDR5]]
=== Importeren uit Heinrichs Weikamp DR5

[icon="images/icons/HW_DR5.jpg"]
[NOTE]
Als de Heinrichs Weikamp DR5 als USB schijf is geladen, kan voor iedere duik
een UDDF bestand worden gevonden. Selecteer alle duiken en importeer of open deze.

Opmerking: De DR5 lijkt geen gradiënt factoren of andere decompressie informatie
op te slaan. _Subsurface_ kan deze dan ook niet tonen. Stel de gewenste
gradiënt factoren in, bij de _Voorkeuren -> Profiel_ om via _Subsurface_ toch
decompressie informatie te berekenen (in het *duikprofiel*). Merk echter op dat
deze zeer waarschijnlijk verschilt van de tijdens de duik getoonde informatie
door de DR5.


[[S_ImportingXDeep]]
=== Importeren uit xDEEP BLACK

[icon="images/icons/HW_xdeepblack.jpg"]
[NOTE]
Iedere duik moet op de duikcomputer individueel naar UDDF formaat geëxporteerd
worden. Achtereenvolgens, kunnen deze vanuit _Subsurface_  worden geopend of
geïmporteerd, nadat deze als USB drive is aangesloten.

Opmerking: De xDEEP BLACK bewaard wel NDL tijden maar lijkt geen gradiënt
factoren of andere decompressie informatie
op te slaan. _Subsurface_ kan deze dan ook niet tonen. Stel de gewenste
gradiënt factoren in, bij de _Voorkeuren -> Profiel_ om via _Subsurface_ toch
decompressie informatie te berekenen (in het *duikprofiel*). Merk echter op dat
deze zeer waarschijnlijk verschilt van de tijdens de duik getoonde informatie
door de xDEEP BLACK.


=== Importeren uit Shearwater Predator/Petrel/Nerd using Bluetooth

[icon="images/icons/predator.jpg"]
[NOTE]
Specifieke instructies over het downloaden van Bluetooth gekoppelde
duikcomputers worden <<S_Bluetooth,_hier_>> gegeven.


[[S_PoseidonMkVI]]
=== Importeren uit Poseidon MkVI Discovery

[icon="images/MkVI.jpeg"]
[NOTE]
Downloaden van data uit de MkVI duikcomputer maakt gebruik van de eigen communicatie
adapter en de _Poseidon PC Configuration Software_, welke geleverd zijn bij de
aanschaf van de MkVI apparatuur. De genoemde programmatuur is Windows specifiek en
gebruikt het IrDA protocol om met de computer te communiceren. Er kan één duik per
keer gedownload worden, elke duik bestaat uit drie bestanden:

- Basisinstellingen en specifiek ingestelde duik parameters (.txt bestand)
- Duik log details (.csv betand)
- Redbook formaat duik log details (.cvsr bestand). Dit is een gecomprimeerde
versie van de duik log details in een fabrikant specifiek formaat.

_Subsurface_ gebruikt de .txt en de .csv bestanden om de duik te kunnen importeren.


=== Importeren uit APD Inspiration/Evolution CCR

[icon="images/APDComputer.jpg"]
[NOTE]
De duiklogs van een APD Inspiration of gelijkwaardige CCR kunnen gedownload worden met
de, tijdens de aanschaf van de unit verkregen, communicatie adapter en de
_AP Communicator_ programmatuur. De duiklogs kunnen worden bekeken met de _AP Log Viewer_, welke
beschikbaar is voor Windows en Apple's OS/X. De APD Inspiration kunnen in _Subsurface_
worden geïmporteerd op de volgende manier.

- Download de duik met _AP Communicator_.
- Open de duik met _AP Log Viewer_.
- Selecteer het tabblad bovenaan het scherm met de naam "_Data_".
- Met de ruwe data op het scherm, klik "_Copy to Clipboard_".
- Open een tekst editor zoals Notepad (Windows) of TextWrangler (Mac).
- Plak de inhoud van het plakbord in de tekst editor, en bewaar het bestand met
een extensie _.apd_.
- In _Subsurface_, kies _Importeer ->  Importeer logbestanden_ om de
xref:Unified_import[universele importeer dialoog] te openen.
- Open het eerder bewaarde .apd_ bestand.
- Een importeer dialoog verschijnt en de data kan geïmporteerd worden. Zie
xref:S_ImportingCSVDives[CSV bestanden importeren] voor meer informatie.

image::images/APD_CSVimportF22.jpg["Figuur: APD log viewer import",align="center"]

- In de rechtsboven hoek is een keuzelijst om de specifieke duikcomputer te kiezen.
Standaard staat deze op DC1; de eerst van de twee duikcomputers die de CCR gebruikt.
Het is mogelijk ook de tweede duikcomputer te laden, en beide profielen kunnen
dan bekeken en opslagen worden in _Subsurface_.
- Selecteer _Ok_ om de duik op te nemen in de *Duiklijst*.

De duik is nu opgenomen in de *Duiklijst*. Het door de duikcomputer bepaalde
opstijgplafond kan worden getoond door deze aan te zetten aan de linker
zijde van het profiel. Cilinder druk wordt niet geimporteerd maar kan zelf
wel worden ingevoerd in het *Uitrusting* tabblad.


== Bijlage C: Duiken exporteren uit externe duik log programmatuur

Het importeren in _Subsurface_ van duiken uit andere duik log programmatuur vindt
meestal plaats via de _Importeren -> Importeer logbestanden_ optie uit het hoofdmenu.
Dit is een proces waarover meer informatie in xref:Unified_import[importen van logbestanden]
kan worden gevonden. In sommige gevallen is er echter meer nodig om de duikgegevens
in _Subsurface_ te krijgen:

1. Exporteer het externe logboek formaat naar een formaat dat _Subsurface_ kan
inlezen.
2. Importeer het geconverteerde formaat in _Subsurface_.

In deze appendix wordt voor een aantal externe logboek formaten uitgelegd hoe
deze te converteren naar een formaat waarmee _Sursurface_ overweg kan. Het
betreft voornamelijk Windows en Linux processen.


[[S_ImportingDivesSuunto]]
=== Exporteren uit *Suunto Divemanager (DM3, DM4 of DM5)*
[icon="images/icons/suuntologo.jpg"]
[NOTE]
DiveManager is een Windows applicatie voor Suunto duikcomputers. Divemanager
3 (DM3) is de oudere versie, meer recente versies zijn Divemanager versie 4
of 5 (DM4 of DM5). De verschillende versies vereisen verschillende methodes en
andere bestandsnaam afspraken om duiken te exporteren.


*Divemanager 3 (DM3):*

1. Start 'Suunto Divemanager 3' en log in met de naam waaronder de logs zijn opgeslagen.
2. Start *niet* de importeer wizard waarmee duiken uit de duikcomputer kunnen
worden geladen.
3. Selecteer in de navigatie-boom links de duiken om te exporteren.
4. Selecteer in de lijst met duiken op de volgende manier:
  * met ctrl-klik kan een duik aan de selectie worden toegevoegd
  * om alle duiken te selecteren, selecteer de eerste, en shift-klik op de laatste.
5. Selecteer nu _File -> Export_
6. De exporteer dialoog verschijnt met daarin een veld 'Export Path'.
  * klik op de browser knop rechts hiervan
    ** Er verschijnt een file manager.
    ** navigeer naar de gewenste locatie op de export op te slaan.
    ** kies eventueel een eigen naam voor het export bestand
    ** Klik 'Save'
  * terug in de exporteer dialoog, klik nu 'Export'
7. De geselecteerde duiken zijn nu geëxporteerd naar het gekozen bestand.

*Divemanager 4 (DM4) en Divemanager 5 (DM5):*

DM4 en DM5 gebruiken een identieke manier om duiken te exporteren. Om duiken
te exporteren is de interne database nodig van het programma. Hieronder worden
twee manieren beschreven. Het gebruiken van de reguliere database of het eerst
maken van een backup.

Opzoeken van de Suunto DM4 (of DM5) database:

1. Start Suunto DM4/DM5
2. Selecteer 'Help ->  About'
3. Klik 'Copy' achter de tekst 'Copy log folder path to clipboard'
4. Open Windows Explorer
5. Plak het gekopieerde adres in, in de adresbalk van  Windows Explorer
6. De database heet DM4.db of DM5.db

Making a backup copy of the Suunto DM4/DM5 database:

1. Start Suunto DM4/DM5
2. Selecteer 'File - Create backup'
3. Selecteer de gewenste locatie en naam van de backup. DB4 (of DB5) met
de standaard extensie .bak volstaat
4. Klik 'Save'
5. De duiken zijn nu geëxporteerd naar het gekozen bestand.


=== Exporteren uit Atomic Logbook
[[Atomic_Export]]

[icon="images/icons/atomiclogo.jpg"]
[NOTE]
Atomic Logbook is Windows programmatuur gemaakt door Atomic Aquatics. Het wordt
gebruikt om data uit te lezen van de Cobalt en Cobalt 2 duikomputers. De data is
opslagen in een SQLite bestand dat normaal gesproken op de volgende locatie staat:
C:\ProgramData\AtomicsAquatics\Cobalt-Logbook\Cobalt.db. Dit bestand kan direct in
_Subsurface_ worden ingelezen.


=== Exporteren uit Mares Dive Organiser V2.1
[[Mares_Export]]

[icon="images/icons/mareslogo.jpg"]
[NOTE]

Mares Dive Organizer is een Windows applicatie. De duiklog is een Microsoft SQL
Compact Edition database met de'.sdf' extensie. De database bevat alle duiken, van
alle gebruikers van de desktop PC. De veiligste manier om de duiklog te exporteren
is het exporteren via een backup.

1. Selecteer in Dive Organizer, _Database ->  Backup_ uit het hoofdmenu en maak een
backup. Er onstaat een bestand met de naam DiveOrganizerxxxxx.dbf, en dit is een
zip bestand,
2. Hernoem het bestand naar DiveOrganizerxxxxx.zip. In het zip bestand zit
een bestand _DiveOrganizer.sdf_.
3. Pak de _DiveOrganizer.sdf_ uit uit het zip bestand.
4. Het wachtwoord om het zip bestand te openen is _mares_.


[[S_ImportingDivingLog]]
=== Exporteren uit *DivingLog 5.0 and 6.0*

[icon="images/icons/divingloglogo.jpg"]
[NOTE]
De beste manier om duiken uit DivingLog naar _Subsurface_ te verplaatsen
is het converteren van de gehele database. De reden is dat de andere formaten
niet alle details bevatten, bijvoorbeeld gaswissels en instelling van eenheden
ontbreken dan.

Doe het volgende om alle bestanden over te zetten naar _Subsurface_:

1. In DivingLog open het 'File ->  Export ->  SQLite' menu
2. Selecteer de 'Settings' knop
3. Zet 'RTF2Plaintext' op 'true'
4. Sluit de 'Settings' dialoog
5. Klik de 'Export' knop en kies een bestandsnaam.

Het bestand kan nu direct met _Subsurface_ worden geopend.


== Bijlage D: Een spreadsheet naar CSV formaat exporteren
[[S_Appendix_D]]

Veel duikers houden een duiklog bij in een of ander digitaal formaat, en vaak
is dat een spreadsheet met diverse velden op de gewenste data op te slaan. Dit
soort duiklogs kunnen eenvoudig via het CSV traject in _Subsurface_ worden overgezet.
Deze bijlage legt hier meer over uit. Een CSV bestand maken dat achtereenvolgens in
_Subsurface_ kan worden ingelezen is eenvoudig, maar er zijn wat verschillen afhankelijk
van het soort spreadsheet dat is gebruikt.

Organiseer de data zo, dat de eerste regel de kolom namen bevat, en de duiken ieder
op een enkele regel zijn opgeslagen. _Subsurface_ ondersteund vele items: nummer
van de duik, datum, tijd, duikduur, locatie, GPS positie, maximum diepte, gemiddelde
diepte, buddy, notities, gewichten, en labels. Houd je aan de volgende eenvoudige regels:

1. Datum: gebruik één van de volgende formaten: yyyy-mm-dd, dd.mm.yyyy, mm/dd/yyyy
2. Duur: formaat is minuten:seconden.
3. Eenheden systeem: mix geen metrische en imperiale data door elkaar.
4. Labels en buddies: waarden te scheiden met komma.
5. GPS positie: gebruik decimale graden, zoals 30.22496 30.821798


=== _LibreOffice Calc_ en _OpenOffice Calc_

Beide zijn open source spreadsheet applicaties die onderdeel uitmaken van een
grotere office suite. Het gebruik van beide applicaties is sterk vergelijkbaar.

Het tijdformaat in Libreoffice Calc moet op minuten:seconden- [mm]:ss worden gezet
en datum waarden op: yyyy-mm-dd, dd.mm.yyyy of mm/dd/yyyy. Een duiklog kan er
bijvoorbeeld zo uitzien:

image::images/LOffice_spreadsheetdata.jpg["Figuur: Spreadsheet data",align="center"]

Selecteer _File ->  Save As_ om in LibreOffice de export naar CSV te starten. Kies
in de dan verschijnende dialoog het _Text CSV (.csv)_ bestandstype, en kies dan
de _Edit filter settings_ optie.

image::images/LOffice_save_as_options.jpg["Figuur: Save as options",align="center"]

Kies, na het klikken op _Save_, het veld-scheidingsteken (kies _Tab_ om conflicten
met komma's in getallen te voorkomen), en selecteer dan _OK_.

image::images/LOffice_field_options.jpg["Figuur: Field options",align="center"]

Controleer het aangemaakte .csv bestand in een tekstverwerker en als goed bevonden
is, importeer dan het bestand in _Subsurface_ zoals beschreven  in
xref:S_ImportingCSVDives[importeren van CSV bestanden].

=== Microsoft _Excel_

Het veld-scheidingsteken ("_list separator_" genoemd in Microsoft handleidingen)
is niet in te stellen vanuit _Excel_ zelf, maar dient te worden ingesteld via het
_Microsoft Control Panel_. Na het instellen, werkt alle programmatuur met deze
instelling, dus niet alleen _Excel_. Mogelijk is het verstandig na het exporteren
van de CSV data, de instelling terug te zetten. De procedure is als volgt:

- Klik, in Microsoft Windows, de *Start* knop en selecteer het _Control Panel_
uit de lijst aan de rechter zijde.
- Open de _Regional and Language Options_ dialoog.
- Doe het volgende:
  ** Klik, in Windows 7, het _Formats_ tabblad, en klik achtereenvolgens _Customize this format_.
- Tik het nieuw gewenste scheidingsteken in in de _List separator_ veld.
Om een TAB scheidingsteken te gebruiken, tik dan het woord TAB in.
- Klik tweemaal _OK_.

Hieronder is het _Control Panel_ afgebeeld:

image::images/Win_SaveCSV2.jpg["Figuur: Win List separator",align="center"]

Het exporteren van een duik in CSV formaat werkt als volgt:

Met de duiklog geopend in _Excel_, selecteer het de ronde Windows knop in de rechtsboven
hoek, en kies _Save As_.

image::images/Win_SaveCSV1.jpg["Figuur: Excel save as optie",align="center"]

Klik op de linker linkerkant van de _Save as_ optie, NIET op de pijl aan de
rechter zijde. Hiermee verschijnt een dialoog om de spreadsheet in een alternatief
formaat te exporteren. Kies uit de keuzelijst, gemarkeerd met _Save as Type:_ de
optie _CSV (Comma delimited) (*.CSV)_. Zorg ervoor dat de juiste folder is gekozen om
het bestand in weg te schrijven.

image::images/Win_SaveCSV3.jpg["Figuur: Excel save CSV dialoog",align="center"]

Kies de _Save_  knop. Het als CSV formaat opgemaakte bestand wordt
weggeschreven in de geselecteerde folder. Met dubbel-klikken kan het bestand
in de tekstverwerker worden geladen, en het bestand kan in _Subsurface_
geïmporteerd worden zoals beschreven in xref:S_ImportingCSVDives[CSV duiken importeren].


[[S_APPENDIX_E]]
== Bijlage E: Een eigen afdruk sjabloon maken

_Subsurface_ heeft een manier om eigen afdruk sjablonen te maken of aan te passen.
De sjablonen worden in HTML geschreven, in combinatie met een eenvoudige Grantlee
instructieset.

Sjablonen zijn beschikbaar via de afdruk dialoog, zie figuur *B* hieronder.

image::images/Print1_f22.jpg["Figuur: Afdruk dialoog",align="center"]

Met de knoppen in het sjabloon vak kunnen sjablonen bewerkt (_Bewerken_),
geïmporteerd (_Importeren_), verwijderd (_Verwijderen_), en geëxporteerd (_Exporteren_)
worden (zie figuur *A* hierboven). Nieuwe of bewerkte sjablonen worden opgeslagen
in dezelfde folder als het logboekbestand. Om een nieuw of aangepast sjabloon te
maken, kies er één die lijkt op de nieuw gewenste uit de keuzelijst in het sjabloon
vak, en kies _Bewerken_.

Het bewerk sjabloon heeft drie tabbladen:

image::images/Template1_f22.jpg["Figuur: bewerk sjabloon dialoog",align="center"]

1) Op het _Stijl_ tabblad (figuur *A* hierboven) kunnen lettertype en grootte,
kleurenpalet, regelhoogte en lijndikte worden ingesteld. Kies één van de vier
kleurenpaletten als afdrukken in kleur gewenst is.

2) Op het _kleuren_ tabblad (figuur *B* hierboven) kunnen de kleuren van de
individuele onderdelen van de afdruk worden ingesteld.

3) Op het _Sjabloon_ tabblad van het bewerken panel (zie figuur hieronder), kan
met behulp van HTML en een aantal Grantlee primitieven (zie hieronder) het sjabloon
worden gemaakt. Het sjabloon kan worden bewaard en wordt opgeslagen in dezelfde
folder als het logboekbestand. Standaard bevat een _Eigen_ sjabloon geen specifieke
afdruk instructies; het is een leeg skelet. De onderdelen die zelf moeten worden
ingevuld zijn gemarkeerd met "<!-- Template must be filled -->". Gebruikmakend van
deze methode levert een vrijwel onbeperkte vrijheid voor wat betreft het zelf
aanmaken van afdrukformaten.

image::images/Template2_f22.jpg["Figuur:Sjabloon tabblad",align="center"]

Bestaande sjablonen kunnen ook op deze wijze worden aangepast, en met de
_Exporteren_ knop kan een sjabloon met een nieuwe naam worden opgeslagen.

Om een eigen sjabloon te maken, moeten de volgende elementen in het sjabloon
worden opgenomen om het op een juiste manier te laten werken.

=== Iteratie over de af te drukken duiken

_Subsurface_ exporteert een lijst met duiken (genaamd *dives*) naar _Grantlee_.
Op de volgende manier kan de lijst met af te drukken duiken worden doorlopen:

.template.html
....
	{% for dive in dives %}
		<h1> {{ dive.number }} </h1>
	{% endfor %}
....

.output.html
....
	<h1> 1 </h1>
	<h1> 2 </h1>
	<h1> 3 </h1>
....

Meer informatie over _Grantlee_ kan http://www.grantlee.org/apidox/for_themers.html[hier] worden gevonden.

=== Door _Grantlee_ geëxporteerde variabelen

Slechts een deel van de duik data wordt door _Grantlee_ geëxporteerd:

|====================
|*Naam*|*Beschrijving*
|number| (*int*) duik nummer
|id| (*int*) uniek duik ID, dient te worden gebruikt om het duikprofiel op te halen
|date| (*string*) datum van de duik
|time| (*string*) tijdstip van de duik
|location| (*string*) locatie van de duik
|duration| (*string*) duur van de duik
|depth| (*string*) diepte van de duik
|divemaster| (*string*) duikleider voor de duik
|buddy| (*string*) buddy tijdens de duik
|airTemp| (*string*) lucht temperatuur voor de duik
|waterTemp| (*string*) water temperatuur tijdens de duik
|notes| (*string*) duik notities
|rating| (*int*) waardering van de duik van 0 to 5 sterren
|sac| (*string*) SAC waarde tijdens de duik
|tags| (*string*) lijst van labels zoals van toepassing op de duik
|gas| (*string*) lijst van gebruikte gassen in de duik
|suit| (*string*) gebruikt pak tijdens de duik
|cylinders| (*string*) volledige informatie over alle gebruikte cilinders
|cylinder0-7| (*string*) informatie over een specifieke cilinder
|weights| (*string*) volledige informatie over alle gebruikte gewichtssystemen
|weight0-5| (*string*) informatie over een gewichtssysteem
|maxcns| (*string*) maxCNS waarde tijdens de duik
|otu| (*string*) OTU waarde tijdens duik
|sumWeight| (*string*) opgetelde gewicht van alle gewichtssystemen
|startPressure| (*string*) begindruk
|endPressure| (*string*) einddruk
|firstGas| (*string*) eerst gebruikte gas
|=====================

_Subsurface_ exporteert ook *template_options* data. Deze data moet als  _CSS_ waarden
worden gebruikt om een dynamisch sjabloon te verkrijgen. De geëxporteerde data
staat in de volgende tabel:

|====================
|*Naam*|*Beschrijving*
|font| (*string*) font family
|borderwidth| (*int*) border-width value dynamically calculated as 0.1% of the page width with minimum value of 1px
|font_size| (*double*) size of fonts in vw, ranges between 1.0 and 2.0
|line_spacing| (*double*) distance between text lines, ranges between 1.0 and 3.0
|color1| (*string*) background color
|color2| (*string*) primary table cell color
|color3| (*string*) secondary table cell color
|color4| (*string*) primary text color
|color5| (*string*) secondary text color
|color6| (*string*) border colors
|=====================

.template.html
....
	border-width: {{ template_options.borderwidth }}px;
....

.output.html
....
	border-width: 3px;
....

Een andere variabele die _Subsurface_ exporteert is *print_options*. Deze variabele
heeft één enkel lid:

|=====================
|*Naam*|*Beschrijving*
|grayscale | Gebruik _CSS_ filters om de pagina naar zwart-wit te converteren
(dient te worden toegevoegd aan de body style om zwart-wit te kunnen afdrukken).
|=====================


.template.html
....
	body {
		{{ print_options.grayscale }};
	}
....

.output.html
....
	body {
		-webkit-filter: grayscale(100%);
	}
....

=== Gedefinieerde CSS selectors
_Subsurface_ gebruikt de specifieke CSS selectors om in de HTML uitvoer te zoeken.
De volgende selectors moeten worden gebruikt:

|====================
|*Selector*|*Type*|*Beschrijving*
|dive_{{ dive.id }} | id | wordt gebruikt om het juiste duik profiel op te halen
|diveProfile | class | iedere duik die een profiel bevat dient deze class selector te
hebben (naast de dive_{{ dive.id }} selector)
|dontbreak | class | voorkomt dat een duik over twee pagina's wordt gesplitst. Dit kan
alleen in flow layout sjablonen (met data-numberofdives = 0) worden gebruikt.
|=====================

Belangrijk: Afdrukken van profielen met flow layout sjablonen (met data-numberofdives = 0) wordt
niet ondersteund.


=== Speciale attributen

Er zijn twee manieren om meerdere duiken op één pagina te krijgen. Met het
*data-numberofdives* data attribuut kan het aantal gewenste duiken per pagina
worden gekozen, of door deze op 0 te zetten, zoveel mogelijk op één pagina (flow
rendering).

Het *data-numberofdives* data attribuut wordt toegevoegd aan de body tag.

- druk 6 duiken per pagina af:

....
	<body data-numberofdives = 6>
....

- druk zoveel mogelijk duiken per pagina af:

....
	<body data-numberofdives = 0>
....

BELANGRIJK: Alle CSS eenheden dienen relatieve lengtes te bevatten om afdrukken op
willekeurige pagina formaten mogelijk te maken.


== Bijlage F: FAQs.
[[S_APPENDIX_F]]
=== _Subsurface_ lijkt rekenfouten te maken bij gas gebruik en SAC waarden
[[SAC_CALCULATION]]
'Vraag': Ik dook met een 12.2 l cilinder, met startdruk van 220 bar en einddruk van
100 bar, en mijn berekening van de SAC waarde levert een andere waarde dan de berekening
van _Subsurface_. Maakt _Subsurface_ rekenfouten?

'Antwoord': Niet echt. _Subsurface_ berekent gas gebruik op een andere, en betere
manier. Het neemt namelijk de samendrukbaarheid van gas mee in de berekening, iets dat
met een handmatige berekening meestal niet wordt gedaan. In meest eenvoudige vorm
is het aantal gebruikte liters ademgas tijdens een duik:

+consumptie = cilinder inhoud (L) x (begindruk - einddruk)+

en dit is waar voor een ideaal gas, en wordt meestal zo aangeleerd in duikopleidingen.
Maar een ideaal gas bestaat niet, en in werkelijkheid is de relatie tussen druk en
inhoud niet lineair. Ook gaat het voorbij aan het feit dat 1 atmosfeer (atm) niet precies
1 bar is.

Dus de echte berekening is:

+consumptie = (hoeveelheid_gas_aan_het_begin - hoeveelheid_gas_aan_het_eind)+

waar de hoeveelheid *niet* gewoon cilinder inhoud maal druk is. Het is een
combinatie van: "houd rekening met samendrukbaarheid" (dit is een kleine afwijking
onder 220 bar, maar neemt flink toe naar 300 bar en hoger), en "converteer bar naar atm"
(waar het grootste verschil door wordt veroorzaakt).
Ter herinnering: 1 atm is ~1.013 bar, dus zonder samendrukbaarheidsverschil is het
gasgebruik in het voorbeeld:

+12.2*((220-100)/1.013)+

en dit is ongeveer 1445 l en niet 1464 l. De eenvoudige berekening was dus 19 l
meer. Door de samendrukbaarheidsverschillen neemt de 1445 l met ongeveer 8 l
verder af; het gasgebruik was dus 1437 l aan de oppervlakte.

Dus wees blij: je SAC is beter dan met de eenvoudige berekening.
Of wees teleurgesteld: je cilinder bevatte minder gas dan je eerst dacht.
En zoals al gezegd, het "minder gas bevatten dan je dacht" is met name
relevant bij hoge drukken. 400 bar bevat echt niet 2x zoveel gas als 200 bar.
Bij lage drukken is lucht overigens bijna een ideaal gas.


=== Sommige duikprofielen hebben tijdsverschillen met de gegevens van mijn duikcomputer...

_Subsurface_ lijkt oppervlaktetijd te verwaarlozen in allerlei berekeningen (SAC, duiktijd,
gemiddelde diepte, enzovoort).
'Vraag':  Waarom verschilt de duikduur van mijn duikcomputer van de waarde die _Subsurface_ toont?

'Antwoord': Voorbeeld: je doet een korte controle of je juist bent uitgelood (diep genoeg
zodat je duikcomputer het vastlegt), komt terug aan de oppervlakte, wacht 5 minuten op je
buddies, en maak een duik totdat je duikcomputer 50 minuten aangeeft. _Subsurface_ vindt
dan dat je duikduur 45 minuten was, want je hebt 5 minuten aan de oppervlakte gewacht.
Nog duidelijker wordt het verschil als je lang in het water ligt als instructeur en
veel aan de oppervlakte komt voor uitleg en evaluatie. Misschien wel net zoveel tijd als
onder water.


=== Er ontbreken duiken tijdens het downloaden

[[DC_HISTORY]]
'Vraag': Ik kan minder duiken downloaden dan de handleiding van mijn
duikcomputer aangeeft?

'Antwoord': Duik historie is iets anders dan duikprofiel data beschikbaar.
De historie bevat bijvoorbeeld alleen maximum diepte, duiktijd, en datum van
de duik. Voor een gedetailleerd profiel zijn echter diverse metingen per
minuut noodzakelijk. De meeste duikcomputers verwijderen de oudste profiel
data op moment dat het geheugen vol is. Hoeveel duiken dat precies zijn
is natuurlijk ook afhankelijk van de duiktijd en meetfrequentie.

Als je duiken met andere logboek programmatuur gedownload hebt, is er goede
kans dat je deze data alsnog in Subsurface kan importeren. Natuurlijk
alleen als deze nog niet zijn overschreven door nieuwere duiken.
